
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Complete developer guide for the SAHOOL Agricultural Platform">
      
      
        <meta name="author" content="KAFAAT Team">
      
      
      
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>SAHOOL Platform - Production Deployment Guide - SAHOOL Developer Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="light-green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sahool-platform-production-deployment-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="SAHOOL Developer Documentation" class="md-header__button md-logo" aria-label="SAHOOL Developer Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SAHOOL Developer Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SAHOOL Platform - Production Deployment Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../index.md" class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../getting-started/installation.md" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../services/overview.md" class="md-tabs__link">
          
  
  
  Services

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../api/authentication/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../development/setup.md" class="md-tabs__link">
          
  
  
  Development

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../contributing/guidelines.md" class="md-tabs__link">
          
  
  
  Contributing

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="SAHOOL Developer Documentation" class="md-nav__button md-logo" aria-label="SAHOOL Developer Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    SAHOOL Developer Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/installation.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/quickstart.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/architecture.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Services
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Services
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/overview.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/starter.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Starter Package
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/professional.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Professional Package
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/enterprise.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Enterprise Package
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/field-ops.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Field Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/weather/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Weather
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/satellite.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Satellite
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/setup.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/testing.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/deployment.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Contributing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/guidelines.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Guidelines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/code-style.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Style
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="sahool-platform-production-deployment-guide">SAHOOL Platform - Production Deployment Guide<a class="headerlink" href="#sahool-platform-production-deployment-guide" title="Permanent link">&para;</a></h1>
<h1 id="-">Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ø´Ø± Ù„Ù„Ø¥Ù†ØªØ§Ø¬ - Ù…Ù†ØµØ© Ø³Ù‡ÙˆÙ„<a class="headerlink" href="#-" title="Permanent link">&para;</a></h1>
<p><strong>Version:</strong> v16.0.0<br />
<strong>Last Updated:</strong> 2026-01-05<br />
<strong>Status:</strong> Production Ready âœ…</p>
<hr />
<h2 id="overview">ğŸ“‹ Overview | Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>This comprehensive guide covers production deployment of the SAHOOL platform including:</p>
<ul>
<li>Environment configuration</li>
<li>Database setup and optimization</li>
<li>Security hardening</li>
<li>Monitoring and logging</li>
<li>Scaling strategies</li>
<li>Backup and disaster recovery</li>
</ul>
<p>Ù‡Ø°Ø§ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„ ÙŠØºØ·ÙŠ Ø§Ù„Ù†Ø´Ø± Ù„Ù„Ø¥Ù†ØªØ§Ø¬ Ù„Ù…Ù†ØµØ© Ø³Ù‡ÙˆÙ„ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ:</p>
<ul>
<li>ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø¨ÙŠØ¦Ø©</li>
<li>Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†</li>
<li>ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø£Ù…Ø§Ù†</li>
<li>Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ§Ù„Ø³Ø¬Ù„Ø§Øª</li>
<li>Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªÙˆØ³Ø¹</li>
<li>Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙˆØ§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ù…Ù† Ø§Ù„ÙƒÙˆØ§Ø±Ø«</li>
</ul>
<hr />
<h2 id="environment-variables-reference">ğŸ” Environment Variables Reference | Ù…Ø±Ø¬Ø¹ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©<a class="headerlink" href="#environment-variables-reference" title="Permanent link">&para;</a></h2>
<h3 id="core-database">Core Database | Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©<a class="headerlink" href="#core-database" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># PostgreSQL Configuration</span>
<span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">&quot;postgresql://sahool_user:STRONG_PASSWORD@postgres:5432/sahool_db&quot;</span>
<span class="nv">DATABASE_POOL_MIN</span><span class="o">=</span><span class="m">2</span><span class="w">          </span><span class="c1"># Minimum connection pool size</span>
<span class="nv">DATABASE_POOL_MAX</span><span class="o">=</span><span class="m">10</span><span class="w">         </span><span class="c1"># Maximum connection pool size</span>
<span class="nv">DATABASE_TIMEOUT</span><span class="o">=</span><span class="m">30000</span><span class="w">       </span><span class="c1"># Connection timeout (ms)</span>
<span class="nv">DATABASE_SSL_MODE</span><span class="o">=</span><span class="s2">&quot;require&quot;</span><span class="w">  </span><span class="c1"># SSL mode for production</span>
<span class="nv">DATABASE_STATEMENT_TIMEOUT</span><span class="o">=</span><span class="m">30000</span><span class="w">  </span><span class="c1"># Query timeout (ms)</span>

<span class="c1"># PgBouncer Connection Pooler</span>
<span class="nv">PGBOUNCER_POOL_MODE</span><span class="o">=</span><span class="s2">&quot;transaction&quot;</span><span class="w">  </span><span class="c1"># or &quot;session&quot;</span>
<span class="nv">PGBOUNCER_MAX_CLIENT_CONN</span><span class="o">=</span><span class="m">100</span>
<span class="nv">PGBOUNCER_DEFAULT_POOL_SIZE</span><span class="o">=</span><span class="m">20</span>
</code></pre></div>

<h3 id="security-authentication">Security &amp; Authentication | Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ù…ØµØ§Ø¯Ù‚Ø©<a class="headerlink" href="#security-authentication" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># JWT Configuration</span>
<span class="nv">JWT_SECRET</span><span class="o">=</span><span class="s2">&quot;GENERATE_STRONG_SECRET_KEY_MINIMUM_32_CHARS&quot;</span>
<span class="nv">JWT_ALGORITHM</span><span class="o">=</span><span class="s2">&quot;RS256&quot;</span><span class="w">        </span><span class="c1"># Recommended for production</span>
<span class="nv">JWT_EXPIRY</span><span class="o">=</span><span class="s2">&quot;3600&quot;</span><span class="w">           </span><span class="c1"># Access token: 1 hour</span>
<span class="nv">REFRESH_TOKEN_EXPIRY</span><span class="o">=</span><span class="s2">&quot;604800&quot;</span><span class="w">  </span><span class="c1"># Refresh token: 7 days</span>

<span class="c1"># Encryption</span>
<span class="nv">ENCRYPTION_KEY</span><span class="o">=</span><span class="s2">&quot;GENERATE_32_BYTE_KEY&quot;</span><span class="w">  </span><span class="c1"># AES-256 requires 32 bytes</span>
<span class="nv">ENCRYPTION_ALGORITHM</span><span class="o">=</span><span class="s2">&quot;AES-256-GCM&quot;</span>

<span class="c1"># Password Policy</span>
<span class="nv">MIN_PASSWORD_LENGTH</span><span class="o">=</span><span class="m">12</span>
<span class="nv">REQUIRE_UPPERCASE</span><span class="o">=</span><span class="nb">true</span>
<span class="nv">REQUIRE_LOWERCASE</span><span class="o">=</span><span class="nb">true</span>
<span class="nv">REQUIRE_NUMBERS</span><span class="o">=</span><span class="nb">true</span>
<span class="nv">REQUIRE_SPECIAL_CHARS</span><span class="o">=</span><span class="nb">true</span>

<span class="c1"># Security Headers (Already implemented in middleware)</span>
<span class="nv">ENABLE_HSTS</span><span class="o">=</span><span class="nb">true</span><span class="w">            </span><span class="c1"># Enforce HTTPS</span>
<span class="nv">ENABLE_CSP</span><span class="o">=</span><span class="nb">true</span><span class="w">             </span><span class="c1"># Content Security Policy</span>
<span class="nv">ENABLE_FRAME_PROTECTION</span><span class="o">=</span><span class="nb">true</span>
</code></pre></div>

<h3 id="api-gateway-kong-api">API Gateway (Kong) | Ø¨ÙˆØ§Ø¨Ø© API<a class="headerlink" href="#api-gateway-kong-api" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Kong Configuration</span>
<span class="nv">KONG_ADMIN_URL</span><span class="o">=</span><span class="s2">&quot;http://kong:8001&quot;</span>
<span class="nv">KONG_PROXY_URL</span><span class="o">=</span><span class="s2">&quot;http://kong:8000&quot;</span>
<span class="nv">KONG_DATABASE</span><span class="o">=</span><span class="s2">&quot;postgres&quot;</span>
<span class="nv">KONG_PG_HOST</span><span class="o">=</span><span class="s2">&quot;postgres&quot;</span>
<span class="nv">KONG_PG_PORT</span><span class="o">=</span><span class="m">5432</span>
<span class="nv">KONG_PG_USER</span><span class="o">=</span><span class="s2">&quot;kong_user&quot;</span>
<span class="nv">KONG_PG_PASSWORD</span><span class="o">=</span><span class="s2">&quot;KONG_DB_PASSWORD&quot;</span>
<span class="nv">KONG_PG_DATABASE</span><span class="o">=</span><span class="s2">&quot;kong_db&quot;</span>

<span class="c1"># Rate Limiting (Default Tiers)</span>
<span class="nv">RATE_LIMIT_TIER_FREE</span><span class="o">=</span><span class="s2">&quot;100/hour&quot;</span>
<span class="nv">RATE_LIMIT_TIER_BASIC</span><span class="o">=</span><span class="s2">&quot;1000/hour&quot;</span>
<span class="nv">RATE_LIMIT_TIER_PRO</span><span class="o">=</span><span class="s2">&quot;10000/hour&quot;</span>
<span class="nv">RATE_LIMIT_TIER_ENTERPRISE</span><span class="o">=</span><span class="s2">&quot;unlimited&quot;</span>
</code></pre></div>

<h3 id="event-bus-nats">Event Bus (NATS) | Ù†Ø§Ù‚Ù„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«<a class="headerlink" href="#event-bus-nats" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># NATS Configuration</span>
<span class="nv">NATS_URL</span><span class="o">=</span><span class="s2">&quot;nats://nats:4222&quot;</span>
<span class="nv">NATS_CLUSTER_URL</span><span class="o">=</span><span class="s2">&quot;nats://nats:6222&quot;</span>
<span class="nv">NATS_USER</span><span class="o">=</span><span class="s2">&quot;sahool_nats&quot;</span>
<span class="nv">NATS_PASSWORD</span><span class="o">=</span><span class="s2">&quot;NATS_PASSWORD&quot;</span>
<span class="nv">NATS_MAX_RECONNECT_ATTEMPTS</span><span class="o">=</span><span class="m">10</span>
<span class="nv">NATS_RECONNECT_TIME_WAIT</span><span class="o">=</span><span class="m">2000</span><span class="w">  </span><span class="c1"># ms</span>
</code></pre></div>

<h3 id="caching-redis">Caching (Redis) | Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª<a class="headerlink" href="#caching-redis" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Redis Configuration</span>
<span class="nv">REDIS_URL</span><span class="o">=</span><span class="s2">&quot;redis://redis:6379/0&quot;</span>
<span class="nv">REDIS_PASSWORD</span><span class="o">=</span><span class="s2">&quot;STRONG_REDIS_PASSWORD&quot;</span>
<span class="nv">REDIS_MAX_RETRIES</span><span class="o">=</span><span class="m">3</span>
<span class="nv">REDIS_CONNECT_TIMEOUT</span><span class="o">=</span><span class="m">10000</span><span class="w">  </span><span class="c1"># ms</span>
<span class="nv">REDIS_COMMAND_TIMEOUT</span><span class="o">=</span><span class="m">5000</span><span class="w">   </span><span class="c1"># ms</span>

<span class="c1"># Redis Sentinel (for HA)</span>
<span class="nv">REDIS_SENTINEL_HOSTS</span><span class="o">=</span><span class="s2">&quot;sentinel1:26379,sentinel2:26379,sentinel3:26379&quot;</span>
<span class="nv">REDIS_SENTINEL_MASTER</span><span class="o">=</span><span class="s2">&quot;sahool-master&quot;</span>
</code></pre></div>

<h3 id="object-storage-minio">Object Storage (MinIO) | ØªØ®Ø²ÙŠÙ† Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª<a class="headerlink" href="#object-storage-minio" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># MinIO Configuration</span>
<span class="nv">MINIO_ENDPOINT</span><span class="o">=</span><span class="s2">&quot;minio:9000&quot;</span>
<span class="nv">MINIO_ACCESS_KEY</span><span class="o">=</span><span class="s2">&quot;MINIO_ACCESS_KEY_MIN_24_CHARS&quot;</span><span class="w">  </span><span class="c1"># Recommended: 24+ chars (192 bits)</span>
<span class="nv">MINIO_SECRET_KEY</span><span class="o">=</span><span class="s2">&quot;MINIO_SECRET_KEY_MIN_48_CHARS&quot;</span><span class="w">  </span><span class="c1"># Recommended: 48+ chars (384 bits)</span>
<span class="nv">MINIO_BUCKET</span><span class="o">=</span><span class="s2">&quot;sahool-storage&quot;</span>
<span class="nv">MINIO_USE_SSL</span><span class="o">=</span><span class="nb">true</span>
<span class="nv">MINIO_REGION</span><span class="o">=</span><span class="s2">&quot;us-east-1&quot;</span>
</code></pre></div>

<h3 id="external-services">External Services | Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©<a class="headerlink" href="#external-services" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Email (SMTP)</span>
<span class="nv">SMTP_HOST</span><span class="o">=</span><span class="s2">&quot;smtp.example.com&quot;</span>
<span class="nv">SMTP_PORT</span><span class="o">=</span><span class="m">587</span>
<span class="nv">SMTP_SECURE</span><span class="o">=</span><span class="nb">true</span><span class="w">  </span><span class="c1"># Use TLS</span>
<span class="nv">SMTP_USER</span><span class="o">=</span><span class="s2">&quot;noreply@sahool.com&quot;</span>
<span class="nv">SMTP_PASSWORD</span><span class="o">=</span><span class="s2">&quot;SMTP_PASSWORD&quot;</span>
<span class="nv">SMTP_FROM_NAME</span><span class="o">=</span><span class="s2">&quot;SAHOOL Platform&quot;</span>
<span class="nv">SMTP_FROM_EMAIL</span><span class="o">=</span><span class="s2">&quot;noreply@sahool.com&quot;</span>

<span class="c1"># SMS Provider (Twilio)</span>
<span class="nv">SMS_PROVIDER</span><span class="o">=</span><span class="s2">&quot;twilio&quot;</span>
<span class="nv">TWILIO_ACCOUNT_SID</span><span class="o">=</span><span class="s2">&quot;YOUR_ACCOUNT_SID&quot;</span>
<span class="nv">TWILIO_AUTH_TOKEN</span><span class="o">=</span><span class="s2">&quot;YOUR_AUTH_TOKEN&quot;</span>
<span class="nv">TWILIO_PHONE_NUMBER</span><span class="o">=</span><span class="s2">&quot;+1234567890&quot;</span>

<span class="c1"># Maps &amp; Geocoding</span>
<span class="nv">GOOGLE_MAPS_API_KEY</span><span class="o">=</span><span class="s2">&quot;YOUR_GOOGLE_MAPS_KEY&quot;</span>
<span class="nv">MAPBOX_ACCESS_TOKEN</span><span class="o">=</span><span class="s2">&quot;YOUR_MAPBOX_TOKEN&quot;</span>

<span class="c1"># Satellite Imagery</span>
<span class="nv">SENTINEL_HUB_CLIENT_ID</span><span class="o">=</span><span class="s2">&quot;YOUR_CLIENT_ID&quot;</span>
<span class="nv">SENTINEL_HUB_CLIENT_SECRET</span><span class="o">=</span><span class="s2">&quot;YOUR_CLIENT_SECRET&quot;</span>
</code></pre></div>

<h3 id="monitoring-logging">Monitoring &amp; Logging | Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ§Ù„Ø³Ø¬Ù„Ø§Øª<a class="headerlink" href="#monitoring-logging" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Application Logging</span>
<span class="nv">LOG_LEVEL</span><span class="o">=</span><span class="s2">&quot;info&quot;</span><span class="w">  </span><span class="c1"># debug, info, warn, error</span>
<span class="nv">LOG_FORMAT</span><span class="o">=</span><span class="s2">&quot;json&quot;</span><span class="w">  </span><span class="c1"># or &quot;text&quot;</span>
<span class="nv">LOG_OUTPUT</span><span class="o">=</span><span class="s2">&quot;stdout&quot;</span><span class="w">  </span><span class="c1"># or file path</span>

<span class="c1"># Prometheus Metrics</span>
<span class="nv">ENABLE_METRICS</span><span class="o">=</span><span class="nb">true</span>
<span class="nv">METRICS_PORT</span><span class="o">=</span><span class="m">9090</span>
<span class="nv">METRICS_PATH</span><span class="o">=</span><span class="s2">&quot;/metrics&quot;</span>

<span class="c1"># Sentry Error Tracking</span>
<span class="nv">SENTRY_DSN</span><span class="o">=</span><span class="s2">&quot;https://your-sentry-dsn@sentry.io/project&quot;</span>
<span class="nv">SENTRY_ENVIRONMENT</span><span class="o">=</span><span class="s2">&quot;production&quot;</span>
<span class="nv">SENTRY_TRACES_SAMPLE_RATE</span><span class="o">=</span><span class="m">0</span>.1<span class="w">  </span><span class="c1"># 10% of transactions</span>

<span class="c1"># OpenTelemetry (Optional)</span>
<span class="nv">OTEL_EXPORTER_OTLP_ENDPOINT</span><span class="o">=</span><span class="s2">&quot;http://otel-collector:4318&quot;</span>
<span class="nv">OTEL_SERVICE_NAME</span><span class="o">=</span><span class="s2">&quot;sahool-platform&quot;</span>
</code></pre></div>

<hr />
<h2 id="database-migration-strategy">ğŸ”„ Database Migration Strategy | Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ØªØ±Ø­ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª<a class="headerlink" href="#database-migration-strategy" title="Permanent link">&para;</a></h2>
<h3 id="pre-production-checklist">Pre-Production Checklist | Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ù†ØªØ§Ø¬<a class="headerlink" href="#pre-production-checklist" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># 1. Test migrations in staging</span>
psql<span class="w"> </span>-U<span class="w"> </span>sahool_user<span class="w"> </span>-d<span class="w"> </span>sahool_staging<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-f<span class="w"> </span>infrastructure/core/postgres/migrations/V20260105__add_additional_improvements.sql

<span class="c1"># 2. Create database backup</span>
pg_dump<span class="w"> </span>-U<span class="w"> </span>sahool_user<span class="w"> </span>sahool_db<span class="w"> </span><span class="p">|</span><span class="w"> </span>gzip<span class="w"> </span>&gt;<span class="w"> </span>backup_pre_migration_<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>.sql.gz

<span class="c1"># 3. Verify backup</span>
gunzip<span class="w"> </span>-c<span class="w"> </span>backup_pre_migration_*.sql.gz<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-100

<span class="c1"># 4. Run migrations with rollback plan ready</span>
psql<span class="w"> </span>-U<span class="w"> </span>sahool_user<span class="w"> </span>-d<span class="w"> </span>sahool_db<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-f<span class="w"> </span>infrastructure/core/postgres/migrations/V20260105__add_additional_improvements.sql

<span class="c1"># 5. Verify indexes were created</span>
psql<span class="w"> </span>-U<span class="w"> </span>sahool_user<span class="w"> </span>-d<span class="w"> </span>sahool_db<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">SELECT</span>
<span class="s2">  schemaname,</span>
<span class="s2">  tablename,</span>
<span class="s2">  indexname,</span>
<span class="s2">  indexdef</span>
<span class="s2">FROM pg_indexes</span>
<span class="s2">WHERE indexname LIKE &#39;idx_%_metadata_gin&#39;</span>
<span class="s2">   OR indexname LIKE &#39;idx_sensor_readings_tenant_time&#39;</span>
<span class="s2">ORDER BY tablename, indexname;</span>
<span class="s2">&quot;</span>
</code></pre></div>

<hr />
<h2 id="production-deployment-steps">ğŸš€ Production Deployment Steps | Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù†Ø´Ø± Ù„Ù„Ø¥Ù†ØªØ§Ø¬<a class="headerlink" href="#production-deployment-steps" title="Permanent link">&para;</a></h2>
<h3 id="step-1-prepare-infrastructure-1">Step 1: Prepare Infrastructure | Ø§Ù„Ø®Ø·ÙˆØ© 1: ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ©<a class="headerlink" href="#step-1-prepare-infrastructure-1" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Create production namespace (Kubernetes)</span>
kubectl<span class="w"> </span>create<span class="w"> </span>namespace<span class="w"> </span>sahool-prod

<span class="c1"># Create secrets with enhanced security</span>
kubectl<span class="w"> </span>create<span class="w"> </span>secret<span class="w"> </span>generic<span class="w"> </span>sahool-secrets<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--from-literal<span class="o">=</span>jwt-secret<span class="o">=</span><span class="k">$(</span>openssl<span class="w"> </span>rand<span class="w"> </span>-hex<span class="w"> </span><span class="m">32</span><span class="k">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--from-literal<span class="o">=</span>db-password<span class="o">=</span><span class="k">$(</span>openssl<span class="w"> </span>rand<span class="w"> </span>-base64<span class="w"> </span><span class="m">32</span><span class="k">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--from-literal<span class="o">=</span>redis-password<span class="o">=</span><span class="k">$(</span>openssl<span class="w"> </span>rand<span class="w"> </span>-base64<span class="w"> </span><span class="m">32</span><span class="k">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--from-literal<span class="o">=</span>minio-access-key<span class="o">=</span><span class="k">$(</span>openssl<span class="w"> </span>rand<span class="w"> </span>-hex<span class="w"> </span><span class="m">24</span><span class="k">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--from-literal<span class="o">=</span>minio-secret-key<span class="o">=</span><span class="k">$(</span>openssl<span class="w"> </span>rand<span class="w"> </span>-hex<span class="w"> </span><span class="m">48</span><span class="k">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-n<span class="w"> </span>sahool-prod
</code></pre></div>

<h3 id="step-2-deploy-database-2">Step 2: Deploy Database | Ø§Ù„Ø®Ø·ÙˆØ© 2: Ù†Ø´Ø± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª<a class="headerlink" href="#step-2-deploy-database-2" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Deploy PostgreSQL with PostGIS</span>
helm<span class="w"> </span>install<span class="w"> </span>postgresql<span class="w"> </span>bitnami/postgresql<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--namespace<span class="w"> </span>sahool-prod<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span>auth.username<span class="o">=</span>sahool_user<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span>auth.password<span class="o">=</span><span class="nv">$DB_PASSWORD</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span>auth.database<span class="o">=</span>sahool_db<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span>primary.persistence.size<span class="o">=</span>100Gi<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span>primary.resources.requests.memory<span class="o">=</span>4Gi<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span>primary.resources.requests.cpu<span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--set<span class="w"> </span>image.tag<span class="o">=</span><span class="m">15</span>

<span class="c1"># Install PostGIS extension</span>
kubectl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>postgresql-0<span class="w"> </span>-n<span class="w"> </span>sahool-prod<span class="w"> </span>--<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>psql<span class="w"> </span>-U<span class="w"> </span>sahool_user<span class="w"> </span>-d<span class="w"> </span>sahool_db<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">  CREATE EXTENSION IF NOT EXISTS \&quot;uuid-ossp\&quot;;</span>
<span class="s2">  CREATE EXTENSION IF NOT EXISTS \&quot;postgis\&quot;;</span>
<span class="s2">  CREATE EXTENSION IF NOT EXISTS \&quot;postgis_topology\&quot;;</span>
<span class="s2">&quot;</span>
</code></pre></div>

<h3 id="step-3-run-migrations-3">Step 3: Run Migrations | Ø§Ù„Ø®Ø·ÙˆØ© 3: ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ±Ø­ÙŠÙ„Ø§Øª<a class="headerlink" href="#step-3-run-migrations-3" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Create migration job</span>
kubectl<span class="w"> </span>create<span class="w"> </span>job<span class="w"> </span>db-migrate<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--image<span class="o">=</span>sahool/migration-tool:latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--namespace<span class="w"> </span>sahool-prod<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--<span class="w"> </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;npm run db:migrate&quot;</span>

<span class="c1"># Monitor migration</span>
kubectl<span class="w"> </span>logs<span class="w"> </span>-f<span class="w"> </span>job/db-migrate<span class="w"> </span>-n<span class="w"> </span>sahool-prod
</code></pre></div>

<h3 id="step-4-deploy-services-4">Step 4: Deploy Services | Ø§Ù„Ø®Ø·ÙˆØ© 4: Ù†Ø´Ø± Ø§Ù„Ø®Ø¯Ù…Ø§Øª<a class="headerlink" href="#step-4-deploy-services-4" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Deploy using Helm</span>
helm<span class="w"> </span>install<span class="w"> </span>sahool-prod<span class="w"> </span>./helm/sahool<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--namespace<span class="w"> </span>sahool-prod<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--values<span class="w"> </span>helm/values.prod.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--wait<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--timeout<span class="w"> </span>10m

<span class="c1"># Verify deployment</span>
kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>sahool-prod
kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>sahool-prod
</code></pre></div>

<h3 id="step-5-configure-ingress-5-ingress">Step 5: Configure Ingress | Ø§Ù„Ø®Ø·ÙˆØ© 5: ØªÙƒÙˆÙŠÙ† Ingress<a class="headerlink" href="#step-5-configure-ingress-5-ingress" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Apply ingress configuration</span>
kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>helm/ingress.prod.yaml<span class="w"> </span>-n<span class="w"> </span>sahool-prod

<span class="c1"># Verify ingress</span>
kubectl<span class="w"> </span>get<span class="w"> </span>ingress<span class="w"> </span>-n<span class="w"> </span>sahool-prod
</code></pre></div>

<hr />
<h2 id="performance-optimization">ğŸ“Š Performance Optimization | ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡<a class="headerlink" href="#performance-optimization" title="Permanent link">&para;</a></h2>
<h3 id="database-optimization">Database Optimization | ØªØ­Ø³ÙŠÙ† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª<a class="headerlink" href="#database-optimization" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">-- Monitor index usage</span>
<span class="k">SELECT</span>
<span class="w">  </span><span class="n">schemaname</span><span class="p">,</span>
<span class="w">  </span><span class="n">tablename</span><span class="p">,</span>
<span class="w">  </span><span class="n">indexname</span><span class="p">,</span>
<span class="w">  </span><span class="n">idx_scan</span><span class="p">,</span>
<span class="w">  </span><span class="n">idx_tup_read</span><span class="p">,</span>
<span class="w">  </span><span class="n">idx_tup_fetch</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">pg_stat_user_indexes</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">idx_scan</span><span class="w"> </span><span class="k">DESC</span>
<span class="k">LIMIT</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="c1">-- Analyze table statistics</span>
<span class="k">ANALYZE</span><span class="w"> </span><span class="n">geo</span><span class="p">.</span><span class="n">fields</span><span class="p">;</span>
<span class="k">ANALYZE</span><span class="w"> </span><span class="n">inventory_items</span><span class="p">;</span>
<span class="k">ANALYZE</span><span class="w"> </span><span class="n">sensor_readings</span><span class="p">;</span>

<span class="c1">-- Vacuum to reclaim space</span>
<span class="k">VACUUM</span><span class="w"> </span><span class="k">ANALYZE</span><span class="p">;</span>

<span class="c1">-- Check bloat</span>
<span class="k">SELECT</span>
<span class="w">  </span><span class="n">schemaname</span><span class="p">,</span>
<span class="w">  </span><span class="n">tablename</span><span class="p">,</span>
<span class="w">  </span><span class="n">pg_size_pretty</span><span class="p">(</span><span class="n">pg_total_relation_size</span><span class="p">(</span><span class="n">schemaname</span><span class="o">||</span><span class="s1">&#39;.&#39;</span><span class="o">||</span><span class="n">tablename</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">size</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">pg_tables</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">schemaname</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;pg_catalog&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;information_schema&#39;</span><span class="p">)</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">pg_total_relation_size</span><span class="p">(</span><span class="n">schemaname</span><span class="o">||</span><span class="s1">&#39;.&#39;</span><span class="o">||</span><span class="n">tablename</span><span class="p">)</span><span class="w"> </span><span class="k">DESC</span>
<span class="k">LIMIT</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</code></pre></div>

<h3 id="connection-pooling">Connection Pooling | ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª<a class="headerlink" href="#connection-pooling" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># PgBouncer configuration (config/pgbouncer.ini)</span>
<span class="k">[databases]</span>
<span class="na">sahool_db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">host=postgres port=5432 dbname=sahool_db</span>

<span class="k">[pgbouncer]</span>
<span class="na">pool_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">transaction</span>
<span class="na">max_client_conn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1000</span>
<span class="na">default_pool_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">25</span>
<span class="na">reserve_pool_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">5</span>
<span class="na">reserve_pool_timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">3</span>
<span class="na">max_db_connections</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">100</span>
</code></pre></div>

<hr />
<h2 id="monitoring-alerting">ğŸ” Monitoring &amp; Alerting | Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª<a class="headerlink" href="#monitoring-alerting" title="Permanent link">&para;</a></h2>
<h3 id="health-check-endpoints">Health Check Endpoints | Ù†Ù‚Ø§Ø· ÙØ­Øµ Ø§Ù„ØµØ­Ø©<a class="headerlink" href="#health-check-endpoints" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Kong Gateway</span>
curl<span class="w"> </span>http://localhost:8000/health

<span class="c1"># Field Service</span>
curl<span class="w"> </span>http://localhost:8095/health

<span class="c1"># User Service</span>
curl<span class="w"> </span>http://localhost:8096/health

<span class="c1"># Database</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>postgres<span class="w"> </span>pg_isready<span class="w"> </span>-U<span class="w"> </span>sahool_user
</code></pre></div>

<h3 id="prometheus-queries-prometheus">Prometheus Queries | Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Prometheus<a class="headerlink" href="#prometheus-queries-prometheus" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Request rate</span>
<span class="kr">rate</span><span class="o">(</span><span class="nv">http_requests_total</span><span class="p">[</span><span class="s">5m</span><span class="p">]</span><span class="o">)</span>

<span class="c1"># Error rate</span>
<span class="kr">rate</span><span class="o">(</span><span class="nv">http_requests_total</span><span class="p">{</span><span class="nl">status</span><span class="o">=~</span><span class="p">&quot;</span><span class="s">5..</span><span class="p">&quot;}[</span><span class="s">5m</span><span class="p">]</span><span class="o">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="kr">rate</span><span class="o">(</span><span class="nv">http_requests_total</span><span class="p">[</span><span class="s">5m</span><span class="p">]</span><span class="o">)</span>

<span class="c1"># Response time (95th percentile)</span>
<span class="kr">histogram_quantile</span><span class="o">(</span><span class="mf">0.95</span><span class="p">,</span><span class="w"> </span><span class="kr">rate</span><span class="o">(</span><span class="nv">http_request_duration_seconds_bucket</span><span class="p">[</span><span class="s">5m</span><span class="p">]</span><span class="o">))</span>

<span class="c1"># Database connections</span>
<span class="nv">pg_stat_database_numbackends</span>

<span class="c1"># Memory usage</span>
<span class="nv">container_memory_usage_bytes</span>
</code></pre></div>

<hr />
<h2 id="backup-recovery">ğŸ”„ Backup &amp; Recovery | Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙˆØ§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯<a class="headerlink" href="#backup-recovery" title="Permanent link">&para;</a></h2>
<h3 id="automated-backups">Automated Backups | Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„Ø¢Ù„ÙŠ<a class="headerlink" href="#automated-backups" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Create backup script</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>/usr/local/bin/sahool-backup.sh<span class="w"> </span><span class="s">&lt;&lt; &#39;SCRIPT&#39;</span>
<span class="s">#!/bin/bash</span>
<span class="s">set -e</span>

<span class="s">BACKUP_DIR=&quot;/var/backups/sahool&quot;</span>
<span class="s">DATE=$(date +%Y%m%d_%H%M%S)</span>
<span class="s">RETENTION_DAYS=7</span>

<span class="s"># Create backup directory</span>
<span class="s">mkdir -p $BACKUP_DIR</span>

<span class="s"># Backup database</span>
<span class="s">echo &quot;Creating database backup...&quot;</span>
<span class="s">pg_dump -U sahool_user -h localhost sahool_db | \</span>
<span class="s">  gzip &gt; $BACKUP_DIR/sahool_db_$DATE.sql.gz</span>

<span class="s"># Backup to S3 (optional)</span>
<span class="s">if command -v aws &amp;&gt; /dev/null; then</span>
<span class="s">  aws s3 cp $BACKUP_DIR/sahool_db_$DATE.sql.gz \</span>
<span class="s">    s3://sahool-backups/database/</span>
<span class="s">fi</span>

<span class="s"># Clean old backups</span>
<span class="s">find $BACKUP_DIR -name &quot;sahool_db_*.sql.gz&quot; -mtime +$RETENTION_DAYS -delete</span>

<span class="s">echo &quot;Backup completed: sahool_db_$DATE.sql.gz&quot;</span>
<span class="s">SCRIPT</span>

chmod<span class="w"> </span>+x<span class="w"> </span>/usr/local/bin/sahool-backup.sh

<span class="c1"># Add to crontab (daily at 2 AM)</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;0 2 * * * /usr/local/bin/sahool-backup.sh &gt;&gt; /var/log/sahool-backup.log 2&gt;&amp;1&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>crontab<span class="w"> </span>-
</code></pre></div>

<h3 id="point-in-time-recovery">Point-in-Time Recovery | Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ù„Ù†Ù‚Ø·Ø© Ø²Ù…Ù†ÙŠØ©<a class="headerlink" href="#point-in-time-recovery" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Enable WAL archiving in postgresql.conf</span>
cat<span class="w"> </span>&gt;&gt;<span class="w"> </span>/etc/postgresql/15/main/postgresql.conf<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">wal_level = replica</span>
<span class="s">archive_mode = on</span>
<span class="s">archive_command = &#39;cp %p /var/lib/postgresql/wal_archive/%f&#39;</span>
<span class="s">archive_timeout = 300</span>
<span class="s">EOF</span>

<span class="c1"># Restart PostgreSQL</span>
systemctl<span class="w"> </span>restart<span class="w"> </span>postgresql
</code></pre></div>

<hr />
<h2 id="scaling-guidelines">ğŸ“ˆ Scaling Guidelines | Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„ØªÙˆØ³Ø¹<a class="headerlink" href="#scaling-guidelines" title="Permanent link">&para;</a></h2>
<h3 id="auto-scaling-configuration">Auto-Scaling Configuration | ØªÙƒÙˆÙŠÙ† Ø§Ù„ØªÙˆØ³Ø¹ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ<a class="headerlink" href="#auto-scaling-configuration" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Kubernetes HPA (Horizontal Pod Autoscaler)</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">autoscaling/v2</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HorizontalPodAutoscaler</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">field-service-hpa</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sahool-prod</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">scaleTargetRef</span><span class="p">:</span>
<span class="w">    </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="w">    </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">field-service</span>
<span class="w">  </span><span class="nt">minReplicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">  </span><span class="nt">maxReplicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">  </span><span class="nt">metrics</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Resource</span>
<span class="w">      </span><span class="nt">resource</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cpu</span>
<span class="w">        </span><span class="nt">target</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Utilization</span>
<span class="w">          </span><span class="nt">averageUtilization</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">70</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Resource</span>
<span class="w">      </span><span class="nt">resource</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">memory</span>
<span class="w">        </span><span class="nt">target</span><span class="p">:</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Utilization</span>
<span class="w">          </span><span class="nt">averageUtilization</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>

<h3 id="load-testing">Load Testing | Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø­Ù…Ù„<a class="headerlink" href="#load-testing" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Using Apache Bench</span>
ab<span class="w"> </span>-n<span class="w"> </span><span class="m">10000</span><span class="w"> </span>-c<span class="w"> </span><span class="m">100</span><span class="w"> </span>http://api.sahool.com/health

<span class="c1"># Using k6</span>
k6<span class="w"> </span>run<span class="w"> </span>--vus<span class="w"> </span><span class="m">100</span><span class="w"> </span>--duration<span class="w"> </span>5m<span class="w"> </span>tests/load-test.js
</code></pre></div>

<hr />
<h2 id="security-hardening">ğŸ›¡ï¸ Security Hardening | ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø£Ù…Ø§Ù†<a class="headerlink" href="#security-hardening" title="Permanent link">&para;</a></h2>
<h3 id="network-policies">Network Policies | Ø³ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©<a class="headerlink" href="#network-policies" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NetworkPolicy</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">field-service-network-policy</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sahool-prod</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">podSelector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">field-service</span>
<span class="w">  </span><span class="nt">policyTypes</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Egress</span>
<span class="w">  </span><span class="nt">ingress</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">from</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">podSelector</span><span class="p">:</span>
<span class="w">            </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">              </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kong</span>
<span class="w">      </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">          </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8095</span>
<span class="w">  </span><span class="nt">egress</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">to</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">podSelector</span><span class="p">:</span>
<span class="w">            </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">              </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgres</span>
<span class="w">      </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">          </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5432</span>
</code></pre></div>

<h3 id="security-scanning">Security Scanning | ÙØ­Øµ Ø§Ù„Ø£Ù…Ø§Ù†<a class="headerlink" href="#security-scanning" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Scan Docker images for vulnerabilities</span>
trivy<span class="w"> </span>image<span class="w"> </span>sahool/field-service:latest

<span class="c1"># Scan Kubernetes manifests</span>
trivy<span class="w"> </span>config<span class="w"> </span>helm/

<span class="c1"># Runtime security with Falco (optional)</span>
helm<span class="w"> </span>install<span class="w"> </span>falco<span class="w"> </span>falcosecurity/falco<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--namespace<span class="w"> </span>falco<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--create-namespace
</code></pre></div>

<hr />
<h2 id="troubleshooting-guide">ğŸ”§ Troubleshooting Guide | Ø¯Ù„ÙŠÙ„ Ø­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„<a class="headerlink" href="#troubleshooting-guide" title="Permanent link">&para;</a></h2>
<h3 id="common-issues">Common Issues | Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©<a class="headerlink" href="#common-issues" title="Permanent link">&para;</a></h3>
<h4 id="high-database-load">High Database Load | Ø­Ù…Ù„ Ø¹Ø§Ù„ÙŠ Ø¹Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª<a class="headerlink" href="#high-database-load" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="c1">-- Find slow queries</span>
<span class="k">SELECT</span>
<span class="w">  </span><span class="n">pid</span><span class="p">,</span>
<span class="w">  </span><span class="n">now</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">pg_stat_activity</span><span class="p">.</span><span class="n">query_start</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">duration</span><span class="p">,</span>
<span class="w">  </span><span class="n">query</span><span class="p">,</span>
<span class="w">  </span><span class="k">state</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">pg_stat_activity</span>
<span class="k">WHERE</span><span class="w"> </span><span class="k">state</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">&#39;idle&#39;</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>

<span class="c1">-- Terminate long-running query</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">pg_terminate_backend</span><span class="p">(</span><span class="n">pid</span><span class="p">);</span>
</code></pre></div>

<h4 id="memory-issues">Memory Issues | Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø°Ø§ÙƒØ±Ø©<a class="headerlink" href="#memory-issues" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="c1"># Check memory usage</span>
kubectl<span class="w"> </span>top<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>sahool-prod

<span class="c1"># Increase memory limit</span>
kubectl<span class="w"> </span><span class="nb">set</span><span class="w"> </span>resources<span class="w"> </span>deployment<span class="w"> </span>field-service<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--limits<span class="o">=</span><span class="nv">memory</span><span class="o">=</span>2Gi<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-n<span class="w"> </span>sahool-prod
</code></pre></div>

<hr />
<h2 id="references">ğŸ“š References | Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../HIGH_PRIORITY_FIXES_IMPLEMENTATION.md">High Priority Fixes Implementation</a></li>
<li><a href="../GAPS_AND_RECOMMENDATIONS.md">Gaps and Recommendations</a></li>
<li><a href="../RATE_LIMITING/">Rate Limiting Documentation</a></li>
<li><a href="../shared/middleware/RATE_LIMITING_GUIDE.md">Rate Limiting Guide</a></li>
<li><a href="../shared/middleware/security_headers.py">Security Headers</a></li>
<li><a href="../backup-strategy/">Backup Strategy</a></li>
</ul>
<hr />
<p><strong>Author:</strong> GitHub Copilot Agent<br />
<strong>Version:</strong> v1.0<br />
<strong>Last Updated:</strong> 2026-01-05</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>