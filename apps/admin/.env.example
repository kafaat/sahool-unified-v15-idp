# ═══════════════════════════════════════════════════════════════════════════════
# SAHOOL Admin Dashboard - Environment Variables
# نظام ساحول الإداري - متغيرات البيئة
# ═══════════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════════
# API Configuration (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════════

# Base URL for backend API endpoints
# Used by API client, authentication service, and all data fetching
# Development: http://localhost:3000 or http://localhost:8000
# Production: https://api.sahool.io
NEXT_PUBLIC_API_URL=http://localhost:3000

# Alternative API base URL (used by api-gateway)
# Can be used for microservices architecture
# If not set, falls back to NEXT_PUBLIC_API_URL
NEXT_PUBLIC_API_BASE=http://localhost:8000

# ═══════════════════════════════════════════════════════════════════════════════
# WebSocket Configuration (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════════

# WebSocket server URL for real-time admin features
# Used for: live user monitoring, system alerts, dashboard updates
# Development: ws://localhost:8090
# Production: wss://ws-admin.sahool.io
NEXT_PUBLIC_WS_URL=ws://localhost:8090

# ═══════════════════════════════════════════════════════════════════════════════
# Authentication & Security (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════════

# WARNING: CHANGE THESE IN PRODUCTION!

# JWT Secret Key - Used for admin session verification
# MUST be at least 32 characters long
# Generate with: openssl rand -base64 32
JWT_SECRET_KEY=your-admin-secret-key-min-32-chars-change-in-production

# JWT Issuer - Identifies who issued the token
# Should match your authentication service
JWT_ISSUER=sahool.io

# JWT Audience - Identifies intended token recipients
# Should be unique for admin dashboard
JWT_AUDIENCE=sahool-admin

# NextAuth Configuration
# NextAuth Secret - Used for session encryption
# MUST be different from JWT_SECRET_KEY
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-admin-nextauth-secret-change-in-production

# NextAuth URL - Admin dashboard base URL
# Development: http://localhost:3001
# Production: https://admin.sahool.io
NEXTAUTH_URL=http://localhost:3001

# ═══════════════════════════════════════════════════════════════════════════════
# Development Configuration (OPTIONAL - Development Only)
# ═══════════════════════════════════════════════════════════════════════════════

# Enable CSP Report-Only mode (development only)
# Set to 'true' to report violations without blocking
CSP_REPORT_ONLY=false

# Port for admin dashboard development server
DEV_ADMIN_PORT=3001

# Port for backend API (for CSP configuration)
DEV_API_PORT=8000

# Port for WebSocket server (for CSP configuration)
DEV_WS_PORT=8090

# ═══════════════════════════════════════════════════════════════════════════════
# Rate Limiting & Caching (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# Redis URL for distributed rate limiting and session storage
# If not set, falls back to in-memory storage
# Single instance: redis://localhost:6379
# With auth: redis://user:password@host:port
# TLS: rediss://user:password@host:port
# Leave empty for development (uses in-memory storage)
REDIS_URL=

# ═══════════════════════════════════════════════════════════════════════════════
# Monitoring & Analytics (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# Sentry DSN for error tracking and monitoring
# Get from: https://sentry.io/settings/projects/your-admin-project/keys/
# Leave empty to disable Sentry
SENTRY_DSN=

# Google Analytics Tracking ID for admin dashboard analytics
# Format: G-XXXXXXXXXX (GA4) or UA-XXXXXXXXX-X (Universal Analytics)
NEXT_PUBLIC_GA_TRACKING_ID=

# ═══════════════════════════════════════════════════════════════════════════════
# Admin-Specific Features (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# Enable audit logging
ENABLE_AUDIT_LOGGING=true

# Enable advanced user management features
ENABLE_USER_MANAGEMENT=true

# Enable system health monitoring dashboard
ENABLE_SYSTEM_MONITORING=true

# Enable database management interface
ENABLE_DB_MANAGEMENT=false

# Maximum rows per page in data tables
MAX_ROWS_PER_PAGE=100

# Session timeout in minutes
SESSION_TIMEOUT_MINUTES=30

# ═══════════════════════════════════════════════════════════════════════════════
# Email Notifications (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# SMTP configuration for sending admin notifications
# Leave empty to disable email notifications

# SMTP server hostname
SMTP_HOST=

# SMTP port (usually 587 for TLS, 465 for SSL)
SMTP_PORT=587

# SMTP username
SMTP_USER=

# SMTP password
# WARNING: Use environment secrets in production, not plaintext
SMTP_PASSWORD=

# Sender email address
SMTP_FROM_EMAIL=admin@sahool.io

# Enable TLS/SSL
SMTP_SECURE=true

# ═══════════════════════════════════════════════════════════════════════════════
# Database Configuration (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# Direct database access for admin operations
# WARNING: Only use in secure environments with restricted access

# Database connection string
# Leave empty if backend API handles all database operations
DATABASE_URL=

# Enable database query logging (development only)
DB_QUERY_LOGGING=false

# ═══════════════════════════════════════════════════════════════════════════════
# Build & Deployment (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# Enable standalone output for Docker deployments
# Set to 'true' when building Docker images
DOCKER_BUILD=false

# Node environment (automatically set by Next.js)
# Values: development | production | test
NODE_ENV=development

# ═══════════════════════════════════════════════════════════════════════════════
# Multi-tenancy & Organization (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# Default organization ID for super admin
DEFAULT_ORG_ID=org_sahool

# Enable multi-organization support
ENABLE_MULTI_ORG=true

# ═══════════════════════════════════════════════════════════════════════════════
# Testing Configuration (OPTIONAL - Testing Only)
# ═══════════════════════════════════════════════════════════════════════════════

# WARNING: For testing purposes only. DO NOT use in production.

# Test admin credentials
TEST_ADMIN_EMAIL=admin@sahool.test
TEST_ADMIN_PASSWORD=TestAdmin@123456

# Enable test mode
TEST_MODE=false

# CI mode for automated testing
CI=false

# ═══════════════════════════════════════════════════════════════════════════════
# SECURITY NOTES & BEST PRACTICES
# ═══════════════════════════════════════════════════════════════════════════════
#
# ADMIN DASHBOARD SECURITY IS CRITICAL!
#
# 1. NEVER commit .env files to version control
# 2. ALWAYS use strong, unique secrets in production
# 3. Use environment-specific .env files:
#    - .env.local (local development - gitignored)
#    - .env.development (development defaults)
#    - .env.production (production - use secrets management)
# 4. Restrict NEXT_PUBLIC_* variables to non-sensitive data only
#    (these are exposed to the browser)
# 5. ALWAYS use HTTPS/WSS in production
# 6. Implement IP whitelisting for admin access in production
# 7. Enable 2FA/MFA for all admin accounts
# 8. Rotate secrets regularly (every 60 days for admin, 90 days for others)
# 9. Use secret management services in production:
#    - AWS Secrets Manager
#    - HashiCorp Vault
#    - Azure Key Vault
# 10. Never store database credentials in plaintext
# 11. Enable comprehensive audit logging in production
# 12. Monitor all admin actions via SENTRY_DSN
# 13. Implement session timeout and automatic logout
# 14. Use VPN or bastion hosts for admin access
# 15. Regular security audits and penetration testing
# 16. Implement rate limiting for login attempts
#
# ADMIN ACCESS CONTROLS:
# - Limit admin dashboard access by IP range
# - Use strong password policies (min 12 chars, complexity requirements)
# - Enable account lockout after failed attempts
# - Monitor and alert on suspicious admin activities
# - Regular access reviews and privilege audits
#
# ═══════════════════════════════════════════════════════════════════════════════
