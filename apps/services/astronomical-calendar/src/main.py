#!/usr/bin/env python3
"""
SAHOOL Astronomical Calendar Service
ุฎุฏูุฉ ุงูุชูููู ุงููููู ุงูุฒุฑุงุนู - ุณููู

ุงูุชูููู ุงููููู ุงูุชูููุฏู ุงููููู ููุฒุฑุงุนุฉ ูุฌูุน ุจูู:
- ุญุณุงุจุงุช ููููุฉ ุฏูููุฉ (ูุฑุงุญู ุงูููุฑ)
- ููุงุฒู ุงููุฌูู (ุงูููุงุฒู ุงูููุฑูุฉ ุงูู 28)
- ุงูุชูููู ุงููุฌุฑู
- ุชูููุชุงุช ุงูุฒุฑุงุนุฉ ุงูุชูููุฏูุฉ
- ุงูุฃุจุฑุงุฌ ุงูุฒุฑุงุนูุฉ

Port: 8111
Version: 15.5.0
"""

import math
import os
import sys
from datetime import datetime, timedelta

import httpx
from fastapi import FastAPI, HTTPException, Query

# Shared middleware imports
sys.path.insert(0, os.path.join(os.path.dirname(__file__), "..", ".."))

from fastapi.middleware.cors import CORSMiddleware
from pydantic import BaseModel, Field

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ุงูุชุทุจูู ุงูุฑุฆูุณู
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

app = FastAPI(
    title="SAHOOL Astronomical Calendar Service",
    description="""
    ุฎุฏูุฉ ุงูุชูููู ุงููููู ุงูุฒุฑุงุนู ุงูุชูููุฏู ุงููููู

    ## ุงููููุฒุงุช:
    - ๐ ุญุณุงุจ ูุฑุงุญู ุงูููุฑ ุจุฏูุฉ ุนุงููุฉ
    - โญ ููุงุฒู ุงููุฌูู ุงูู 28 (ุงูููุงุฒู ุงูููุฑูุฉ)

# Setup unified error handling
setup_exception_handlers(app)
add_request_id_middleware(app)
    - ๐ ุงูุชูููู ุงููุฌุฑู
    - ๐ฑ ุชูููุชุงุช ุงูุฒุฑุงุนุฉ ุงูุชูููุฏูุฉ
    - โ ุงูุฃุจุฑุงุฌ ุงูุฒุฑุงุนูุฉ
    - ๐ ุชูุงูู ูุน ุฎุฏูุฉ ุงูุทูุณ

    ## ุงูุงุณุชุฎุฏุงู:
    ูุณุชุฎุฏู ุงููุฒุงุฑุนูู ุงููููููู ูุฐุง ุงูุชูููู ููุฐ ุขูุงู ุงูุณููู
    ูุชุญุฏูุฏ ุฃูุถู ุฃููุงุช ุงูุฒุฑุงุนุฉ ูุงูุญุตุงุฏ.
    """,
    version="15.5.0",
    docs_url="/docs",
    redoc_url="/redoc",
)

# CORS middleware - secure origins from environment
CORS_ORIGINS = os.getenv(
    "CORS_ALLOWED_ORIGINS",
    "http://localhost:3000,http://localhost:3001,http://localhost:8080",
).split(",")

# Weather service URL - configurable via environment variable
WEATHER_SERVICE_URL = os.getenv(
    "WEATHER_SERVICE_URL",
    "http://weather-service:8092",
)
app.add_middleware(
    CORSMiddleware,
    allow_origins=CORS_ORIGINS,
    allow_credentials=True,
    allow_methods=["GET", "POST", "PUT", "DELETE", "PATCH"],
    allow_headers=["*"],
)


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ุงูุซูุงุจุช ุงูููููุฉ
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# ุงูุฃุดูุฑ ุงููุฌุฑูุฉ
HIJRI_MONTHS = {
    1: {"name": "ูุญุฑู", "name_en": "Muharram", "days": 30},
    2: {"name": "ุตูุฑ", "name_en": "Safar", "days": 29},
    3: {"name": "ุฑุจูุน ุงูุฃูู", "name_en": "Rabi al-Awwal", "days": 30},
    4: {"name": "ุฑุจูุน ุงูุซุงูู", "name_en": "Rabi al-Thani", "days": 29},
    5: {"name": "ุฌูุงุฏู ุงูุฃููู", "name_en": "Jumada al-Awwal", "days": 30},
    6: {"name": "ุฌูุงุฏู ุงูุขุฎุฑุฉ", "name_en": "Jumada al-Thani", "days": 29},
    7: {"name": "ุฑุฌุจ", "name_en": "Rajab", "days": 30},
    8: {"name": "ุดุนุจุงู", "name_en": "Shaban", "days": 29},
    9: {"name": "ุฑูุถุงู", "name_en": "Ramadan", "days": 30},
    10: {"name": "ุดูุงู", "name_en": "Shawwal", "days": 29},
    11: {"name": "ุฐู ุงููุนุฏุฉ", "name_en": "Dhu al-Qadah", "days": 30},
    12: {
        "name": "ุฐู ุงูุญุฌุฉ",
        "name_en": "Dhu al-Hijjah",
        "days": 29,
    },  # 30 ูู ุงูุณูุฉ ุงููุจูุณุฉ
}

# ุงูููุงุฒู ุงูููุฑูุฉ ุงูู 28 (ููุงุฒู ุงููุฌูู)
LUNAR_MANSIONS = {
    1: {
        "name": "ุงูุดุฑุทูู",
        "name_en": "Al-Sharatain",
        "constellation": "ุงูุญูู",
        "constellation_en": "Aries",
        "element": "ูุงุฑ",
        "farming": "ุฒุฑุงุนุฉ ููุชุงุฒุฉ",
        "farming_score": 9,
        "crops": ["ููุญ", "ุดุนูุฑ", "ุฐุฑุฉ"],
        "activities": ["ุฒุฑุงุนุฉ", "ุชุทุนูู"],
        "avoid": [],
        "description": "ููุฒูุฉ ุฎุตุจุฉ ุฌุฏุงูุ ููุงุณุจุฉ ูุฒุฑุงุนุฉ ุงูุญุจูุจ",
    },
    2: {
        "name": "ุงูุจุทูู",
        "name_en": "Al-Butain",
        "constellation": "ุงูุญูู",
        "constellation_en": "Aries",
        "element": "ูุงุฑ",
        "farming": "ุฒุฑุงุนุฉ ุฌูุฏุฉ",
        "farming_score": 7,
        "crops": ["ุฎุถุฑูุงุช", "ุจููููุงุช"],
        "activities": ["ุฒุฑุงุนุฉ", "ุฑู"],
        "avoid": ["ุญุตุงุฏ"],
        "description": "ููุงุณุจุฉ ููุฎุถุฑูุงุช ุงููุฑููุฉ",
    },
    3: {
        "name": "ุงูุซุฑูุง",
        "name_en": "Al-Thuraya",
        "constellation": "ุงูุซูุฑ",
        "constellation_en": "Taurus",
        "element": "ุฃุฑุถ",
        "farming": "ููุชุงุฒุฉ ููุฒุฑุงุนุฉ",
        "farming_score": 10,
        "crops": ["ุฌููุน ุงููุญุงุตูู"],
        "activities": ["ุฒุฑุงุนุฉ", "ุบุฑุณ", "ุชุทุนูู", "ุชูููู"],
        "avoid": [],
        "description": "ุฃูุถู ุงูููุงุฒู ููุฒุฑุงุนุฉ ุนูู ุงูุฅุทูุงู - ูุฌู ุงูุซุฑูุง ุงููุจุงุฑู",
    },
    4: {
        "name": "ุงูุฏุจุฑุงู",
        "name_en": "Al-Dabaran",
        "constellation": "ุงูุซูุฑ",
        "constellation_en": "Taurus",
        "element": "ุฃุฑุถ",
        "farming": "ุฌูุฏุฉ ุฌุฏุงู",
        "farming_score": 8,
        "crops": ["ููุงูู", "ุฃุดุฌุงุฑ"],
        "activities": ["ุบุฑุณ ุงูุฃุดุฌุงุฑ", "ุชุทุนูู"],
        "avoid": ["ุญุตุงุฏ ุงูุญุจูุจ"],
        "description": "ูุซุงููุฉ ูุบุฑุณ ุงูุฃุดุฌุงุฑ ุงููุซูุฑุฉ",
    },
    5: {
        "name": "ุงูููุนุฉ",
        "name_en": "Al-Haq'ah",
        "constellation": "ุงูุฌูุฒุงุก",
        "constellation_en": "Gemini",
        "element": "ููุงุก",
        "farming": "ูุชูุณุทุฉ",
        "farming_score": 5,
        "crops": ["ุฒููุฑ", "ูุจุงุชุงุช ุนุทุฑูุฉ"],
        "activities": ["ุฌูุน ุงูุจุฐูุฑ"],
        "avoid": ["ุฒุฑุงุนุฉ", "ุฑู"],
        "description": "ููุงุณุจุฉ ูููุจุงุชุงุช ุงูุนุทุฑูุฉ ููุท",
    },
    6: {
        "name": "ุงูููุนุฉ",
        "name_en": "Al-Han'ah",
        "constellation": "ุงูุฌูุฒุงุก",
        "constellation_en": "Gemini",
        "element": "ููุงุก",
        "farming": "ุถุนููุฉ",
        "farming_score": 3,
        "crops": [],
        "activities": ["ููุงูุญุฉ ุขูุงุช"],
        "avoid": ["ุฒุฑุงุนุฉ", "ุบุฑุณ"],
        "description": "ุบูุฑ ููุงุณุจุฉ ููุฒุฑุงุนุฉ - ููุงุณุจุฉ ููุฑุงุญุฉ",
    },
    7: {
        "name": "ุงูุฐุฑุงุน",
        "name_en": "Al-Dhira",
        "constellation": "ุงูุณุฑุทุงู",
        "constellation_en": "Cancer",
        "element": "ูุงุก",
        "farming": "ููุชุงุฒุฉ ููุฑู",
        "farming_score": 8,
        "crops": ["ุฎูุงุฑ", "ุจุทูุฎ", "ุดูุงู"],
        "activities": ["ุฑู", "ุฒุฑุงุนุฉ ุงููุฑุนูุงุช"],
        "avoid": ["ุญุตุงุฏ"],
        "description": "ููุชุงุฒุฉ ูุฒุฑุงุนุฉ ุงููุญุงุตูู ุงูุชู ุชุญุชุงุฌ ูุงุก ูุซูุฑ",
    },
    8: {
        "name": "ุงููุซุฑุฉ",
        "name_en": "Al-Nathrah",
        "constellation": "ุงูุณุฑุทุงู",
        "constellation_en": "Cancer",
        "element": "ูุงุก",
        "farming": "ุฌูุฏุฉ",
        "farming_score": 7,
        "crops": ["ุฎุถุฑูุงุช ูุงุฆูุฉ"],
        "activities": ["ุฑู", "ุชุณููุฏ"],
        "avoid": ["ุญุตุงุฏ ุงูุญุจูุจ"],
        "description": "ููุงุณุจุฉ ููุชุณููุฏ ูุงูุฑู",
    },
    9: {
        "name": "ุงูุทุฑู",
        "name_en": "Al-Tarf",
        "constellation": "ุงูุฃุณุฏ",
        "constellation_en": "Leo",
        "element": "ูุงุฑ",
        "farming": "ุถุนููุฉ",
        "farming_score": 2,
        "crops": [],
        "activities": ["ููุงูุญุฉ ุญุดุฑุงุช"],
        "avoid": ["ุฒุฑุงุนุฉ", "ุฑู", "ุบุฑุณ"],
        "description": "ููุฒูุฉ ุญุงุฑุฉ - ุชุฌูุจ ุงูุฒุฑุงุนุฉ",
    },
    10: {
        "name": "ุงูุฌุจูุฉ",
        "name_en": "Al-Jabhah",
        "constellation": "ุงูุฃุณุฏ",
        "constellation_en": "Leo",
        "element": "ูุงุฑ",
        "farming": "ุถุนููุฉ",
        "farming_score": 2,
        "crops": [],
        "activities": ["ุญุตุงุฏ"],
        "avoid": ["ุฒุฑุงุนุฉ", "ุฑู"],
        "description": "ููุงุณุจุฉ ููุญุตุงุฏ ููุท",
    },
    11: {
        "name": "ุงูุฒุจุฑุฉ",
        "name_en": "Al-Zubrah",
        "constellation": "ุงูุฃุณุฏ",
        "constellation_en": "Leo",
        "element": "ูุงุฑ",
        "farming": "ุถุนููุฉ",
        "farming_score": 3,
        "crops": ["ูููู", "ุจูุงุฑุงุช"],
        "activities": ["ุญุตุงุฏ", "ุชุฌููู"],
        "avoid": ["ุฒุฑุงุนุฉ"],
        "description": "ููุงุณุจุฉ ููุชุฌููู ูุงูุชุฎุฒูู",
    },
    12: {
        "name": "ุงูุตุฑูุฉ",
        "name_en": "Al-Sarfah",
        "constellation": "ุงูุฃุณุฏ",
        "constellation_en": "Leo",
        "element": "ูุงุฑ",
        "farming": "ูุชูุณุทุฉ",
        "farming_score": 5,
        "crops": ["ุทูุงุทู", "ุจุงุฐูุฌุงู"],
        "activities": ["ุชูููู"],
        "avoid": ["ุบุฑุณ ุฃุดุฌุงุฑ"],
        "description": "ุจุฏุงูุฉ ุชุญุณู ุงูุธุฑูู",
    },
    13: {
        "name": "ุงูุนูุงุก",
        "name_en": "Al-Awwa",
        "constellation": "ุงูุนุฐุฑุงุก",
        "constellation_en": "Virgo",
        "element": "ุฃุฑุถ",
        "farming": "ุฌูุฏุฉ ุฌุฏุงู",
        "farming_score": 8,
        "crops": ["ุญุจูุจ", "ุจููููุงุช"],
        "activities": ["ุฒุฑุงุนุฉ", "ุญุฑุซ"],
        "avoid": [],
        "description": "ููุชุงุฒุฉ ูุชุญุถูุฑ ุงูุฃุฑุถ ูุงูุฒุฑุงุนุฉ",
    },
    14: {
        "name": "ุงูุณูุงู",
        "name_en": "Al-Simak",
        "constellation": "ุงูุนุฐุฑุงุก",
        "constellation_en": "Virgo",
        "element": "ุฃุฑุถ",
        "farming": "ููุชุงุฒุฉ",
        "farming_score": 9,
        "crops": ["ุฌููุน ุงููุญุงุตูู"],
        "activities": ["ุฒุฑุงุนุฉ", "ุบุฑุณ", "ุชุทุนูู"],
        "avoid": [],
        "description": "ูู ุฃูุถู ุงูููุงุฒู ููุฒุฑุงุนุฉ",
    },
    15: {
        "name": "ุงูุบูุฑ",
        "name_en": "Al-Ghafr",
        "constellation": "ุงูููุฒุงู",
        "constellation_en": "Libra",
        "element": "ููุงุก",
        "farming": "ุฌูุฏุฉ",
        "farming_score": 6,
        "crops": ["ุฒููุฑ", "ูุจุงุชุงุช ุฒููุฉ"],
        "activities": ["ุฒุฑุงุนุฉ ุงูุฒููุฑ"],
        "avoid": ["ุบุฑุณ ุฃุดุฌุงุฑ"],
        "description": "ููุงุณุจุฉ ูููุจุงุชุงุช ุงูุฌูุงููุฉ",
    },
    16: {
        "name": "ุงูุฒุจุงูุง",
        "name_en": "Al-Zubana",
        "constellation": "ุงูููุฒุงู",
        "constellation_en": "Libra",
        "element": "ููุงุก",
        "farming": "ูุชูุณุทุฉ",
        "farming_score": 5,
        "crops": ["ุฎุถุฑูุงุช ูุฑููุฉ"],
        "activities": ["ุฑู ุฎููู"],
        "avoid": ["ุฒุฑุงุนุฉ ุซูููุฉ"],
        "description": "ููุงุณุจุฉ ููุฎุถุฑูุงุช ุงููุฑููุฉ",
    },
    17: {
        "name": "ุงูุฅูููู",
        "name_en": "Al-Iklil",
        "constellation": "ุงูุนูุฑุจ",
        "constellation_en": "Scorpio",
        "element": "ูุงุก",
        "farming": "ุฌูุฏุฉ ููุฑู",
        "farming_score": 7,
        "crops": ["ุฌุฐุฑูุงุช", "ุจุทุงุทุณ"],
        "activities": ["ุฑู", "ุฒุฑุงุนุฉ ุงูุฌุฐูุฑ"],
        "avoid": ["ุญุตุงุฏ"],
        "description": "ูุซุงููุฉ ูุฒุฑุงุนุฉ ุงููุญุงุตูู ุงูุฌุฐุฑูุฉ",
    },
    18: {
        "name": "ุงูููุจ",
        "name_en": "Al-Qalb",
        "constellation": "ุงูุนูุฑุจ",
        "constellation_en": "Scorpio",
        "element": "ูุงุก",
        "farming": "ุถุนููุฉ",
        "farming_score": 3,
        "crops": [],
        "activities": ["ููุงูุญุฉ ุขูุงุช"],
        "avoid": ["ุฒุฑุงุนุฉ", "ุบุฑุณ"],
        "description": "ููุจ ุงูุนูุฑุจ - ุชุฌูุจ ุงูุฒุฑุงุนุฉ",
    },
    19: {
        "name": "ุงูุดููุฉ",
        "name_en": "Al-Shaulah",
        "constellation": "ุงูุนูุฑุจ",
        "constellation_en": "Scorpio",
        "element": "ูุงุก",
        "farming": "ุถุนููุฉ",
        "farming_score": 2,
        "crops": [],
        "activities": ["ุฑุงุญุฉ"],
        "avoid": ["ุฌููุน ุงูุฃูุดุทุฉ ุงูุฒุฑุงุนูุฉ"],
        "description": "ุฐูุจ ุงูุนูุฑุจ - ุฃุณูุฃ ุงูููุงุฒู ููุฒุฑุงุนุฉ",
    },
    20: {
        "name": "ุงููุนุงุฆู",
        "name_en": "Al-Na'aim",
        "constellation": "ุงูููุณ",
        "constellation_en": "Sagittarius",
        "element": "ูุงุฑ",
        "farming": "ูุชูุณุทุฉ",
        "farming_score": 5,
        "crops": ["ุนูู"],
        "activities": ["ุญุฑุซ"],
        "avoid": ["ุฒุฑุงุนุฉ ุฏูููุฉ"],
        "description": "ููุงุณุจุฉ ูุชุญุถูุฑ ุงูุฃุฑุถ",
    },
    21: {
        "name": "ุงูุจูุฏุฉ",
        "name_en": "Al-Baldah",
        "constellation": "ุงูููุณ",
        "constellation_en": "Sagittarius",
        "element": "ูุงุฑ",
        "farming": "ุฌูุฏุฉ",
        "farming_score": 6,
        "crops": ["ุญุจูุจ"],
        "activities": ["ุจุฐุฑ"],
        "avoid": [],
        "description": "ููุงุณุจุฉ ููุจุฐุฑ ูุงูุชุญุถูุฑ",
    },
    22: {
        "name": "ุณุนุฏ ุงูุฐุงุจุญ",
        "name_en": "Sa'd al-Dhabih",
        "constellation": "ุงูุฌุฏู",
        "constellation_en": "Capricorn",
        "element": "ุฃุฑุถ",
        "farming": "ุฌูุฏุฉ",
        "farming_score": 7,
        "crops": ["ุฌุฐุฑูุงุช", "ุจุตู", "ุซูู"],
        "activities": ["ุฒุฑุงุนุฉ", "ุญุตุงุฏ"],
        "avoid": [],
        "description": "ููุงุณุจุฉ ูููุญุงุตูู ุชุญุช ุงูุฃุฑุถ",
    },
    23: {
        "name": "ุณุนุฏ ุจูุน",
        "name_en": "Sa'd Bula",
        "constellation": "ุงูุฌุฏู",
        "constellation_en": "Capricorn",
        "element": "ุฃุฑุถ",
        "farming": "ุฌูุฏุฉ ุฌุฏุงู",
        "farming_score": 8,
        "crops": ["ุฃุดุฌุงุฑ", "ููุงูู"],
        "activities": ["ุบุฑุณ", "ุชุทุนูู"],
        "avoid": [],
        "description": "ููุชุงุฒุฉ ูุบุฑุณ ุงูุฃุดุฌุงุฑ",
    },
    24: {
        "name": "ุณุนุฏ ุงูุณุนูุฏ",
        "name_en": "Sa'd al-Su'ud",
        "constellation": "ุงูุฏูู",
        "constellation_en": "Aquarius",
        "element": "ููุงุก",
        "farming": "ููุชุงุฒุฉ",
        "farming_score": 10,
        "crops": ["ุฌููุน ุงููุญุงุตูู"],
        "activities": ["ุฌููุน ุงูุฃูุดุทุฉ"],
        "avoid": [],
        "description": "ุฃุณุนุฏ ุงูููุงุฒู - ูุจุงุฑูุฉ ูุฌููุน ุงูุฃุนูุงู",
    },
    25: {
        "name": "ุณุนุฏ ุงูุฃุฎุจูุฉ",
        "name_en": "Sa'd al-Akhbiyah",
        "constellation": "ุงูุฏูู",
        "constellation_en": "Aquarius",
        "element": "ููุงุก",
        "farming": "ุฌูุฏุฉ",
        "farming_score": 7,
        "crops": ["ุฎุถุฑูุงุช", "ุฒููุฑ"],
        "activities": ["ุฒุฑุงุนุฉ", "ุฑู"],
        "avoid": [],
        "description": "ููุงุณุจุฉ ููุฒุฑุงุนุฉ ูุงูุชุฌููู",
    },
    26: {
        "name": "ุงูููุฏู",
        "name_en": "Al-Muqaddam",
        "constellation": "ุงูุญูุช",
        "constellation_en": "Pisces",
        "element": "ูุงุก",
        "farming": "ุฌูุฏุฉ ููุฑู",
        "farming_score": 7,
        "crops": ["ุฃุฑุฒ", "ูุตุจ"],
        "activities": ["ุฑู", "ุฒุฑุงุนุฉ ูุงุฆูุฉ"],
        "avoid": ["ุญุตุงุฏ"],
        "description": "ููุชุงุฒุฉ ูููุญุงุตูู ุงููุงุฆูุฉ",
    },
    27: {
        "name": "ุงููุคุฎุฑ",
        "name_en": "Al-Mu'akhkhar",
        "constellation": "ุงูุญูุช",
        "constellation_en": "Pisces",
        "element": "ูุงุก",
        "farming": "ุฌูุฏุฉ",
        "farming_score": 6,
        "crops": ["ุณูู", "ุทุญุงูุจ"],
        "activities": ["ุงุณุชุฒุฑุงุน ูุงุฆู"],
        "avoid": ["ุฒุฑุงุนุฉ ุจุฑูุฉ"],
        "description": "ููุงุณุชุฒุฑุงุน ุงููุงุฆู",
    },
    28: {
        "name": "ุงูุฑุดุงุก",
        "name_en": "Al-Risha",
        "constellation": "ุงูุญูุช",
        "constellation_en": "Pisces",
        "element": "ูุงุก",
        "farming": "ุฌูุฏุฉ",
        "farming_score": 7,
        "crops": ["ุฎุถุฑูุงุช ูุงุฆูุฉ"],
        "activities": ["ุฑู", "ุชุญุถูุฑ"],
        "avoid": [],
        "description": "ุงูุชูุงุก ุงูุฏูุฑุฉ - ุชุญุถูุฑ ููููุณู ุงูุฌุฏูุฏ",
    },
}

# ูุฑุงุญู ุงูููุฑ
MOON_PHASES = {
    "new_moon": {
        "name": "ุงููุญุงู",
        "name_en": "New Moon",
        "icon": "๐",
        "farming_good": False,
    },
    "waxing_crescent": {
        "name": "ุงูููุงู ุงููุชุฒุงูุฏ",
        "name_en": "Waxing Crescent",
        "icon": "๐",
        "farming_good": True,
    },
    "first_quarter": {
        "name": "ุงูุชุฑุจูุน ุงูุฃูู",
        "name_en": "First Quarter",
        "icon": "๐",
        "farming_good": True,
    },
    "waxing_gibbous": {
        "name": "ุงูุฃุญุฏุจ ุงููุชุฒุงูุฏ",
        "name_en": "Waxing Gibbous",
        "icon": "๐",
        "farming_good": True,
    },
    "full_moon": {
        "name": "ุงูุจุฏุฑ",
        "name_en": "Full Moon",
        "icon": "๐",
        "farming_good": True,
    },
    "waning_gibbous": {
        "name": "ุงูุฃุญุฏุจ ุงููุชูุงูุต",
        "name_en": "Waning Gibbous",
        "icon": "๐",
        "farming_good": False,
    },
    "last_quarter": {
        "name": "ุงูุชุฑุจูุน ุงูุฃุฎูุฑ",
        "name_en": "Last Quarter",
        "icon": "๐",
        "farming_good": False,
    },
    "waning_crescent": {
        "name": "ุงูููุงู ุงููุชูุงูุต",
        "name_en": "Waning Crescent",
        "icon": "๐",
        "farming_good": False,
    },
}

# ุงูุฃูุซุงู ุงูุฒุฑุงุนูุฉ ุงูููููุฉ ุงูุชูููุฏูุฉ
YEMENI_FARMING_PROVERBS = {
    "general": [
        {
            "proverb": "ุฅุฐุง ุทูุนุช ุงูุซุฑูุง ุนุดุงุกูุ ูุงููู ูุฏู ูู ุงููุงุก",
            "meaning": "ุนูุฏ ุทููุน ูุฌู ุงูุซุฑูุง ูุณุงุกูุ ููุชูู ููุณู ุงูุฑู ุงูุตููู",
            "application": "ุชูููุช ุงูุฑู",
            "mansion": "ุงูุซุฑูุง",
        },
        {
            "proverb": "ุงูุฒุฑุน ูู ุงูุซุฑูุงุ ูุงูุญุตุงุฏ ูู ุงูุฌูุฒุงุก",
            "meaning": "ุฃูุถู ููุช ููุฒุฑุงุนุฉ ูู ููุฒูุฉ ุงูุซุฑูุงุ ูุงูุญุตุงุฏ ูู ุงูุฌูุฒุงุก",
            "application": "ุชูููุช ุงูุฒุฑุงุนุฉ ูุงูุญุตุงุฏ",
            "mansion": "ุงูุซุฑูุง",
        },
        {
            "proverb": "ุงููู ูุฒุฑุน ูู ุงูููุฑ ุงููุชุฒุงูุฏุ ูุญุตููู ูุชุฒุงูุฏ",
            "meaning": "ุงูุฒุฑุงุนุฉ ูู ูุชุฑุฉ ุชุฒุงูุฏ ุงูููุฑ ุชุนุทู ูุญุตููุงู ุฃูุถู",
            "application": "ุชูููุช ุงูุฒุฑุงุนุฉ",
            "mansion": None,
        },
        {
            "proverb": "ูู ุฒุฑุน ูู ุงููุญุงูุ ุญุตุฏ ุงูุจูุงู",
            "meaning": "ุชุฌูุจ ุงูุฒุฑุงุนุฉ ูู ููุช ุงููุญุงู (ุงุฎุชูุงุก ุงูููุฑ)",
            "application": "ุชุฌูุจ ุงูุฒุฑุงุนุฉ",
            "mansion": None,
        },
        {
            "proverb": "ุณุนุฏ ุงูุณุนูุฏุ ูุฎุฑุฌ ุงูุจุฑุฏ ูู ุงูุนูุฏ",
            "meaning": "ูู ููุฒูุฉ ุณุนุฏ ุงูุณุนูุฏ ููุชูู ุงูุจุฑุฏ ููุจุฏุฃ ุงูุฏูุก",
            "application": "ุชูููุช ุงูููุณู",
            "mansion": "ุณุนุฏ ุงูุณุนูุฏ",
        },
        {
            "proverb": "ุฅุฐุง ุทูุน ุณูููุ ุจุฑุฏ ุงูููู ูุฃูุจู ุงูุณูู",
            "meaning": "ุทููุน ูุฌู ุณููู ูุนูู ุจุฏุงูุฉ ููุณู ุงูุฃูุทุงุฑ",
            "application": "ุชูููุช ุงูุฃูุทุงุฑ",
            "mansion": None,
        },
        {
            "proverb": "ูู ุงูุดููุฉ ูุง ุชุฒุฑุน ููุง ุชุญูู",
            "meaning": "ุชุฌูุจ ุงูุฒุฑุงุนุฉ ูุงูุชุทุนูู ูู ููุฒูุฉ ุงูุดููุฉ",
            "application": "ุชุฌูุจ ุงูุฒุฑุงุนุฉ",
            "mansion": "ุงูุดููุฉ",
        },
        {
            "proverb": "ุงูุนูุงุก ุฎูุฑ ูุง ุทูุนุช ุนูู ุงูุฒุฑุงุนุฉ ูุงูุจูุงุก",
            "meaning": "ููุฒูุฉ ุงูุนูุงุก ููุชุงุฒุฉ ููุฒุฑุงุนุฉ ูุงูุจูุงุก",
            "application": "ุฃูุถููุฉ ุงูุฒุฑุงุนุฉ",
            "mansion": "ุงูุนูุงุก",
        },
        {
            "proverb": "ุฅุฐุง ุงุดุชุฏ ุงูุญุฑุ ูุงุณุชุนู ุจุงูุณุญุฑ",
            "meaning": "ูู ุงูุญุฑ ุงูุดุฏูุฏุ ูู ุจุงูุนูู ุงูุฒุฑุงุนู ูู ุงููุฌุฑ",
            "application": "ุชูููุช ุงูุนูู",
            "mansion": None,
        },
        {
            "proverb": "ุงูุฒุฑุน ูุฑูุฏ ุฃุฑุจุนูู ูููุงู ููุฌุฐุฑุ ูุฃุฑุจุนูู ููุณุงู",
            "meaning": "ุงููุญุตูู ูุญุชุงุฌ 40 ูููุงู ูุชูููู ุงูุฌุฐูุฑ ู40 ููุณุงู",
            "application": "ุฏูุฑุฉ ุงูููู",
            "mansion": None,
        },
        {
            "proverb": "ุงูุฃุฑุถ ุชุญุจ ูู ูุญุจูุง",
            "meaning": "ุงูุนูุงูุฉ ุจุงูุฃุฑุถ ุชุนูุฏ ุจุงูุฎูุฑ",
            "application": "ุงูุนูุงูุฉ ุจุงูุชุฑุจุฉ",
            "mansion": None,
        },
        {
            "proverb": "ุฒุฑุนุฉ ุงูุตุจุฑ ุชุซูุฑ ุงูุนุณู",
            "meaning": "ุงูุตุจุฑ ูู ุงูุฒุฑุงุนุฉ ูุคุชู ุซูุงุฑู",
            "application": "ุงูุตุจุฑ",
            "mansion": None,
        },
        {
            "proverb": "ุฅุฐุง ุบุงุจ ุงููุทุฑุ ูุงูุฏุนุงุก ูุงูุตุจุฑ",
            "meaning": "ุงูุชููู ูู ุฃููุงุช ุงูุฌูุงู",
            "application": "ุงูุฌูุงู",
            "mansion": None,
        },
        {
            "proverb": "ุงูุนูู ุนูู ุงูุบูุซุ ูุงููุฏ ูู ุงูุฃุฑุถ",
            "meaning": "ุงูุงุณุชุนุฏุงุฏ ูููุทุฑ ูุน ุงูุนูู",
            "application": "ุงูุชุญุถูุฑ",
            "mansion": None,
        },
        {
            "proverb": "ูุง ูู ุจุฐุฑุฉ ุชูุจุชุ ููุง ูู ุฒุฑุนุฉ ุชุซูุฑ",
            "meaning": "ุชูุจู ุงูุฎุณุงุฆุฑ ุงูุทุจูุนูุฉ",
            "application": "ุงููุงูุนูุฉ",
            "mansion": None,
        },
        {
            "proverb": "ุงููุงุก ุงููุซูุฑ ูุบุฑู ุงูุฒุฑุนุ ูุงููุงุก ุงููููู ูุญุฑูู",
            "meaning": "ุงูุงุนุชุฏุงู ูู ุงูุฑู ุถุฑูุฑู",
            "application": "ุฅุฏุงุฑุฉ ุงูุฑู",
            "mansion": None,
        },
        {
            "proverb": "ุฃูู ุงูุฒุฑุน ููุฉุ ูุขุฎุฑู ุนูุงูุฉ",
            "meaning": "ุงูููุฉ ุงูุตุงูุญุฉ ูุงูุนูุงูุฉ ุงููุณุชูุฑุฉ ุฃุณุงุณ ุงููุฌุงุญ",
            "application": "ุงูุฅุฎูุงุต ูู ุงูุนูู",
            "mansion": None,
        },
        {
            "proverb": "ุงูุฃุฑุถ ุงูุณูุฏุงุก ููุฒุ ูุงูุฃุฑุถ ุงูุญูุฑุงุก ูุฎุฑ",
            "meaning": "ูู ููุน ุชุฑุจุฉ ูู ููุฒุชู ุงูุฎุงุตุฉ",
            "application": "ูุนุฑูุฉ ุงูุชุฑุจุฉ",
            "mansion": None,
        },
        {
            "proverb": "ุงุณูู ุฒุฑุนู ูุจู ุงูุธููุฑุฉุ ุฃู ุจุนุฏ ุงูุนุตุฑ",
            "meaning": "ุชุฌูุจ ุงูุฑู ูู ุญุฑุงุฑุฉ ุงูููุงุฑ",
            "application": "ุฃููุงุช ุงูุฑู",
            "mansion": None,
        },
        {
            "proverb": "ุงูุจุฐุฑุฉ ุงูุทูุจุฉ ูู ุงูุฃุฑุถ ุงูุทูุจุฉุ ุฎูุฑ ูู ุฃูู ูู ุงูุฃุฑุถ ุงูุฑุฏูุฆุฉ",
            "meaning": "ุฌูุฏุฉ ุงูุชุฑุจุฉ ุฃูู ูู ูููุฉ ุงูุจุฐูุฑ",
            "application": "ุงุฎุชูุงุฑ ุงูุฃุฑุถ",
            "mansion": None,
        },
        {
            "proverb": "ูู ุฃุฑุงุฏ ุงูุซูุฑุ ูููุตุจุฑ ุนูู ุงูุดุฌุฑ",
            "meaning": "ุงูุฃุดุฌุงุฑ ุชุญุชุงุฌ ุตุจุฑุงู ูุงูุชุธุงุฑุงู",
            "application": "ุฒุฑุงุนุฉ ุงูุฃุดุฌุงุฑ",
            "mansion": None,
        },
        {
            "proverb": "ุงูุดูุณ ูุงูุชุฑุงุจ ูุงููุงุกุ ุฃุฑูุงู ุงูุฒุฑุงุนุฉ ุงูุซูุงุซุฉ",
            "meaning": "ุงูุนูุงุตุฑ ุงูุฃุณุงุณูุฉ ููููู",
            "application": "ุฃุณุงุณูุงุช ุงูุฒุฑุงุนุฉ",
            "mansion": None,
        },
        {
            "proverb": "ูู ุญุฑุซ ูู ุงูุฏุจุฑุงูุ ุฌูู ุงูุฎูุฑ ูุงูุฃูุงู",
            "meaning": "ููุฒูุฉ ุงูุฏุจุฑุงู ูุจุงุฑูุฉ ููุญุฑุงุซุฉ",
            "application": "ุชูููุช ุงูุญุฑุงุซุฉ",
            "mansion": "ุงูุฏุจุฑุงู",
        },
        {
            "proverb": "ุงูุณูุงุฏ ููุฃุฑุถ ูุงูุบุฐุงุก ููุจุฏู",
            "meaning": "ุงูุชุณููุฏ ุถุฑูุฑู ูุฎุตูุจุฉ ุงูุชุฑุจุฉ",
            "application": "ุงูุชุณููุฏ",
            "mansion": None,
        },
        {
            "proverb": "ุงูุญุฑุซ ุงูุนููู ูุฎุฑุฌ ุงูุฎูุฑ ุงูุฏููู",
            "meaning": "ุงูุญุฑุงุซุฉ ุงูุฌูุฏุฉ ุชุญุณู ุงูุฅูุชุงุฌ",
            "application": "ุนูู ุงูุญุฑุงุซุฉ",
            "mansion": None,
        },
    ],
    "by_crop": {
        "ููุญ": [
            {
                "proverb": "ุงูููุญ ููุฒุฑุน ูู ุตูุฑุ ูููุญุตุฏ ูู ุฌูุงุฏู",
                "meaning": "ุฃูุถู ููุช ูุฒุฑุงุนุฉ ุงูููุญ ุดูุฑ ุตูุฑ ุงููุฌุฑู",
                "application": "ุชูููุช ุฒุฑุงุนุฉ ุงูููุญ",
            },
            {
                "proverb": "ูุง ุชุฒุฑุน ุงูููุญ ุฅูุง ูุงูููุฑ ูุชุฒุงูุฏ",
                "meaning": "ุฒุฑุงุนุฉ ุงูููุญ ูู ุงูููุฑ ุงููุชุฒุงูุฏ ููุญุตูู ุฃูุถู",
                "application": "ูุฑุญูุฉ ุงูููุฑ ุงูููุงุณุจุฉ",
            },
        ],
        "ุจู": [
            {
                "proverb": "ุงูุจู ูุญุจ ุงูุธู ูุงููุฏู",
                "meaning": "ุดุฌุฑุฉ ุงูุจู ุชุญุชุงุฌ ุงูุธู ูุงูุฑุทูุจุฉ ุงูุนุงููุฉ",
                "application": "ูุชุทูุจุงุช ุงูููู",
            },
            {
                "proverb": "ูุทู ุงูุจู ูู ุงูุซุฑูุงุ ูุฌููู ูู ุงูุฌูุฒุงุก",
                "meaning": "ุฃูุถู ููุช ููุทู ุงูุจู ูู ููุฒูุฉ ุงูุซุฑูุง",
                "application": "ุชูููุช ุงูุญุตุงุฏ",
            },
            {
                "proverb": "ุงูุจู ุซูุงุซ ุณููู ุตุจุฑุ ูุณุจุนูู ุณูุฉ ุฎูุฑ",
                "meaning": "ุดุฌุฑุฉ ุงูุจู ุชุญุชุงุฌ ุตุจุฑุงู ูููููุง ุชุนุทู ูุณููุงุช ุทูููุฉ",
                "application": "ุงูุงุณุชุซูุงุฑ ุทููู ุงูุฃูุฏ",
            },
        ],
        "ุฐุฑุฉ": [
            {
                "proverb": "ุงูุฐุฑุฉ ุชูุฒุฑุน ูุน ุงูุณููุ ูุชูุญุตุฏ ูุจู ุงูููู",
                "meaning": "ุฒุฑุงุนุฉ ุงูุฐุฑุฉ ูุน ุจุฏุงูุฉ ุงูุฃูุทุงุฑ ูุญุตุงุฏูุง ูุจู ุงูุณููู ุงููุจูุฑุฉ",
                "application": "ุชูููุช ุงูุฒุฑุงุนุฉ ูุงูุญุตุงุฏ",
            },
            {
                "proverb": "ุงูุฐุฑุฉ ุจูุช ุงููุงุก ูุงูุดูุณ",
                "meaning": "ุงูุฐุฑุฉ ุชุญุชุงุฌ ูุงุก ูููุฑ ูุดูุณ ูููุฉ",
                "application": "ูุชุทูุจุงุช ุงูููู",
            },
        ],
        "ุจุตู": [
            {
                "proverb": "ุงูุจุตู ูุงูุซูู ูู ุงูููุฑ ุงููุชูุงูุต",
                "meaning": "ุงููุญุงุตูู ุงูุฌุฐุฑูุฉ ุชูุฒุฑุน ูู ุงูููุฑ ุงููุชูุงูุต",
                "application": "ูุฑุญูุฉ ุงูููุฑ ุงูููุงุณุจุฉ",
            },
            {
                "proverb": "ุงูุจุตู ููุฒุฑุน ูู ุจุฑุฏุ ูููุญุตุฏ ูู ุญุฑ",
                "meaning": "ุงูุจุตู ูุฒุฑุน ุดุชุงุกู ููุญุตุฏ ุตููุงู",
                "application": "ุชูููุช ุงูุฒุฑุงุนุฉ",
            },
        ],
        "ุนูุจ": [
            {
                "proverb": "ุงูุนูุจ ูู ุงูุฑุจูุน ููุบุฑุณุ ููู ุงูุตูู ูููุทู",
                "meaning": "ุบุฑุณ ุงููุฑูู ูู ุงูุฑุจูุน ูุญุตุงุฏ ุงูุนูุจ ูู ุงูุตูู",
                "application": "ุฏูุฑุฉ ุงูุนูุจ ุงูุณูููุฉ",
            },
            {
                "proverb": "ุงูุชูููู ูู ุงูุดุชุงุกุ ูุงูุญุตุงุฏ ูู ุงูุญุฑ",
                "meaning": "ุชูููู ุงููุฑูู ุดุชุงุกู ูุญุตุงุฏ ูููุฑ ุตููุงู",
                "application": "ุงูุชูููู",
            },
            {
                "proverb": "ุงููุฑูุฉ ุชุญุจ ุงูุชุฑุงุจ ุงูุฃุญูุฑ ูุงููุงุก ุงููุนุชุฏู",
                "meaning": "ุงูุนูุจ ูููู ุฌูุฏุงู ูู ุงูุชุฑุจุฉ ุงูุญูุฑุงุก ูุน ุฑู ูุชูุงุฒู",
                "application": "ุงุฎุชูุงุฑ ุงููููุน",
            },
        ],
        "ูุฎูู": [
            {
                "proverb": "ุงููุฎูุฉ ุฑุฃุณูุง ูู ุงููุงุฑ ูุฑุฌููุง ูู ุงููุงุก",
                "meaning": "ุงููุฎู ูุญุชุงุฌ ุญุฑุงุฑุฉ ุนุงููุฉ ูู ุงูุฃุนูู ูุฑุทูุจุฉ ูู ุงูุฌุฐูุฑ",
                "application": "ูุชุทูุจุงุช ุงููุฎูู",
            },
            {
                "proverb": "ุงูุชูููุญ ูู ุงูุฑุจูุนุ ูุงูุฌุฏุงุฏ ูู ุงูุตูู",
                "meaning": "ุชูููุญ ุงููุฎู ุฑุจูุนุงู ูุญุตุงุฏ ุงูุชูุฑ ุตููุงู",
                "application": "ุชูููุช ุงูุนูููุงุช",
            },
            {
                "proverb": "ุงููุฎูุฉ ุจูุช ุงูุนูุงูุฉ ูุงูุณูุงูุฉ",
                "meaning": "ุงููุฎู ูุญุชุงุฌ ุฑุนุงูุฉ ูุณุชูุฑุฉ ูุฑู ููุชุธู",
                "application": "ุงูุนูุงูุฉ ุจุงููุฎูู",
            },
        ],
        "ูุงุช": [
            {
                "proverb": "ุงููุงุช ูุญุจ ุงููุงุก ุงูุฏุงุฆู ูุงูุธู ุงูุฎููู",
                "meaning": "ุงููุงุช ูุญุชุงุฌ ุฑู ูุณุชูุฑ ูุธู ุฌุฒุฆู",
                "application": "ูุชุทูุจุงุช ุงููุงุช",
            },
            {
                "proverb": "ูุทุงู ุงููุงุช ูู ุงููุฌุฑ ุฃุทูุจ ูุฃูุถุฑ",
                "meaning": "ุฃูุถู ููุช ููุทู ุงููุงุช ุงููุฌุฑ",
                "application": "ููุช ุงููุทู",
            },
            {
                "proverb": "ุงููุงุช ูู ุงูุฃุฑุถ ุงูุณูุฏุงุก ุฃุฎุถุฑ ูุฃุญูู",
                "meaning": "ุงูุชุฑุจุฉ ุงูุฎุตุจุฉ ุชูุชุฌ ูุงุช ุฃูุถู",
                "application": "ุงุฎุชูุงุฑ ุงูุชุฑุจุฉ",
            },
        ],
        "ุทูุงุทู": [
            {
                "proverb": "ุงูุทูุงุทู ุชุญุจ ุงูุดูุณ ููุง ุชุญุจ ุงูุตููุน",
                "meaning": "ุงูุทูุงุทู ูุญุตูู ุตููู ูุฎุดู ุงูุจุฑุฏ",
                "application": "ุชูููุช ุงูุฒุฑุงุนุฉ",
            },
            {
                "proverb": "ุฒุฑุน ุงูุทูุงุทู ูู ุงูุฑุจูุนุ ูุงูุทููุง ูู ุงูุตูู",
                "meaning": "ุงูุทูุงุทู ุชุฒุฑุน ุฑุจูุนุงู ูุชุญุตุฏ ุตููุงู",
                "application": "ุฏูุฑุฉ ุงูุฒุฑุงุนุฉ",
            },
        ],
        "ุจุทุงุทุณ": [
            {
                "proverb": "ุงูุจุทุงุทุณ ุชูุฒุฑุน ูู ุงูููุฑ ุงููุชูุงูุต ูุฏุฑูุงุช ุฃูุจุฑ",
                "meaning": "ุฒุฑุงุนุฉ ุงูุจุทุงุทุณ ูู ุงูููุฑ ุงููุชูุงูุต ุชุนุทู ุฏุฑูุงุช ุฃูุถู",
                "application": "ุชูููุช ุงูุฒุฑุงุนุฉ",
            },
            {
                "proverb": "ุงูุจุทุงุทุณ ุจูุช ุงูุจุฑุฏ ูุงูุชุฑุงุจ ุงููุด",
                "meaning": "ุงูุจุทุงุทุณ ุชููู ุฌูุฏุงู ูู ุงูุฌู ุงูุจุงุฑุฏ ูุงูุชุฑุจุฉ ุงูุฎูููุฉ",
                "application": "ุงูุธุฑูู ุงููุซุงููุฉ",
            },
        ],
        "ููุฒ": [
            {
                "proverb": "ุงูููุฒ ูุญุจ ุงููุงุก ุงููุซูุฑ ูุงูุฌู ุงูุฏุงูุฆ",
                "meaning": "ุงูููุฒ ูุญุชุงุฌ ุฑู ุบุฒูุฑ ูุฏูุก ูุณุชูุฑ",
                "application": "ูุชุทูุจุงุช ุงูููุฒ",
            },
            {
                "proverb": "ุดุฌุฑุฉ ุงูููุฒ ูุฑุฉ ูุงุญุฏุฉุ ุซู ูุฃุชู ุงูุฎูู",
                "meaning": "ุงูููุฒ ูุซูุฑ ูุฑุฉ ูุงุญุฏุฉ ุซู ุชููู ุฎููุงุช ุฌุฏูุฏุฉ",
                "application": "ุฏูุฑุฉ ุงูุฅูุชุงุฌ",
            },
        ],
    },
    "by_season": {
        "ุงูุตูู": [
            {
                "proverb": "ุตูู ุงูุญุงุฌุฉุ ูุดุชุงุก ุงูุฒุฑุงุนุฉ",
                "meaning": "ุงูุตูู ููุงุญุชูุงุฌ ูุงูุดุชุงุก ููุฒุฑุงุนุฉ",
                "application": "ุชุฎุทูุท ุงูููุงุณู",
            },
        ],
        "ุงูุฎุฑูู": [
            {
                "proverb": "ูู ุงูุฎุฑูู ุงุฌูุน ููู ุงูุดุชุงุก ุงุฒุฑุน",
                "meaning": "ุงูุฎุฑูู ููุญุตุงุฏ ูุงูุชุฌููุน",
                "application": "ุชุฎุทูุท ุงูููุงุณู",
            },
        ],
        "ุงูุดุชุงุก": [
            {
                "proverb": "ุงููุทุฑ ูู ุดุชุงุกุ ุฎูุฑ ูู ุฃูู ุฏุนุงุก",
                "meaning": "ุฃูุทุงุฑ ุงูุดุชุงุก ุถุฑูุฑูุฉ ููุฒุฑุงุนุฉ",
                "application": "ุฃูููุฉ ุงูุฃูุทุงุฑ",
            },
        ],
        "ุงูุฑุจูุน": [
            {
                "proverb": "ูู ุงูุฑุจูุน ุงุบุฑุณ ุงูุดุฌุฑุ ุชุญุตุฏ ุงูุซูุฑ",
                "meaning": "ุงูุฑุจูุน ุฃูุถู ููุช ูุบุฑุณ ุงูุฃุดุฌุงุฑ",
                "application": "ุชูููุช ุงูุบุฑุณ",
            },
        ],
    },
    "by_region": {
        "ุชูุงูุฉ": [
            {
                "proverb": "ูู ุชูุงูุฉ ุงูุตุจุฑ ุนูู ุงูุญุฑ ูุงูุนุทุด",
                "meaning": "ููุงุฎ ุชูุงูุฉ ุญุงุฑ ููุญุชุงุฌ ุตุจุฑุงู",
                "application": "ุงูุชููู ูุน ุงูููุงุฎ",
            },
            {
                "proverb": "ุชูุงูุฉ ุฃุฑุถ ุงูููุฒ ูุงููุฎูู",
                "meaning": "ุชูุงูุฉ ููุงุณุจุฉ ูููุญุงุตูู ุงูุงุณุชูุงุฆูุฉ",
                "application": "ุงุฎุชูุงุฑ ุงููุญุงุตูู",
            },
            {
                "proverb": "ูุงุก ุชูุงูุฉ ููููุ ูุงุญุฑุต ุนูู ูู ูุทุฑุฉ",
                "meaning": "ุงูููุงู ูุงุฏุฑุฉ ูู ุชูุงูุฉ ููุฌุจ ุงูุญูุงุธ ุนูููุง",
                "application": "ุชุฑุดูุฏ ุงูููุงู",
            },
            {
                "proverb": "ูู ุชูุงูุฉ ุงูุฒุฑุน ูุน ุฃูู ูุทุฑ",
                "meaning": "ุงุณุชุบูุงู ุงูุฃูุทุงุฑ ุงููุงุฏุฑุฉ ููุฑุงู",
                "application": "ุงูุชูููุช",
            },
        ],
        "ุงููุฑุชูุนุงุช": [
            {
                "proverb": "ูู ุงูุฌุจุงู ุงูุจู ูุงูุจุฑุฏ ูุงูุถุจุงุจ",
                "meaning": "ุงููุฑุชูุนุงุช ููุงุณุจุฉ ูุฒุฑุงุนุฉ ุงูุจู",
                "application": "ุงููุญุงุตูู ุงูุฌุจููุฉ",
            },
            {
                "proverb": "ุงููุฏุฑุฌุงุช ุงูุฌุจููุฉ ููุฒ ุงูุฃุฌุฏุงุฏ",
                "meaning": "ุงููุฏุฑุฌุงุช ุงูุฒุฑุงุนูุฉ ุฅุฑุซ ุซููู",
                "application": "ุงูุญูุงุธ ุนูู ุงููุฏุฑุฌุงุช",
            },
            {
                "proverb": "ูู ุงูุฌุจุงู ุงูููุญ ูุงูุดุนูุฑ ูุงูุนุฏุณ",
                "meaning": "ุงูุญุจูุจ ุชููู ุฌูุฏุงู ูู ุงููุฑุชูุนุงุช",
                "application": "ุงููุญุงุตูู ุงูููุงุณุจุฉ",
            },
            {
                "proverb": "ุงูุณุญุงุจ ูู ุงูุฌุจุงู ุฑู ูุจุฑูุฉ",
                "meaning": "ุงูุถุจุงุจ ูููุฑ ุฑุทูุจุฉ ุฅุถุงููุฉ",
                "application": "ุงูุงุณุชูุงุฏุฉ ูู ุงูุฑุทูุจุฉ",
            },
            {
                "proverb": "ุจุฑุฏ ุงูุฌุจุงู ูุญูู ุงููุงููุฉ",
                "meaning": "ุงูุจุฑูุฏุฉ ุชุญุณู ุฌูุฏุฉ ุงูููุงูู",
                "application": "ุฌูุฏุฉ ุงููุญุตูู",
            },
        ],
        "ุญุถุฑููุช": [
            {
                "proverb": "ูู ุญุถุฑููุช ุงููุฎู ูุงูุณุฏุฑ ูุงูุนุณู",
                "meaning": "ุญุถุฑููุช ูุดููุฑุฉ ุจุงููุฎูู ูุงูุนุณู",
                "application": "ุงููุญุงุตูู ุงููุญููุฉ",
            },
            {
                "proverb": "ูุงุฏู ุญุถุฑููุช ุฌูุฉ ูู ุงูุตุญุฑุงุก",
                "meaning": "ุงููุฏูุงู ุงูุฎุตุจุฉ ูุณุท ุงูุฌูุงู",
                "application": "ุงูุงุณุชูุงุฏุฉ ูู ุงููุฏูุงู",
            },
            {
                "proverb": "ูุงุก ุงูุณูู ูู ุญุถุฑููุช ุฐูุจ ุณุงุฆู",
                "meaning": "ููุงู ุงูุณููู ุซูููุฉ ููุฌุจ ุชุฎุฒูููุง",
                "application": "ุญุตุงุฏ ุงูููุงู",
            },
        ],
    },
    "by_activity": {
        "ุงูุญุฑุงุซุฉ": [
            {
                "proverb": "ุงูุญุฑุซ ุงูุฌูุฏ ูุตู ุงูุฒุฑุน",
                "meaning": "ุชุญุถูุฑ ุงูุฃุฑุถ ุฌูุฏุงู ุฃุณุงุณ ุงููุฌุงุญ",
                "application": "ุฃูููุฉ ุงูุญุฑุงุซุฉ",
            },
            {
                "proverb": "ุงุญุฑุซ ูุฑุชูู ุชุญุตุฏ ุถุนููู",
                "meaning": "ุงูุญุฑุงุซุฉ ุงููุชูุฑุฑุฉ ุชุญุณู ุงูุฅูุชุงุฌ",
                "application": "ุนุฏุฏ ูุฑุงุช ุงูุญุฑุงุซุฉ",
            },
            {
                "proverb": "ุงุญุฑุซ ูู ุงูุฑุทุจ ููุง ุชุญุฑุซ ูู ุงููุงุจุณ",
                "meaning": "ุงูุญุฑุงุซุฉ ุจุนุฏ ุงููุทุฑ ุฃุณูู ูุฃูุถู",
                "application": "ุชูููุช ุงูุญุฑุงุซุฉ",
            },
        ],
        "ุงูุจุฐุฑ": [
            {
                "proverb": "ุงูุจุฐุฑุฉ ุงูุทูุจุฉ ุฃุณุงุณ ุงูุญุตุงุฏ ุงููููุฑ",
                "meaning": "ุฌูุฏุฉ ุงูุจุฐูุฑ ุชุญุฏุฏ ุฌูุฏุฉ ุงููุญุตูู",
                "application": "ุงุฎุชูุงุฑ ุงูุจุฐูุฑ",
            },
            {
                "proverb": "ูุง ุชุจุฐุฑ ูู ุงูุฑูุญ ููุง ูู ุงูุญุฑ ุงูุดุฏูุฏ",
                "meaning": "ุชุฌูุจ ุงูุจุฐุฑ ูู ุธุฑูู ุตุนุจุฉ",
                "application": "ุธุฑูู ุงูุจุฐุฑ",
            },
            {
                "proverb": "ุงูุจุฐุฑ ุงููุจูุฑ ูุฏุฑู ุงูุฎูุฑ",
                "meaning": "ุงูุจุฐุฑ ูู ุงูููุช ุงูููุงุณุจ ูุถูู ูุญุตููุงู ุฌูุฏุงู",
                "application": "ุงูุชูููุช",
            },
            {
                "proverb": "ุงุจุฐุฑ ูู ุงูููุฑ ุงููุชุฒุงูุฏ ุชูุจุช ุงูุจุฐุฑุฉ ุณุฑูุนุงู",
                "meaning": "ุงูููุฑ ุงููุชุฒุงูุฏ ูุณุงุนุฏ ุนูู ุงูุฅูุจุงุช",
                "application": "ูุฑุญูุฉ ุงูููุฑ",
            },
        ],
        "ุงูุฑู": [
            {
                "proverb": "ุงูุฑู ุจุงูุนูู ูุง ุจุงูุนุดูุงุฆูุฉ",
                "meaning": "ุงูุฑู ูุญุชุงุฌ ูุนุฑูุฉ ูุชุฎุทูุท",
                "application": "ุฅุฏุงุฑุฉ ุงูุฑู",
            },
            {
                "proverb": "ูุทุฑุฉ ูุงุก ูู ููุชูุง ุฎูุฑ ูู ุณูู ูู ุบูุฑ ููุชู",
                "meaning": "ุงูุฑู ุงูููุชุธู ุฃูุถู ูู ุงูุฅูุฑุงุท",
                "application": "ุงูุชุธุงู ุงูุฑู",
            },
            {
                "proverb": "ุงุณูู ุงูุฌุฐุฑ ููุง ุชุณูู ุงูุณุงู",
                "meaning": "ุงูุฑู ุนูุฏ ุงูุฌุฐูุฑ ุฃูุซุฑ ูุนุงููุฉ",
                "application": "ุทุฑููุฉ ุงูุฑู",
            },
        ],
        "ุงูุญุตุงุฏ": [
            {
                "proverb": "ุงุญุตุฏ ูู ุงููุงุจุณ ููุง ุชุญุตุฏ ูู ุงูุฑุทุจ",
                "meaning": "ุงูุญุตุงุฏ ูู ุงูุฌู ุงูุฌุงู ูุญูุธ ุงููุญุตูู",
                "application": "ุชูููุช ุงูุญุตุงุฏ",
            },
            {
                "proverb": "ุงูุญุตุงุฏ ูู ุงูููุฑ ุงููุชูุงูุต ูุทูู ุงูุชุฎุฒูู",
                "meaning": "ุงููุญุตูู ุงูููุทูู ูู ุงูููุฑ ุงููุชูุงูุต ููุฎุฒู ุฃูุถู",
                "application": "ูุฑุญูุฉ ุงูููุฑ",
            },
            {
                "proverb": "ูู ุนุฌูู ุงูุญุตุงุฏ ูุงุชู ุงูุฎูุฑ",
                "meaning": "ุงูุตุจุฑ ุญุชู ุงููุถุฌ ุงููุงูู ุถุฑูุฑู",
                "application": "ููุช ุงููุถุฌ",
            },
            {
                "proverb": "ุงุญุตุฏ ูู ุงูุตุจุงุญ ูุจู ุงูุญุฑ",
                "meaning": "ุงูุญุตุงุฏ ุงูุตุจุงุญู ุฃูุถู ููุฌูุฏุฉ",
                "application": "ููุช ุงูุญุตุงุฏ",
            },
        ],
        "ุงูุชุฎุฒูู": [
            {
                "proverb": "ุงูุชุฎุฒูู ุงูุฌูุฏ ูุญูุธ ุชุนุจ ุงูุณูุฉ",
                "meaning": "ุงูุชุฎุฒูู ุงูุณููู ูุญูู ุงููุญุตูู",
                "application": "ุฃูููุฉ ุงูุชุฎุฒูู",
            },
            {
                "proverb": "ุฌููู ูุจู ุฃู ุชุฎุฒูู",
                "meaning": "ุงูุชุฌููู ุถุฑูุฑู ูุจู ุงูุชุฎุฒูู",
                "application": "ุงูุชุญุถูุฑ ููุชุฎุฒูู",
            },
            {
                "proverb": "ุงููุฎุฒู ุงูุจุงุฑุฏ ูุงูุฌุงู ูุทูู ุงูุนูุฑ",
                "meaning": "ุธุฑูู ุงูุชุฎุฒูู ุงูุฌูุฏุฉ ุชุญูุธ ุงููุญุตูู",
                "application": "ุธุฑูู ุงูุชุฎุฒูู",
            },
        ],
    },
}

# ุงูุชูููุงุช ุงูุฒุฑุงุนูุฉ ุงูููููุฉ ุงูุชูููุฏูุฉ
TRADITIONAL_TECHNIQUES = {
    "plowing": {
        "ุงูุญุฑุงุซุฉ ุจุงูุซูุฑุงู": {
            "name": "ุงูุญุฑุงุซุฉ ุจุงูุซูุฑุงู",
            "name_en": "Ox Plowing",
            "description": "ุงุณุชุฎุฏุงู ุงูุซูุฑุงู ูุญุฑุงุซุฉ ุงูุฃุฑุถ ูุจู ุงูุฒุฑุงุนุฉ",
            "tools": ["ุงููุญุฑุงุซ ุงูุฎุดุจู", "ุงูููุฑ", "ุงูุณูุฉ"],
            "best_time": "ูุจู ููุณู ุงูุฃูุทุงุฑ",
            "lunar_phase": "ุงูููุฑ ุงููุชูุงูุต",
            "regions": ["ุงููุฑุชูุนุงุช", "ุงูุณููู"],
            "depth_cm": 20,
            "passes": 2,
            "tips_ar": ["ุงุจุฏุฃ ูู ุงูุฃุทุฑุงู ูุญู ุงููุณุท", "ุงุชุฑู ุงูุฃุฑุถ ููููู ูุจู ุงูุฒุฑุงุนุฉ"],
            "benefits": ["ุชูููุฉ ุงูุชุฑุจุฉ", "ุชูููู ุงูุทุจูุงุช ุงูุตูุจุฉ", "ุฏูุฌ ุงููุฎููุงุช ุงูุนุถููุฉ"],
            "difficulty": "ูุชูุณุทุฉ",
            "traditional_saying": "ุงูุญุฑุซ ุงูุฌูุฏ ูุตู ุงูุฒุฑุน",
        },
        "ุงูุญุฑุงุซุฉ ุงููุฏููุฉ": {
            "name": "ุงูุญุฑุงุซุฉ ุงููุฏููุฉ",
            "name_en": "Manual Plowing",
            "description": "ุญุฑุงุซุฉ ุงูุฃุฑุถ ุจุงุณุชุฎุฏุงู ุงููุนุฒูุฉ ุงููุฏููุฉ ูููุณุงุญุงุช ุงูุตุบูุฑุฉ",
            "tools": ["ุงููุนุฒูุฉ", "ุงููุฃุณ", "ุงูููุฌู"],
            "best_time": "ุงูุตุจุงุญ ุงูุจุงูุฑ ุฃู ุงููุณุงุก",
            "lunar_phase": "ุฃู ูุฑุญูุฉ",
            "regions": ["ุงููุฏุฑุฌุงุช ุงูุฌุจููุฉ", "ุงูุญุฏุงุฆู ุงูููุฒููุฉ"],
            "depth_cm": 15,
            "passes": 1,
            "tips_ar": [
                "ุงุณุชุฎุฏู ุงููุนุฒูุฉ ุจุฒุงููุฉ 45 ุฏุฑุฌุฉ",
                "ุงุญุฑุซ ูู ุงุชุฌุงู ูุงุญุฏ ุฃููุงู ุซู ุนููุฏูุงู",
                "ุงุฑุชุฏู ุงูููุงุฒุงุช ูุญูุงูุฉ ุงููุฏูู",
            ],
            "benefits": ["ุฏูุฉ ุนุงููุฉ", "ููุงุณุจ ูููุณุงุญุงุช ุงูุถููุฉ", "ูุง ูุญุชุงุฌ ุทุงูุฉ ุญููุงููุฉ"],
            "difficulty": "ุณููุฉ",
            "traditional_saying": "ูุฏ ูุงุญุฏุฉ ุจุงูุนูู ุฎูุฑ ูู ุฃูู ุจุงููุณุงู",
        },
        "ุงูุญุฑุงุซุฉ ุจุงููุญุฑุงุซ ุงูุญุฏูุฏู": {
            "name": "ุงูุญุฑุงุซุฉ ุจุงููุญุฑุงุซ ุงูุญุฏูุฏู",
            "name_en": "Iron Plow Plowing",
            "description": "ุงุณุชุฎุฏุงู ุงููุญุฑุงุซ ุงูุญุฏูุฏู ุงูุชูููุฏู ูุน ุงูุซูุฑุงู",
            "tools": ["ุงููุญุฑุงุซ ุงูุญุฏูุฏู", "ุงูููุฑ ุงูุฎุดุจู", "ุงูุณูุฉ ุงูุญุฏูุฏูุฉ"],
            "best_time": "ุจุนุฏ ุงููุทุฑ ูุจุงุดุฑุฉ",
            "lunar_phase": "ุงูููุฑ ุงููุชุฒุงูุฏ",
            "regions": ["ุงูุณููู", "ุงููุฏูุงู"],
            "depth_cm": 25,
            "passes": 3,
            "tips_ar": [
                "ุงุถุจุท ุนูู ุงูุณูุฉ ูุจู ุงูุจุฏุก",
                "ูุธู ุงููุญุฑุงุซ ูู ุงูุฃุนุดุงุจ ูู ุณุงุนุฉ",
                "ุฑุงุนู ุฑุงุญุฉ ุงูุซูุฑุงู ูู ุณุงุนุชูู",
            ],
            "benefits": ["ุนูู ุฃูุถู", "ููุฉ ุญุฑุงุซุฉ ุฃูุจุฑ", "ููุงุณุจ ููุฃุฑุงุถู ุงูุทูููุฉ"],
            "difficulty": "ูุชูุฏูุฉ",
            "traditional_saying": "ุงูุญุฏูุฏ ุจุงูุญุฏูุฏ ููููุญุ ูุงูุฃุฑุถ ุจุงูุญุฑุซ ุชูุตูุญ",
        },
    },
    "irrigation": {
        "ุงูุฑู ุจุงูุณูุงูู": {
            "name": "ุงูุฑู ุจุงูุณูุงูู",
            "name_en": "Channel Irrigation",
            "description": "ููู ุงูููุงู ุนุจุฑ ูููุงุช ุชุฑุงุจูุฉ ูู ุงููุตุฏุฑ ุฅูู ุงูุญููู",
            "water_source": "ุขุจุงุฑ ุฃู ุบููู",
            "efficiency_percent": 60,
            "best_time": "ุงููุฌุฑ ุฃู ุงููุบุฑุจ",
            "technique": "ูุชุญ ูุฅุบูุงู ุงูุจูุงุจุงุช ุจุงูุชูุงูุจ",
            "tools": ["ุงููุฃุณ ูุญูุฑ ุงููููุงุช", "ุจูุงุจุงุช ุฎุดุจูุฉ", "ุฃุญุฌุงุฑ ูุชูุฌูู ุงููุงุก"],
            "regions": ["ุงููุฑุชูุนุงุช", "ุงููุฏูุงู"],
            "water_distribution": "ุชูุงูุจู ุญุณุจ ุงูุญููู",
            "maintenance": "ุชูุธูู ุงููููุงุช ูู ุดูุฑ",
            "tips_ar": [
                "ุงุฌุนู ุงูุณุงููุฉ ุจููู ุฎููู 1-2%",
                "ุถุน ุฃุญุฌุงุฑุงู ูู ุงูุงูุญูุงุกุงุช ูููุน ุงูุชุขูู",
                "ุฃุบูู ุงูุณุงููุฉ ุจุนุฏ ุงูุฑู ูุจุงุดุฑุฉ",
            ],
            "traditional_saying": "ุงููุงุก ุญูุงุฉุ ูุงูุณุงููุฉ ุดุฑูุงููุง",
        },
        "ุงูุฑู ุจุงูุบูุฑ": {
            "name": "ุงูุฑู ุจุงูุบูุฑ",
            "name_en": "Flood Irrigation",
            "description": "ุบูุฑ ุงูุญูู ุจุงููุงุก ุจุงููุงูู ููุชุฑุฉ ูุญุฏุฏุฉ",
            "water_source": "ุณุฏูุฏุ ุขุจุงุฑ ูุจูุฑุฉ",
            "efficiency_percent": 50,
            "best_time": "ุงูููู ูุชูููู ุงูุชุจุฎุฑ",
            "technique": "ุฅุบุฑุงู ุงูุญูู ุจุงููุงูู ููุฏุฉ 2-4 ุณุงุนุงุช",
            "tools": ["ูููุงุช ุฑุฆูุณูุฉ", "ุญูุงุฌุฒ ุชุฑุงุจูุฉ", "ุจูุงุจุงุช"],
            "regions": ["ุงูุณููู ุงูููุจุณุทุฉ", "ุญููู ุงูุฃุฑุฒ"],
            "water_distribution": "ูุชุณุงูู ุนูู ูุงูู ุงููุณุงุญุฉ",
            "maintenance": "ุชุณููุฉ ุงูุฃุฑุถ ุณูููุงู",
            "tips_ar": [
                "ุชุฃูุฏ ูู ุงุณุชูุงุก ุงูุฃุฑุถ ูุจู ุงูุฑู",
                "ุงุตูุน ุญูุงุฌุฒ ุชุฑุงุจูุฉ ุจุงุฑุชูุงุน 20-30 ุณู",
                "ุตุฑูู ุงููุงุก ุงูุฒุงุฆุฏ ุฎูุงู 6 ุณุงุนุงุช",
            ],
            "traditional_saying": "ุงูุฃุฑุถ ุงููุณุชููุฉ ูุงุคูุง ูุชุณุงูู",
            "suitable_crops": ["ุฃุฑุฒ", "ููุญ", "ุดุนูุฑ"],
        },
        "ุงูุฑู ุจุงูุชูููุท ุงูุชูููุฏู": {
            "name": "ุงูุฑู ุจุงูุชูููุท ุงูุชูููุฏู",
            "name_en": "Traditional Drip Irrigation",
            "description": "ุงุณุชุฎุฏุงู ุฃูุงูู ูุฎุงุฑูุฉ ูุณุงููุฉ ูุฏูููุฉ ุจุฌุงูุจ ุงููุจุงุชุงุช",
            "water_source": "ุฃูุงูู ูุฎุงุฑูุฉ ููููุกุฉ ุจุงููุงุก",
            "efficiency_percent": 85,
            "best_time": "ููููุงู ูู ุงูุตุจุงุญ",
            "technique": "ุฏูู ุฃูุงูู ูุฎุงุฑูุฉ ุจุฌุงูุจ ุงููุจุงุชุงุช ุชุชุณุฑุจ ูููุง ุงูููุงู ุจุจุทุก",
            "tools": ["ุฃูุงูู ูุฎุงุฑูุฉ ูุณุงููุฉ", "ุฃุบุทูุฉ ููุฃูุงูู", "ุญุตู ุตุบูุฑุฉ"],
            "regions": ["ุงูุญุฏุงุฆู ุงูููุฒููุฉ", "ุฒุฑุงุนุฉ ุงูุฎุถุฑูุงุช"],
            "water_distribution": "ูุจุงุดุฑ ูุฌุฐูุฑ ุงููุจุงุช",
            "maintenance": "ุชูุธูู ุงูุฃูุงูู ูู ุฃุณุจูุนูู",
            "tips_ar": [
                "ุงุฏูู ุงูุฅูุงุก ุจุญูุซ ูุธูุฑ ุงููููุฉ ููุท",
                "ุถุน ุญุตู ุตุบูุฑุฉ ุญูู ุงูุฅูุงุก",
                "ุงููุฃ ุงูุฃูุงูู ููููุงู ุฃู ูู ููููู",
            ],
            "traditional_saying": "ุงููุงุก ุงููููู ุงูุฏุงุฆู ุฎูุฑ ูู ุงููุซูุฑ ุงููููุทุน",
            "suitable_crops": ["ุทูุงุทู", "ูููู", "ุจุงุฐูุฌุงู", "ุฃุดุฌุงุฑ ุตุบูุฑุฉ"],
            "benefits": ["ุชูููุฑ ุงููุงุก", "ููู ุฌุฐุฑู ููู", "ููุน ุงูุฃุนุดุงุจ"],
        },
        "ุงูุฑู ุจุงูุฏูู ูุงูุฑุดุงุด": {
            "name": "ุงูุฑู ุจุงูุฏูู ูุงูุฑุดุงุด",
            "name_en": "Bucket and Spray Irrigation",
            "description": "ุงูุฑู ุงููุฏูู ุจุงุณุชุฎุฏุงู ุงูุฏูู ูุฑุด ุงููุงุก ุจุงููุบุฑูุฉ",
            "water_source": "ุจุฆุฑุ ุฎุฒุงู",
            "efficiency_percent": 70,
            "best_time": "ุงููุฌุฑ ูุจู ุดุฑูู ุงูุดูุณ",
            "technique": "ุฑุด ุงููุงุก ุจุงูุชุณุงูู ุนูู ุงููุจุงุชุงุช ุจุงุณุชุฎุฏุงู ูุบุฑูุฉ ูุซูุจุฉ",
            "tools": ["ุฏูู", "ูุบุฑูุฉ ูุซูุจุฉ", "ุญุจู ููุณุญุจ"],
            "regions": ["ุฌููุน ุงูููุงุทู"],
            "water_distribution": "ุฑุด ูุฏูู ูุชุณุงูู",
            "maintenance": "ุชูุธูู ุงููุบุฑูุฉ ุฃุณุจูุนูุงู",
            "tips_ar": [
                "ุงุบุฑู ูู ุงูุจุฆุฑ ุจุฑูู ูุชุฌูุจ ุชุนููุฑ ุงููุงุก",
                "ุฑุด ุงููุงุก ูู ุงุฑุชูุงุน ูุชุฑ ูุงุญุฏ",
                "ุชุฌูุจ ุฑุด ุงูุฃูุฑุงู ูู ุงูุดูุณ ุงูุญุงุฑุฉ",
            ],
            "traditional_saying": "ุฑูุฉ ูุงุญุฏุฉ ุตุจุงุญูุฉ ุชุณุงูู ุนุดุฑ ููููุฉ",
            "suitable_crops": ["ุฎุถุฑูุงุช", "ุฒููุฑ", "ุดุชูุงุช"],
        },
    },
    "fertilization": {
        "ุงูุชุณููุฏ ุจุงูุณูุงุฏ ุงูุจูุฏู": {
            "name": "ุงูุณูุงุฏ ุงูุจูุฏู",
            "name_en": "Traditional Organic Fertilizer",
            "description": "ุงุณุชุฎุฏุงู ุฑูุซ ุงูุญููุงูุงุช ูุงููุฎููุงุช ุงูุนุถููุฉ ูุณูุงุฏ ุทุจูุนู",
            "sources": ["ุฑูุซ ุงูุฃุจูุงุฑ", "ุฑูุซ ุงูุฃุบูุงู", "ุฑูุซ ุงูุฏุฌุงุฌ", "ูุฎููุงุช ุงูููุฒู ุงูุนุถููุฉ"],
            "composting_days": 60,
            "application_kg_per_hectare": 5000,
            "best_moon_phase": "ุงูููุฑ ุงููุชุฒุงูุฏ",
            "application_time": "ูุจู ุงูุฒุฑุงุนุฉ ุจุฃุณุจูุนูู",
            "benefits": [
                "ูุญุณู ุจููุฉ ุงูุชุฑุจุฉ",
                "ุจุทูุก ุงูุชุญูู ูุบุฐู ุทูููุงู",
                "ุขูู ุจูุฆูุงู",
                "ูุฒูุฏ ุงุญุชูุงุธ ุงูุชุฑุจุฉ ุจุงููุงุก",
            ],
            "preparation": [
                "ุงุฌูุน ุงูุฑูุซ ูู ููุงู ูุธูู",
                "ุงุฎูุทู ูุน ุงููุด ูุงููุฎููุงุช",
                "ุฑุด ุงููุงุก ููุชุฑุทูุจ",
                "ูููุจ ุงููููุฉ ูู ุฃุณุจูุนูู",
                "ุงูุชุธุฑ 60 ูููุงู ุญุชู ุงููุถุฌ",
            ],
            "application_method": "ูุซุฑ ุนูู ุงูุฃุฑุถ ูุจู ุงูุญุฑุซ ุฃู ุฎูุท ูุน ุงูุชุฑุจุฉ",
            "tips_ar": [
                "ุฑูุซ ุงูุฃุบูุงู ุฃููู ูู ุฑูุซ ุงูุฃุจูุงุฑ",
                "ูุง ุชุณุชุฎุฏู ุฑูุซุงู ุทุงุฒุฌุงู - ูุฏ ูุญุฑู ุงููุจุงุชุงุช",
                "ุฃุถู ุฑูุงุฏ ุงูุฎุดุจ ููุณูุงุฏ ูุฒูุงุฏุฉ ุงูุจูุชุงุณููู",
            ],
            "traditional_saying": "ุงูุณูุงุฏ ุงูุจูุฏู ุฃุจู ุงูุฎุตูุจุฉ",
        },
        "ุงูุฑูุงุฏ": {
            "name": "ุงูุฑูุงุฏ",
            "name_en": "Wood Ash Fertilizer",
            "description": "ุงุณุชุฎุฏุงู ุฑูุงุฏ ุงูุญุทุจ ูุณูุงุฏ ุบูู ุจุงูุจูุชุงุณููู ูุงููุนุงุฏู",
            "sources": ["ุฑูุงุฏ ุญุทุจ ุงูุจููุท", "ุฑูุงุฏ ุงูุณุฏุฑ", "ุฑูุงุฏ ุงูุญุทุจ ุงูุนุงุฏู"],
            "composting_days": 0,
            "application_kg_per_hectare": 500,
            "best_moon_phase": "ุงูููุฑ ุงููุชูุงูุต",
            "application_time": "ูุจุงุดุฑุฉ ุนูุฏ ุงูุญุงุฌุฉ",
            "benefits": [
                "ุบูู ุจุงูุจูุชุงุณููู",
                "ูุฑูุน ุญููุถุฉ ุงูุชุฑุจุฉ (ูููู)",
                "ูุทุฑุฏ ุจุนุถ ุงูุญุดุฑุงุช",
                "ูุญุณู ุทุนู ุงูุซูุงุฑ",
            ],
            "preparation": [
                "ุงุฌูุน ุงูุฑูุงุฏ ุงูุจุงุฑุฏ ูู ุงูููุงูุฏ",
                "ูุฎููู ูุฅุฒุงูุฉ ุงููุทุน ุงููุจูุฑุฉ",
                "ุงุญูุธู ูู ููุงู ุฌุงู",
            ],
            "application_method": "ูุซุฑ ุฎููู ุญูู ุงููุจุงุชุงุช ุฃู ุฎูุท ูุน ูุงุก ุงูุฑู",
            "tips_ar": [
                "ูุง ุชุณุชุฎุฏู ุฑูุงุฏ ุงููุญู - ูุถุฑ",
                "ุงูุฑูุงุฏ ูููู - ูุง ุชูุซุฑ ููู",
                "ูููุฏ ุฌุฏุงู ููุทูุงุทู ูุงูุจุทุงุทุณ",
            ],
            "traditional_saying": "ุงูุฑูุงุฏ ููุซูุฑ ุญูุงูุฉุ ูููุชุฑุจุฉ ููููุฉ",
            "suitable_crops": ["ุทูุงุทู", "ุจุทุงุทุณ", "ุจุตู", "ููุงูู"],
            "cautions": ["ุชุฌูุจ ุงูุงุณุชุฎุฏุงู ุงูููุฑุท", "ูุง ููุงุณุจ ุงููุจุงุชุงุช ุงููุญุจุฉ ููุญููุถุฉ"],
        },
        "ูุฎููุงุช ุงูุจู": {
            "name": "ูุฎููุงุช ุงูุจู",
            "name_en": "Coffee Grounds Fertilizer",
            "description": "ุงุณุชุฎุฏุงู ูุดูุฑ ุงูุจู ุงููุฌููุฉ ูุจูุงูุง ุงููููุฉ ูุณูุงุฏ ุนุถูู",
            "sources": ["ูุดูุฑ ุงูุจู", "ุจูุงูุง ุงููููุฉ ุงููุทุญููุฉ"],
            "composting_days": 30,
            "application_kg_per_hectare": 2000,
            "best_moon_phase": "ุงูููุฑ ุงููุชุฒุงูุฏ",
            "application_time": "ุฎูุงู ููุณู ุงูููู",
            "benefits": [
                "ุบูู ุจุงูููุชุฑูุฌูู",
                "ูุญุณู ุชุฑููุจ ุงูุชุฑุจุฉ",
                "ุญูุถู - ููุงุณุจ ูุจุนุถ ุงููุจุงุชุงุช",
                "ูุทุฑุฏ ุจุนุถ ุงูุญุดุฑุงุช",
            ],
            "preparation": [
                "ุงุฌูุน ูุดูุฑ ุงูุจู ุจุนุฏ ุงูุชุฌููู",
                "ุฌูููุง ุชูุงูุงู ูู ุงูุดูุณ",
                "ุงุทุญููุง ุฃู ุงุชุฑููุง ููุง ูู",
                "ูููู ุฎูุทูุง ูุน ุงูุณูุงุฏ ุงูุจูุฏู",
            ],
            "application_method": "ูุซุฑ ุญูู ุงููุจุงุชุงุช ุฃู ุฎูุท ูุน ุงูุชุฑุจุฉ ุงูุนูููุฉ",
            "tips_ar": [
                "ููุชุงุฒ ููุจุงุชุงุช ุงูุจู ููุณูุง",
                "ูุง ุชูุซุฑ - ูุฏ ูุฒูุฏ ุญููุถุฉ ุงูุชุฑุจุฉ",
                "ุงุฎูุทู ูุน ุงูุฑูุงุฏ ูุชุนุฏูู ุงูุญููุถุฉ",
            ],
            "traditional_saying": "ุงูุจู ูุบุฐู ุงูุจู - ุฏูุฑุฉ ุงูุทุจูุนุฉ",
            "suitable_crops": ["ุจู", "ูุฑูุฏ", "ุทูุงุทู", "ุฌุฒุฑ"],
            "nitrogen_content": "ุญูุงูู 2%",
        },
        "ุงูุณูุงุฏ ุงูุฃุฎุถุฑ": {
            "name": "ุงูุณูุงุฏ ุงูุฃุฎุถุฑ",
            "name_en": "Green Manure",
            "description": "ุฒุฑุงุนุฉ ูุจุงุชุงุช ุจููููุฉ ูุฏูููุง ูู ุงูุชุฑุจุฉ ูุณูุงุฏ",
            "sources": ["ุงูููู", "ุงูุจุฑุณูู", "ุงูุญูุจุฉ", "ุงูุนุฏุณ"],
            "composting_days": 14,
            "application_kg_per_hectare": 10000,
            "best_moon_phase": "ุงูููุฑ ุงููุชุฒุงูุฏ ููุฒุฑุงุนุฉ",
            "application_time": "ูุจู ุงูููุณู ุงูุฑุฆูุณู ุจู 3 ุฃุดูุฑ",
            "benefits": [
                "ูุซุจุช ุงูููุชุฑูุฌูู ูู ุงูุฌู",
                "ูุญุณู ุจููุฉ ุงูุชุฑุจุฉ ุจุณุฑุนุฉ",
                "ููุงูุญ ุงูุฃุนุดุงุจ",
                "ูุชุฌุฏุฏ ููุฌุงูู",
            ],
            "preparation": [
                "ุงุฒุฑุน ุงูุจููููุงุช ูู ุงูุฃุฑุถ",
                "ุฏุนูุง ุชููู 60-90 ูููุงู",
                "ุงุญุฑุซูุง ูู ุงูุชุฑุจุฉ ูุจู ุงูุฅุฒูุงุฑ",
                "ุงูุชุธุฑ ุฃุณุจูุนูู ูุจู ุงูุฒุฑุงุนุฉ ุงูุฑุฆูุณูุฉ",
            ],
            "application_method": "ุญุฑุงุซุฉ ุงููุจุงุชุงุช ุงูุฎุถุฑุงุก ูู ุงูุชุฑุจุฉ",
            "tips_ar": [
                "ุงูุทุน ุงููุจุงุชุงุช ูุจู ุงูุฅุฒูุงุฑ - ุฃูุตู ููุชุฑูุฌูู",
                "ุงูุจุฑุณูู ุฃูุถู ุณูุงุฏ ุฃุฎุถุฑ",
                "ุฑุด ููููุงู ูู ุงููุงุก ุจุนุฏ ุงูุญุฑุงุซุฉ",
            ],
            "traditional_saying": "ูุง ุฃูู ุงูุญููุงู ุฎูุฑุ ููุง ุฏูู ูู ุงูุฃุฑุถ ุฃุฎูุฑ",
            "suitable_green_crops": ["ุจุฑุณูู", "ููู", "ุญูุจุฉ", "ุจุงุฒููุงุก"],
        },
    },
    "harvesting": {
        "ุญุตุงุฏ ุงูุญุจูุจ ูุฏููุงู": {
            "name": "ุญุตุงุฏ ุงูุญุจูุจ ูุฏููุงู",
            "name_en": "Manual Grain Harvesting",
            "description": "ูุทู ุณูุงุจู ุงูููุญ ูุงูุดุนูุฑ ุจุงุณุชุฎุฏุงู ุงูููุฌู ุงูุชูููุฏู",
            "tools": ["ุงูููุฌู", "ุญุจุงู ููุฑุจุท", "ุจุณุท ููุชุฌููู"],
            "best_time": "ุงูุตุจุงุญ ุงูุจุงูุฑ ุจุนุฏ ุฌูุงู ุงููุฏู",
            "lunar_phase": "ุงูููุฑ ุงููุชูุงูุต",
            "best_season": "ุงูุตูู - ููููู/ููููู",
            "technique": "ุงููุทุน ุจุฒุงููุฉ 45 ุฏุฑุฌุฉ ููู ุงูุฃุฑุถ ุจู 10-15 ุณู",
            "drying_days": 7,
            "storage": "ุฃููุงุณ ููุงุดูุฉ ูู ููุงู ุฌุงู",
            "tips_ar": [
                "ุงุญุตุฏ ุนูุฏูุง ุชููู ุงูุณูุงุจู ุฐูุจูุฉ ูุฌุงูุฉ",
                "ุงุฑุจุท ุงูุญุฒู ูุจุงุดุฑุฉ ุจุนุฏ ุงููุทุน",
                "ุงุถุฑุจ ุงูุณูุงุจู ุจุฑูู ููุตู ุงูุญุจูุจ",
                "ูุธู ุงูุญุจูุจ ุจุงูุบุฑุจูุฉ",
            ],
            "traditional_saying": "ุงูุญุตุงุฏ ูู ุงููุญุงูุ ูุงูุญุจูุจ ูู ุงูุฃุฌุฑุงุจ",
            "moisture_content": "12-14% ููุชุฎุฒูู ุงูุขูู",
        },
        "ูุทู ุงูุจู": {
            "name": "ูุทู ุงูุจู",
            "name_en": "Coffee Harvesting",
            "description": "ูุทู ุญุจุงุช ุงูุจู ุงููุงุถุฌุฉ ูุฏููุงู - ุงูุทุฑููุฉ ุงูููููุฉ ุงูุชูููุฏูุฉ",
            "tools": ["ุณูุงู ุฎูุตูุฉ", "ุณูุงูู ุฎุดุจูุฉ", "ููุงุฑุด ููุชุฌููู"],
            "best_time": "ุงูุตุจุงุญ ุงูุจุงูุฑ",
            "lunar_phase": "ุงูููุฑ ุงููุชูุงูุต",
            "best_season": "ุงูุฎุฑูู - ุฃูุชูุจุฑ/ููููุจุฑ/ุฏูุณูุจุฑ",
            "technique": "ูุทู ุงูุชูุงุฆู - ุงูุญุจุงุช ุงูุญูุฑุงุก ุงููุงุถุฌุฉ ููุท",
            "drying_days": 21,
            "storage": "ูู ููุงู ุฌุงู ุจุนูุฏุงู ุนู ุงูุฑุทูุจุฉ",
            "tips_ar": [
                "ุงูุทู ุงูุญุจุงุช ุงูุญูุฑุงุก ููุท",
                "ูุฑุฑ ุนูู ุงูุดุฌุฑุฉ ุนุฏุฉ ูุฑุงุช",
                "ุฌูู ุนูู ุงูุฃุณุทุญ ุฃู ุงูุญุตูุฑ",
                "ูููุจ ุงูุญุจุงุช ูุฑุชูู ููููุงู",
            ],
            "traditional_saying": "ูุทู ุงูุจู ูู ุงูุซุฑูุงุ ูุฌููู ูู ุงูุฌูุฒุงุก",
            "processing_method": "ุงูุชุฌููู ุงูุทุจูุนู ุนูู ุงูุฃุณุทุญ",
            "quality_indicator": "ุงูููู ุงูุฃุญูุฑ ุงูุฏุงูู ููุญุจุฉ",
        },
        "ุฌูู ุงูุนุณู ุงูุชูููุฏู": {
            "name": "ุฌูู ุงูุนุณู ุงูุชูููุฏู",
            "name_en": "Traditional Honey Harvesting",
            "description": "ุงุณุชุฎุฑุงุฌ ุงูุนุณู ูู ุฎูุงูุง ุงููุญู ุงูุฌุจููุฉ ุงูุชูููุฏูุฉ",
            "tools": ["ุงููุฏุฎู", "ุณููู ุงูุนุณู", "ุฃูุนูุฉ ูุฎุงุฑูุฉ", "ููุงุฒุงุช"],
            "best_time": "ุงูุตุจุงุญ ุงูุจุงูุฑ ุฃู ุงููุณุงุก",
            "lunar_phase": "ุงูููุฑ ุงููุชูุงูุต",
            "best_season": "ุงูุฎุฑูู ุจุนุฏ ููุณู ุงูุฃุฒูุงุฑ",
            "technique": "ุงูุชุฏุฎูู ูุชูุฏุฆุฉ ุงููุญู ุซู ูุทุน ุงูุฃูุฑุงุต ุจุฑูู",
            "processing": "ุงูุนุตุฑ ุงููุฏูู ุฃู ุจุงูุซูู",
            "storage": "ูู ุฃูุงูู ูุฎุงุฑูุฉ ูุบููุฉ",
            "tips_ar": [
                "ุงุณุชุฎุฏู ุงูุฏุฎุงู ุจุฑูู - ูุง ุชุฎูู ุงููุญู",
                "ุงุชุฑู ุซูุซ ุงูุฃูุฑุงุต ูููุญู",
                "ุงุฌูู ูู ุงูุฃูุงู ุงูุฌุงูุฉ ููุท",
                "ุตููู ุงูุนุณู ุจูุทุนุฉ ููุงุด ูุธููุฉ",
            ],
            "traditional_saying": "ุงูุนุณู ูู ุงูููุฑ ุงููุชูุงูุต ุฃุตูู ูุฃุญูู",
            "smoke_source": "ูุดูุฑ ุงูุจู ุงููุฌููุฉ ุฃู ุฃุนุดุงุจ ุนุทุฑูุฉ",
            "yield_kg_per_hive": "5-15 ูุฌู ุณูููุงู",
        },
        "ูุทุงู ุงูุชููุฑ": {
            "name": "ูุทุงู ุงูุชููุฑ",
            "name_en": "Date Harvesting",
            "description": "ูุทู ุงูุชูุฑ ูู ุงููุฎูู ูู ูุฑุงุญู ุงููุถุฌ ุงููุฎุชููุฉ",
            "tools": ["ุณูู ุทููู", "ุณูุงู", "ููุต", "ุญุจุงู"],
            "best_time": "ุงูุตุจุงุญ ูุจู ุงูุญุฑ ุงูุดุฏูุฏ",
            "lunar_phase": "ุฃู ูุฑุญูุฉ",
            "best_season": "ุงูุตูู - ููููู/ุฃุบุณุทุณ/ุณุจุชูุจุฑ",
            "technique": "ุงููุทู ุงูุชุฏุฑูุฌู ุญุณุจ ุงููุถุฌ",
            "drying_days": "ุญุณุจ ุงูููุน: 0-14 ููู",
            "storage": "ูู ุณูุงู ูููุงุฉ ุฃู ุฃูุนูุฉ",
            "tips_ar": [
                "ุงูุทู ุงูุชูุฑ ูู ูุฑุญูุฉ ุงูุฑุทุจ ููุฃูู ุงูุทุงุฒุฌ",
                "ุงุชุฑู ุงูุจุนุถ ููุฌู ุนูู ุงูุดุฌุฑุฉ",
                "ุงูุฑุฒ ุงูุชูุฑ ุญุณุจ ุงูุฌูุฏุฉ",
                "ุฎุฒู ูู ููุงู ุจุงุฑุฏ ูุฌุงู",
            ],
            "traditional_saying": "ุงูุชูุฑ ูู ุงูุตูู ุฐูุจุ ููู ุงูุดุชุงุก ุบุฐุงุก",
            "ripeness_stages": ["ุฎูุงู", "ุจุณุฑ", "ุฑุทุจ", "ุชูุฑ"],
        },
    },
    "processing": {
        "ุชุฌููู ุงูุจู": {
            "name": "ุชุฌููู ุงูุจู ุนูู ุงูุณุทูุญ",
            "name_en": "Rooftop Coffee Drying",
            "description": "ุชุฌููู ุญุจุงุช ุงูุจู ุนูู ุฃุณุทุญ ุงูููุงุฒู ูุงูุญุตูุฑ - ุงูุทุฑููุฉ ุงูููููุฉ ุงูุฃุตููุฉ",
            "method": "ูุดุฑ ุงูุซูุงุฑ ุนูู ุฃุณุทุญ ุงูููุงุฒู ุฃู ุญุตูุฑ ุงููุด",
            "duration_days": 21,
            "turning_frequency": "ูุฑุชูู ููููุงู - ุงูุตุจุงุญ ูุงูุธูุฑ",
            "best_season": "ุงูุฎุฑูู - ุฃูุชูุจุฑ/ููููุจุฑ",
            "ideal_temperature": "25-30 ุฏุฑุฌุฉ ูุฆููุฉ",
            "humidity_limit": "ุฃูู ูู 60%",
            "final_moisture": "10-12%",
            "tips_ar": [
                "ุงูุดุฑ ุทุจูุฉ ุฑูููุฉ - ุณูุงูุฉ ุญุจุชูู ููุท",
                "ูููุจ ุงูุญุจุงุช ุจุงูุชุธุงู ููุชุฌููู ุงููุชุณุงูู",
                "ุงุฌูุน ุงูุญุจุงุช ุนูุฏ ุบุฑูุจ ุงูุดูุณ",
                "ุบุทูุง ูููุงู ูููุน ุงูุฑุทูุจุฉ",
            ],
            "quality_indicators": [
                "ุงูููู ุงูุจูู ุงูุฏุงูู",
                "ุตูุช ุทูุทูุฉ ุนูุฏ ุงููุฒ",
                "ุณูููุฉ ูุตู ุงููุดุฑุฉ",
            ],
            "traditional_saying": "ุงูุจู ุงูุฌุจูู ูุฌูู ุจุงูุดูุณ ูุงูููุงุก - ุทุนูู ุงูุฃุตูู",
        },
        "ุทุญู ุงูุญุจูุจ": {
            "name": "ุทุญู ุงูุญุจูุจ",
            "name_en": "Grain Milling",
            "description": "ุทุญู ุงูููุญ ูุงูุดุนูุฑ ุจุงุณุชุฎุฏุงู ุงูุฑุญู ุงูุญุฌุฑูุฉ ุงูุชูููุฏูุฉ",
            "method": "ุงูุทุญู ุจูู ุญุฌุฑู ุงูุฑุญู ุจุงูุฏูุฑุงู",
            "tools": ["ุงูุฑุญู ุงูุญุฌุฑูุฉ", "ุงููุงุฏูุณ", "ุฃููุงุณ ููุงุดูุฉ"],
            "best_time": "ูู ุฃู ููุช ุญุณุจ ุงูุญุงุฌุฉ",
            "lunar_phase": "ุงูููุฑ ุงููุชูุงูุต - ุงูุทุญูู ูุฏูู ุฃูุซุฑ",
            "processing_kg_per_hour": 10,
            "tips_ar": [
                "ูุธู ุงูุญุจูุจ ุฌูุฏุงู ูุจู ุงูุทุญู",
                "ุงุถุจุท ุงููุณุงูุฉ ุจูู ุงูุญุฌุฑูู ุญุณุจ ุงููุนููุฉ ุงููุทููุจุฉ",
                "ุฏุน ุงูุฑุญู ุชุจุฑุฏ ูู ุณุงุนุฉ",
                "ุงุญูุธ ุงูุฏููู ูู ููุงู ุฌุงู ููุธูู",
            ],
            "flour_types": ["ุฏููู ูุงุนู", "ุฏููู ุฎุดู", "ุจูููุฉ (ุญุจ ููุณูุฑ)"],
            "traditional_saying": "ุงูุฑุญู ุชุทุญู ุจุจุทุก ููู ุจุฅุชูุงู",
            "shelf_life_days": 90,
        },
        "ุชุฎุฒูู ุงูุญุจูุจ": {
            "name": "ุชุฎุฒูู ุงูุญุจูุจ",
            "name_en": "Grain Storage",
            "description": "ุญูุธ ุงูุญุจูุจ ูู ุตูุงูุน ุทูููุฉ ุฃู ุฃููุงุณ ููุงุดูุฉ ุชูููุฏูุฉ",
            "method": "ุงูุชุฎุฒูู ูู ุตูุงูุน ุทูููุฉ ูุญููุฉ ุฃู ุฃููุงุณ ููุงุด",
            "containers": ["ุงูุตูุงูุน ุงูุทูููุฉ", "ุฃููุงุณ ุงูููุงุด", "ุจุฑุงููู ุฎุดุจูุฉ"],
            "best_time": "ุจุนุฏ ุงูุชุฌููู ุงููุงูู",
            "lunar_phase": "ุงูููุฑ ุงููุชูุงูุต",
            "ideal_temperature": "15-20 ุฏุฑุฌุฉ ูุฆููุฉ",
            "humidity_limit": "ุฃูู ูู 13%",
            "pest_prevention": [
                "ุฅุถุงูุฉ ุฃูุฑุงู ุงููุนูุงุน ุงูุฌุงูุฉ",
                "ูุถุน ุญุจุงุช ุงูุซูู",
                "ุฑุด ุทุจูุฉ ุฑูุงุฏ ุฎูููุฉ",
            ],
            "tips_ar": [
                "ุฌูู ุงูุญุจูุจ ุชูุงูุงู ูุจู ุงูุชุฎุฒูู",
                "ุงูุญุต ุงููุฎุฒูู ุดูุฑูุงู",
                "ุถุน ุงูุญุจูุจ ุงูุฌุฏูุฏุฉ ูู ูุงุน ุงูุตููุนุฉ",
                "ุชุฌูุจ ุงูุชุฎุฒูู ุจุฌุงูุจ ุฌุฏุฑุงู ุฑุทุจุฉ",
            ],
            "shelf_life_months": 12,
            "traditional_saying": "ุงูุญุจูุจ ุงููุฎุฒููุฉ ูู ุงูููุฑ ุงูุฃุณูุฏ ุชุฏูู ุณูุฉ",
        },
        "ุชุฌููู ุงูููุงูู": {
            "name": "ุชุฌููู ุงูููุงูู",
            "name_en": "Fruit Drying",
            "description": "ุชุฌููู ุงูุนูุจ ูุงูุชูู ูุงููุดูุด ุจุงูุดูุณ ููุญูุธ",
            "method": "ุงูุชุฌููู ุงูุดูุณู ุนูู ุญุตูุฑ ุฃู ุตูุงูู",
            "tools": ["ุญุตูุฑ", "ุดุจู", "ุบุทุงุก ุดูุงู"],
            "duration_days": "5-14 ุญุณุจ ุงูููุน",
            "turning_frequency": "ูุฑุฉ ููููุงู",
            "best_season": "ุงูุตูู - ุงูุญุฑุงุฑุฉ ุงูุนุงููุฉ",
            "ideal_temperature": "30-40 ุฏุฑุฌุฉ ูุฆููุฉ",
            "final_moisture": "15-20%",
            "fruits_suitable": ["ุนูุจ (ุฒุจูุจ)", "ุชูู", "ูุดูุด", "ุชูุฑ"],
            "tips_ar": [
                "ุงุบุณู ุงูููุงูู ูุฌูููุง ูุจู ุงููุดุฑ",
                "ูุทูุน ุงูููุงูู ุงููุจูุฑุฉ ููุตููู",
                "ุบุทูุง ุจุดุจู ูุญูุงูุชูุง ูู ุงูุญุดุฑุงุช",
                "ุงุฌูุนูุง ูููุงู ูู ููุงู ุฌุงู",
            ],
            "traditional_saying": "ุงููุงููุฉ ุงููุฌููุฉ ุฒุงุฏ ุงูุดุชุงุก",
        },
    },
    "pest_control": {
        "ุงูููุงูุญุฉ ุจุงูุฑูุงุฏ": {
            "name": "ุงูููุงูุญุฉ ุจุงูุฑูุงุฏ",
            "name_en": "Ash Pest Control",
            "description": "ุงุณุชุฎุฏุงู ุฑูุงุฏ ุงูุฎุดุจ ูููุงูุญุฉ ุงูุญุดุฑุงุช ูุงูุขูุงุช",
            "method": "ูุซุฑ ุงูุฑูุงุฏ ุญูู ุงููุจุงุชุงุช ุฃู ุนูู ุงูุฃูุฑุงู",
            "pests_controlled": ["ุงูุญูุฒูู", "ุงูุฏูุฏุงู", "ุงูููู", "ุงููู"],
            "application_frequency": "ูู ุฃุณุจูุนูู ุฃู ุจุนุฏ ุงููุทุฑ",
            "best_time": "ุงูุตุจุงุญ ุงูุจุงูุฑ ุนูู ุงูุฃูุฑุงู ุงููุจููุฉ ุจุงููุฏู",
            "tools": ["ุบุฑุจุงู ูุงุนู", "ููุงุฒุงุช", "ููุงุน"],
            "preparation": "ูุฎู ุงูุฑูุงุฏ ุงูุจุงุฑุฏ ูุฅุฒุงูุฉ ุงููุทุน ุงููุจูุฑุฉ",
            "tips_ar": [
                "ุงูุซุฑ ุทุจูุฉ ุฎูููุฉ ุญูู ุงููุจุงุช",
                "ูุฑุฑ ุจุนุฏ ูู ูุทุฑ",
                "ูุง ุชูุซุฑ - ูุฏ ูุฑูุน ููููุฉ ุงูุชุฑุจุฉ",
                "ุงุฎูุท ูุน ุงููุงุก ููุฑุด ุนูู ุงูุฃูุฑุงู",
            ],
            "effectiveness_percent": 70,
            "traditional_saying": "ุงูุฑูุงุฏ ุณูู ุงููุจุงุช ุถุฏ ุงูุญุดุฑุงุช",
        },
        "ุงูุชุจุฎูุฑ ุจุงูุฃุนุดุงุจ": {
            "name": "ุงูุชุจุฎูุฑ ุจุงูุฃุนุดุงุจ",
            "name_en": "Herbal Fumigation",
            "description": "ุญุฑู ุฃุนุดุงุจ ุนุทุฑูุฉ ูุทุฑุฏ ุงูุญุดุฑุงุช ูู ุงูุญููู ูุงููุฎุงุฒู",
            "method": "ุญุฑู ุงูุฃุนุดุงุจ ุงูุฌุงูุฉ ูุชูุฌูู ุงูุฏุฎุงู ูุญู ุงููุจุงุชุงุช",
            "herbs_used": ["ุงูุดูุญ", "ุงูุญุจู", "ุงููุนูุงุน ุงูุจุฑู", "ุงูุฒุนุชุฑ", "ูุดูุฑ ุงูุจู"],
            "pests_controlled": ["ุงูุฐุจุงุจ", "ุงูุจุนูุถ", "ุงูุนุซ", "ุงููุฑุงุดุงุช ุงูุถุงุฑุฉ"],
            "application_frequency": "ูุฑุฉ ุฃุณุจูุนูุงู ุฃู ุนูุฏ ุงูุญุงุฌุฉ",
            "best_time": "ุงููุณุงุก ูุจู ุงูุบุฑูุจ",
            "tools": ["ูุจุฎุฑุฉ ูุนุฏููุฉ", "ุฃุนุดุงุจ ุฌุงูุฉ", "ูููุงุฎ"],
            "tips_ar": [
                "ุงุณุชุฎุฏู ุฃุนุดุงุจุงู ุฌุงูุฉ ุชูุงูุงู",
                "ุจุฎุฑ ูู ุงุชุฌุงู ุงูุฑูุญ",
                "ูุฑุฑ ุจุนุฏ ุงูุฃูุทุงุฑ",
                "ุงุญูุธ ุงูุฃุนุดุงุจ ุงููุฌููุฉ ูู ููุงู ุฌุงู",
            ],
            "effectiveness_percent": 60,
            "traditional_saying": "ุฏุฎุงู ุงูุฃุนุดุงุจ ูุทุฑุฏ ุงูุดุฑ ูุงูุญุดุฑุงุช",
            "side_benefits": ["ุฑุงุฆุญุฉ ุทูุจุฉ", "ุชุทููุฑ ุงูููุงุก"],
        },
        "ุงููุฒุงุนุงุช ุงูุชูููุฏูุฉ": {
            "name": "ุงููุฒุงุนุงุช ุงูุชูููุฏูุฉ",
            "name_en": "Traditional Scarecrows",
            "description": "ูุตุจ ุฃุดูุงู ุจุดุฑูุฉ ุฃู ุนุงูุณุฉ ูุทุฑุฏ ุงูุทููุฑ ูู ุงูุญููู",
            "method": "ุตูุน ุฏูู ูู ุงูููุงุด ูุงููุด ุฃู ุชุนููู ุฃูุฑุงุต ูุงูุนุฉ",
            "materials": [
                "ุนุตู ุฎุดุจูุฉ",
                "ููุงุจุณ ูุฏููุฉ",
                "ูุด",
                "ุฃูุฑุงุต ูุนุฏููุฉ ูุงูุนุฉ",
                "ุฃุฌุฑุงุณ ุตุบูุฑุฉ",
            ],
            "pests_controlled": ["ุงูุทููุฑ", "ุงูุบุฑุจุงู", "ุงูุญูุงู"],
            "effectiveness_duration": "2-3 ุฃุดูุฑ (ุซู ุชุนุชุงุฏ ุงูุทููุฑ)",
            "best_time": "ูุจู ูุถุฌ ุงููุญุงุตูู",
            "tips_ar": [
                "ุบููุฑ ูููุน ุงููุฒุงุนุฉ ูู ุฃุณุจูุน",
                "ุฃุถู ุนูุงุตุฑ ูุชุญุฑูุฉ (ุฃููุดุฉ ุชุฑูุฑู)",
                "ุนูู ุฃูุฑุงุต ูุนุฏููุฉ ุชุนูุณ ุงูุถูุก",
                "ุงุณุชุฎุฏู ุนุฏุฉ ูุฒุงุนุงุช ุจุฃุดูุงู ูุฎุชููุฉ",
            ],
            "effectiveness_percent": 50,
            "traditional_saying": "ุงููุฒุงุนุฉ ุงูุณุงููุฉ ุชุฎูู ุฃุณุจูุนุงูุ ูุงููุชุญุฑูุฉ ุดูุฑุงู",
            "enhancement": "ุฅุถุงูุฉ ุฃุฌุฑุงุณ ุฃู ุดุฑุงุฆุท ุตูุชูุฉ",
        },
        "ุงููุตุงุฆุฏ ุงููุฎุงุฑูุฉ": {
            "name": "ุงููุตุงุฆุฏ ุงููุฎุงุฑูุฉ",
            "name_en": "Clay Pot Traps",
            "description": "ุงุณุชุฎุฏุงู ุฃูุงูู ูุฎุงุฑูุฉ ููุตุงุฆุฏ ููุญุดุฑุงุช",
            "method": "ุฏูู ุฃูุงูู ูุฎุงุฑูุฉ ููููุกุฉ ุจุณุงุฆู ุฌุงุฐุจ ููุญุดุฑุงุช",
            "trap_liquid": ["ูุงุก + ุณูุฑ + ุฎู", "ุนุตูุฑ ููุงูู ูุชุฎูุฑ", "ูุงุก ุตุงุจููู"],
            "pests_controlled": ["ุงูุฎูุงูุณ", "ุงูุฏูุฏุงู", "ุงูููู ุงูุทุงุฆุฑ"],
            "application_frequency": "ุชูุฑูุบ ูุชูุธูู ูู 3 ุฃูุงู",
            "best_time": "ุจุฏุงูุฉ ุงูููุณู ูุจู ุชูุงุซุฑ ุงูุญุดุฑุงุช",
            "tools": ["ุฃูุงูู ูุฎุงุฑูุฉ ุตุบูุฑุฉ", "ุบุทุงุก ูุซูุจ", "ุณูุงุฆู ุฌุงุฐุจุฉ"],
            "tips_ar": [
                "ุงุฏูู ุงูุฅูุงุก ุจุญูุซ ุชููู ุงููููุฉ ุจูุณุชูู ุงูุฃุฑุถ",
                "ุถุน 4-6 ูุตุงุฆุฏ ููู 100 ูุชุฑ ูุฑุจุน",
                "ุบููุฑ ุงูุณุงุฆู ูู 3 ุฃูุงู",
                "ุฃุถู ูุทุฑุชู ุตุงุจูู ูููุน ุงููุฑูุจ",
            ],
            "effectiveness_percent": 65,
            "traditional_saying": "ุงููุฎุงุฑ ูุตูุฏ ูุง ูุง ุชุฑุงู ุงูุนูู",
        },
    },
}


# ุงููุฌูู ุงููููุฉ ููุฒุฑุงุนุฉ ุงูููููุฉ
IMPORTANT_STARS = {
    "ุณููู": {
        "name": "ุณููู",
        "name_en": "Canopus",
        "rising_month": 8,  # ุฃุบุณุทุณ
        "significance": "ุจุฏุงูุฉ ููุณู ุงูุฃูุทุงุฑ ูุงูุจุฑูุฏุฉ",
        "farming_impact": "ุฅุดุงุฑุฉ ูุจุฏุก ุงูุฒุฑุงุนุฉ ุงูุตูููุฉ",
        "proverb": "ุฅุฐุง ุทูุน ุณูููุ ุจุฑุฏ ุงูููู ูุฃูุจู ุงูุณูู",
    },
    "ุงูุซุฑูุง": {
        "name": "ุงูุซุฑูุง",
        "name_en": "Pleiades",
        "rising_month": 5,  # ูุงูู (ุตุจุงุญุงู)
        "significance": "ุฃูู ูุฌู ูู ุงูุชูููู ุงูุฒุฑุงุนู ุงููููู",
        "farming_impact": "ุฃูุถู ููุช ููุฒุฑุงุนุฉ ุนูุฏ ุทููุนูุง",
        "proverb": "ุงูุฒุฑุน ูู ุงูุซุฑูุงุ ูุงูุญุตุงุฏ ูู ุงูุฌูุฒุงุก",
    },
    "ุงูุณูุงู": {
        "name": "ุงูุณูุงู ุงูุฃุนุฒู",
        "name_en": "Spica",
        "rising_month": 4,  # ุฃุจุฑูู
        "significance": "ูุฌู ุงูุฑุจูุน ูุงูุฎุตูุจุฉ",
        "farming_impact": "ููุงุณุจ ูุฌููุน ุฃููุงุน ุงูุฒุฑุงุนุฉ",
        "proverb": "ูู ุงูุณูุงู ุงุฒุฑุน ููุง ุชุฎู",
    },
}

# ุงููุนุงูู ุงูุฒุฑุงุนูุฉ ุงูููููุฉ ุงูุชุงุฑูุฎูุฉ
YEMENI_AGRICULTURAL_LANDMARKS = {
    "terraces": {
        "ุงููุฏุฑุฌุงุช ุงูุฌุจููุฉ": {
            "name": "ุงููุฏุฑุฌุงุช ุงูุฌุจููุฉ",
            "name_en": "Mountain Terraces",
            "locations": ["ุญุฑุงุฒ", "ุฅุจ", "ุงููุญููุช", "ุตุนุฏุฉ", "ุฑููุฉ"],
            "description": "ุชูููุฉ ุฒุฑุงุนูุฉ ุนุฑููุฉ ูุงุณุชุบูุงู ุงูููุญุฏุฑุงุช ุงูุฌุจููุฉ ูู ุฒุฑุงุนุฉ ุงููุญุงุตูู ุงููุฎุชููุฉ",
            "crops": ["ุจู", "ูุงุช", "ุฐุฑุฉ", "ููุญ"],
            "altitude_range": "1500-2800ู",
            "heritage_status": "ุชุฑุงุซ ุฅูุณุงูู - UNESCO",
            "age_years": 3000,
            "techniques": ["ุญุฌุงุฑุฉ ุฌุงูุฉ", "ูููุงุช ุชุตุฑูู", "ุฌุฏุฑุงู ุงุญุชูุงุธ"],
            "image_url": None,
            "significance": "ุชูุซู ุฅูุฌุงุฒุงู ููุฏุณูุงู ูุฑูุฏุงู ูุนูุณ ุฐูุงุก ุงููุฒุงุฑุน ุงููููู ูู ุงูุชุนุงูู ูุน ุงูุชุถุงุฑูุณ ุงูุตุนุจุฉ",
        },
        "ูุฏุฑุฌุงุช ุญุฑุงุฒ": {
            "name": "ูุฏุฑุฌุงุช ุญุฑุงุฒ",
            "name_en": "Haraz Terraces",
            "locations": ["ุญุฑุงุฒ", "ุงููุญููุช"],
            "coordinates": {"lat": 15.3667, "lng": 43.8},
            "description": "ูุฏุฑุฌุงุช ุฌุจููุฉ ุดููุฑุฉ ุจุฒุฑุงุนุฉ ุงูุจู ุงููููู ุงููุงุฎุฑ",
            "crops": ["ุจู", "ูุงุช", "ููุงูู"],
            "altitude_range": "1800-2500ู",
            "heritage_status": "ูุญููุฉ ูุทููุฉ",
            "age_years": 2500,
            "techniques": ["ุจูุงุก ุญุฌุฑู ูุชูู", "ูุธุงู ุฑู ุจุงูุบููู", "ุชุฑุจุฉ ูุญุณูุฉ"],
            "image_url": None,
            "significance": "ููุทู ุฃุฌูุฏ ุฃููุงุน ุงูุจู ุงููููู",
        },
        "ูุฏุฑุฌุงุช ุฑููุฉ": {
            "name": "ูุฏุฑุฌุงุช ุฑููุฉ",
            "name_en": "Raymah Terraces",
            "locations": ["ุฑููุฉ"],
            "coordinates": {"lat": 14.6167, "lng": 43.7167},
            "description": "ูุฏุฑุฌุงุช ุฎุถุฑุงุก ุชุดุชูุฑ ุจุฒุฑุงุนุฉ ุงููุงุช ูุงูุจู ูู ุจูุฆุฉ ุฌุจููุฉ ุฑุทุจุฉ",
            "crops": ["ูุงุช", "ุจู", "ุฐุฑุฉ", "ุฎุถุฑูุงุช"],
            "altitude_range": "1500-2400ู",
            "heritage_status": "ูุญููุฉ ุทุจูุนูุฉ",
            "age_years": 2000,
            "techniques": ["ุชุฏุฑูุฌ ุฏููู", "ุงุณุชุบูุงู ุงูุฃูุทุงุฑ", "ุชููุน ุจููููุฌู"],
            "image_url": None,
            "significance": "ุชุฌูุน ุจูู ุงูุฒุฑุงุนุฉ ูุงูุญูุงุธ ุนูู ุงูุชููุน ุงูุจููููุฌู",
        },
        "ูุฏุฑุฌุงุช ุตุนุฏุฉ": {
            "name": "ูุฏุฑุฌุงุช ุตุนุฏุฉ",
            "name_en": "Saada Terraces",
            "locations": ["ุตุนุฏุฉ"],
            "coordinates": {"lat": 16.9167, "lng": 43.7667},
            "description": "ูุฏุฑุฌุงุช ุฒุฑุงุนูุฉ ูู ุงููุฑุชูุนุงุช ุงูุดูุงููุฉ ุชุดุชูุฑ ุจุฒุฑุงุนุฉ ุงูุญุจูุจ",
            "crops": ["ููุญ", "ุดุนูุฑ", "ุนุฏุณ", "ุฐุฑุฉ"],
            "altitude_range": "1600-2600ู",
            "heritage_status": "ุชุฑุงุซ ูุญูู",
            "age_years": 2200,
            "techniques": ["ุฒุฑุงุนุฉ ููุณููุฉ", "ุงุณุชุบูุงู ููุงู ุงูุฃูุทุงุฑ", "ุชุฎุฒูู ุงูุชุฑุจุฉ"],
            "image_url": None,
            "significance": "ุชูุซู ุงูููุท ุงูุฒุฑุงุนู ุงูุชูููุฏู ูู ุงููุฑุชูุนุงุช ุงูุดูุงููุฉ",
        },
    },
    "dams": {
        "ุณุฏ ูุฃุฑุจ": {
            "name": "ุณุฏ ูุฃุฑุจ ุงููุฏูู",
            "name_en": "Ancient Marib Dam",
            "location": "ูุฃุฑุจ",
            "coordinates": {"lat": 15.4167, "lng": 45.35},
            "built_era": "ุงููุฑู ุงูุซุงูู ูุจู ุงููููุงุฏ",
            "description": "ุฃุนุธู ุฅูุฌุงุฒ ููุฏุณู ูู ุงูุนุงูู ุงููุฏููุ ุจูุงู ุณุจุฃููู ููุงู ูุนุฌุฒุฉ ููุฏุณูุฉ ูุนุตุฑู",
            "irrigated_area_hectares": 9600,
            "crops_historical": ["ููุญ", "ุดุนูุฑ", "ูุฎูู", "ููุงูู", "ุนูุจ"],
            "current_status": "ุฃุซุฑู - ุงูุณุฏ ุงูุฌุฏูุฏ ูุนูู ููุฐ 1986",
            "length_meters": 650,
            "height_meters": 16,
            "capacity_cubic_meters": 30000000,
            "engineering_features": ["ุณุฏุชุงู ุฌุงูุจูุชุงู", "ูููุงุช ุชูุฒูุน", "ุจูุงุจุงุช ุชุญูู"],
            "historical_significance": "ุฐููุฑ ูู ุงููุฑุขู ุงููุฑูู ููุงู ุณุจุจ ุงุฒุฏูุงุฑ ุญุถุงุฑุฉ ุณุจุฃ",
        },
        "ุณุฏ ุฃุฐููุฉ": {
            "name": "ุณุฏ ุฃุฐููุฉ",
            "name_en": "Adhanah Dam",
            "location": "ุฐูุงุฑ",
            "coordinates": {"lat": 14.5, "lng": 44.3},
            "built_era": "ุงููุฑู ุงูุฃูู ุงููููุงุฏู",
            "description": "ุณุฏ ุชุงุฑูุฎู ูู ุงูุนุตุฑ ุงูุญููุฑู ูุฑูู ุฃุฑุงุถู ุฒุฑุงุนูุฉ ูุงุณุนุฉ",
            "irrigated_area_hectares": 1200,
            "crops_historical": ["ููุญ", "ุฐุฑุฉ", "ุจููููุงุช"],
            "current_status": "ุขุซุงุฑ ูุชุจููุฉ",
            "length_meters": 120,
            "height_meters": 8,
            "capacity_cubic_meters": 500000,
            "engineering_features": ["ุจูุงุก ุญุฌุฑู", "ูููุงุช ูุฑุนูุฉ"],
            "historical_significance": "ูุนูุณ ุชุทูุฑ ุชูููุงุช ุงูุฑู ูู ุงูุญุถุงุฑุฉ ุงูุญููุฑูุฉ",
        },
        "ุณุฏ ุงูุฎุงูู": {
            "name": "ุณุฏ ุงูุฎุงูู",
            "name_en": "Al-Khaniq Dam",
            "location": "ุชุนุฒ",
            "coordinates": {"lat": 13.5833, "lng": 44.0167},
            "built_era": "ุงูุนุตุฑ ุงูุฅุณูุงูู ุงููุจูุฑ",
            "description": "ุณุฏ ุตุฎุฑู ูุณุชุบู ูุถูู ุทุจูุนู ูุญุฌุฒ ููุงู ุงูุฃูุทุงุฑ",
            "irrigated_area_hectares": 800,
            "crops_historical": ["ุจู", "ุฐุฑุฉ", "ููุงูู"],
            "current_status": "ูุณุชุฎุฏู ุฌุฒุฆูุงู",
            "length_meters": 85,
            "height_meters": 12,
            "capacity_cubic_meters": 350000,
            "engineering_features": ["ุงุณุชุบูุงู ุงูุชุถุงุฑูุณ", "ูููุงุช ุทุจูุนูุฉ"],
            "historical_significance": "ูููุฐุฌ ููููุฏุณุฉ ุงููุงุฆูุฉ ุงูุฐููุฉ",
        },
        "ุณุฏ ุฌูููุฉ": {
            "name": "ุณุฏ ุฌูููุฉ",
            "name_en": "Jufainah Dam",
            "location": "ุฃุจูู",
            "coordinates": {"lat": 13.8, "lng": 45.5},
            "built_era": "ุงููุฑู ุงูุซุงูุซ ูุจู ุงููููุงุฏ",
            "description": "ุณุฏ ูุฏูู ูู ููุทูุฉ ุฃุจูู ูุงู ูุฑูู ูุงุฏู ุจูุงุก ุงูุฎุตุจ",
            "irrigated_area_hectares": 1500,
            "crops_historical": ["ูุฎูู", "ุญุจูุจ", "ุฎุถุฑูุงุช"],
            "current_status": "ุฃุทูุงู ุฃุซุฑูุฉ",
            "length_meters": 180,
            "height_meters": 10,
            "capacity_cubic_meters": 800000,
            "engineering_features": ["ูุธุงู ุฑู ูุชุทูุฑ", "ุจูุงุจุงุช ุฎุดุจูุฉ"],
            "historical_significance": "ุดุงูุฏ ุนูู ุงุฒุฏูุงุฑ ุงูุฒุฑุงุนุฉ ูู ุงูุฌููุจ ุงููููู",
        },
    },
    "water_systems": {
        "ุงูุบููู": {
            "name": "ูุธุงู ุงูุบููู",
            "name_en": "Ghayl System",
            "description": "ูููุงุช ุฑู ุชูููุฏูุฉ ุชููู ุงูููุงู ูู ุงูููุงุจูุน ุงูุฌุจููุฉ ุฅูู ุงููุฏุฑุฌุงุช ุงูุฒุฑุงุนูุฉ ุจุงูุงุนุชูุงุฏ ุนูู ุงูุงูุณูุงุจ ุงูุทุจูุนู",
            "regions": ["ูุงุฏู ุถูุฑ", "ุตูุนุงุก", "ุชุนุฒ", "ุฅุจ"],
            "technique": "ุงูุณูุงุจ ุทุจูุนู ุจุงูุฌุงุฐุจูุฉ",
            "construction": "ุญูุฑ ูู ุงูุตุฎุฑ ุฃู ูููุงุช ุญุฌุฑูุฉ ูุจุทูุฉ",
            "average_length_km": 5,
            "age_years": 1500,
            "water_source": "ููุงุจูุน ุฌุจููุฉุ ุนููู ุทุจูุนูุฉ",
            "distribution_method": "ุชูุฒูุน ุนุงุฏู ุญุณุจ ุงูุฃููุงุช ุงููุญุฏุฏุฉ",
            "maintenance": "ุตูุงูุฉ ุฌูุงุนูุฉ ููุณููุฉ",
            "social_aspect": "ูุธุงู ุฅุฏุงุฑุฉ ูุฌุชูุนู ุชูููุฏู",
        },
        "ุงูุขุจุงุฑ ุงูุงุฑุชูุงุฒูุฉ": {
            "name": "ุงูุขุจุงุฑ ุงูุงุฑุชูุงุฒูุฉ ุงูุชูููุฏูุฉ",
            "name_en": "Traditional Artesian Wells",
            "description": "ุขุจุงุฑ ุนูููุฉ ุชุตู ููููุงู ุงูุฌูููุฉุ ูุญููุฑุฉ ูุฏููุงู ุจุชูููุงุช ุชูููุฏูุฉ",
            "regions": ["ูุฃุฑุจ", "ุงูุฌูู", "ุตุนุฏุฉ", "ุญุถุฑููุช"],
            "technique": "ุญูุฑ ูุฏูู ุนููู",
            "construction": "ุฌุฏุฑุงู ุญุฌุฑูุฉ ูุญููุฉุ ุบุทุงุก ุฎุดุจู",
            "average_depth_meters": 40,
            "age_years": 1000,
            "water_source": "ุงูููุงู ุงูุฌูููุฉ",
            "distribution_method": "ุฑูุน ุจุงูุฏูู ุฃู ุงูุจูุฑุฉ",
            "maintenance": "ุชูุธูู ุฏูุฑูุ ุฅุตูุงุญ ุงูุฌุฏุฑุงู",
            "social_aspect": "ููููุฉ ูุดุชุฑูุฉ ุฃู ุนุงูุฉ",
        },
        "ุงูุณูุงูู": {
            "name": "ุงูุณูุงูู",
            "name_en": "Water Wheels (Saqiya)",
            "description": "ุนุฌูุงุช ูุงุฆูุฉ ุชุฏุงุฑ ุจุงูุญููุงูุงุช ุฃู ุงููุงุก ูุฑูุน ุงูููุงู ูู ุงูุขุจุงุฑ ูุงููุฏูุงู",
            "regions": ["ุชูุงูุฉ", "ูุงุฏู ุฒุจูุฏ", "ุฃุจูู"],
            "technique": "ุฏูุฑุงู ูููุงูููู",
            "construction": "ุนุฌูุฉ ุฎุดุจูุฉุ ุฃูุนูุฉ ูุฎุงุฑูุฉ ุฃู ูุนุฏููุฉ",
            "average_capacity_liters_hour": 3000,
            "age_years": 800,
            "water_source": "ุขุจุงุฑุ ุฃููุงุฑ",
            "distribution_method": "ูููุงุช ุตุบูุฑุฉ ูุชูุฑุนุฉ",
            "maintenance": "ุชุดุญููุ ุชุจุฏูู ุงูุฃุฌุฒุงุก ุงูุฎุดุจูุฉ",
            "social_aspect": "ููููุฉ ูุฑุฏูุฉ ุฃู ุนุงุฆููุฉ",
        },
        "ุงูุฃุญูุงุถ ูุงูุจุฑู": {
            "name": "ุฃุญูุงุถ ุชุฌููุน ุงูููุงู",
            "name_en": "Water Collection Pools",
            "description": "ุฃุญูุงุถ ุตุฎุฑูุฉ ุฃู ุฅุณููุชูุฉ ูุชุฌููุน ููุงู ุงูุฃูุทุงุฑ ูุงูููุงุจูุน",
            "regions": ["ุงููุฑุชูุนุงุช ุงููุณุทู", "ุตูุนุงุก", "ุฐูุงุฑ"],
            "technique": "ุชุฌููุน ูุชุฎุฒูู",
            "construction": "ุญูุถ ูุญููุฑ ูู ุงูุตุฎุฑ ุฃู ูุจูู ุจุงูุญุฌุฑ",
            "average_capacity_cubic_meters": 200,
            "age_years": 1200,
            "water_source": "ููุงู ุฃูุทุงุฑุ ูุงุฆุถ ุงูุบููู",
            "distribution_method": "ุงุณุชุฎุฏุงู ูุจุงุดุฑ ุฃู ุชูุฒูุน ุจุงูุฌุฑุงุฑ",
            "maintenance": "ุชูุธูู ุณููู ูุจู ููุณู ุงูุฃูุทุงุฑ",
            "social_aspect": "ููููุฉ ูุดุชุฑูุฉ ูููุฑูุฉ",
        },
    },
    "storage": {
        "ุงููุฎุงุฒู ุงูุญุฌุฑูุฉ": {
            "name": "ุงููุฎุงุฒู ุงูุญุฌุฑูุฉ",
            "name_en": "Stone Storage Houses",
            "description": "ูุฎุงุฒู ุชูููุฏูุฉ ูุจููุฉ ูู ุงูุญุฌุฑ ูุชุฎุฒูู ุงูุญุจูุจ ูุงููุญุงุตูู ูู ุธุฑูู ุจุงุฑุฏุฉ ูุฌุงูุฉ",
            "regions": ["ุตูุนุงุก", "ุดุจุงู", "ุญุถุฑููุช"],
            "construction": "ุฌุฏุฑุงู ุญุฌุฑูุฉ ุณูููุฉุ ุฃุณูู ุทูููุฉ",
            "capacity_tons": 10,
            "crops_stored": ["ููุญ", "ุดุนูุฑ", "ุฐุฑุฉ", "ุนุฏุณ"],
            "preservation_method": "ุงูุชูููุฉ ุงูุทุจูุนูุฉุ ุงูุนุฒู ุงูุญุฑุงุฑู",
            "age_years": 800,
            "design_features": ["ูุชุญุงุช ุชูููุฉ ุนูููุฉ", "ุฃุฑุถูุงุช ูุฑุชูุนุฉ", "ุฌุฏุฑุงู ุนุงุฒูุฉ"],
            "cultural_significance": "ุฌุฒุก ูู ุงูุนูุงุฑุฉ ุงูููููุฉ ุงูุชูููุฏูุฉ",
        },
        "ุงูุตูุงูุน ุงูุชูููุฏูุฉ": {
            "name": "ุงูุตูุงูุน ุงูุทูููุฉ",
            "name_en": "Traditional Mud Silos",
            "description": "ุตูุงูุน ุฃุณุทูุงููุฉ ูู ุงูุทูู ุงููุญุฑูู ูุชุฎุฒูู ุงูุญุจูุจ ุจุดูู ุขูู",
            "regions": ["ุชูุงูุฉ", "ุญุถุฑููุช", "ุงูุฌูู"],
            "construction": "ุทูู ูุญุฑููุ ูุด ูุถุบูุท",
            "capacity_tons": 5,
            "crops_stored": ["ุฐุฑุฉ", "ุฏุฎู", "ุณูุณู"],
            "preservation_method": "ุงูุนุฒู ุงูุทุจูุนูุ ุงูุชุฌููู ุงูุดูุณู",
            "age_years": 600,
            "design_features": ["ุดูู ุฃุณุทูุงูู", "ุบุทุงุก ูุญูู", "ูุงุนุฏุฉ ูุฑุชูุนุฉ"],
            "cultural_significance": "ุชูููููุฌูุง ุชุฎุฒูู ุชูููุฏูุฉ ูุนุงูุฉ",
        },
        "ุงูููุฑูุงุช": {
            "name": "ุงูููุฑูุงุช",
            "name_en": "Al-Qamariat (Attic Storage)",
            "description": "ุบุฑู ุนูููุฉ ูู ุงูุจููุช ุงูููููุฉ ุงูุชูููุฏูุฉ ูุฎุตุตุฉ ูุชุฎุฒูู ุงููุคู ูุงูุญุจูุจ",
            "regions": ["ุตูุนุงุก ุงููุฏููุฉ", "ุดุจุงู", "ุตุนุฏุฉ"],
            "construction": "ุฌุฒุก ูู ุงูุนูุงุฑุฉ ุงูุณูููุฉุ ุทูุงุจู ุนููุง",
            "capacity_tons": 3,
            "crops_stored": ["ููุญ", "ูุงุช ูุฌูู", "ุจูุงุฑุงุช", "ูููุฉ"],
            "preservation_method": "ุงูุชูููุฉ ุงููุชูุงุทุนุฉุ ุงูุงุฑุชูุงุน",
            "age_years": 500,
            "design_features": ["ููุงูุฐ ููุฑูุฉ ููุชูููุฉ", "ุฃุฑุถูุงุช ุฎุดุจูุฉ", "ุนุฒู ุทุจูุนู"],
            "cultural_significance": "ุฌุฒุก ูู ุงูุชุฑุงุซ ุงููุนูุงุฑู ุงููููู",
        },
        "ุงููููู ุงูุชุฎุฒูููุฉ": {
            "name": "ูููู ุงูุชุฎุฒูู",
            "name_en": "Storage Caves",
            "description": "ูููู ุทุจูุนูุฉ ุฃู ูุญููุฑุฉ ูู ุงูุฌุจุงู ูุชุฎุฒูู ุงูุชููุฑ ูุงูุนุณู ูุงูุญุจูุจ",
            "regions": ["ุญุถุฑููุช", "ุดุจูุฉ", "ูุฃุฑุจ"],
            "construction": "ูููู ุทุจูุนูุฉ ุฃู ูุญููุฑุฉ ูุฏููุงู",
            "capacity_tons": 8,
            "crops_stored": ["ุชููุฑ", "ุนุณู", "ููุญ", "ุณูู"],
            "preservation_method": "ุญุฑุงุฑุฉ ุซุงุจุชุฉุ ุฑุทูุจุฉ ููุฎูุถุฉ",
            "age_years": 2000,
            "design_features": ["ุฏุฑุฌุฉ ุญุฑุงุฑุฉ ุซุงุจุชุฉ", "ุฑุทูุจุฉ ููุฎูุถุฉ", "ุญูุงูุฉ ูู ุงูุญุดุฑุงุช"],
            "cultural_significance": "ุฃูุฏู ุทุฑู ุงูุชุฎุฒูู ูู ุงูููู",
        },
    },
}

# ุงูููุงุณู ุงูุฒุฑุงุนูุฉ ุงูููููุฉ ุงูุชูููุฏูุฉ
YEMENI_SEASONS = {
    "sayf": {
        "name": "ุงูุตูู",
        "name_en": "Sayf (Summer)",
        "months": [6, 7, 8],
        "description": "ููุณู ุงูุฃูุทุงุฑ ุงูููุณููุฉ - ุฒุฑุงุนุฉ ุงูุฐุฑุฉ ูุงูุฏุฎู",
        "main_crops": ["ุฐุฑุฉ", "ุฏุฎู", "ุณูุณู"],
        "activities": ["ุฒุฑุงุนุฉ ุงูุญุจูุจ", "ุญุตุงุฏ ุงููุงุช"],
    },
    "kharif": {
        "name": "ุงูุฎุฑูู",
        "name_en": "Kharif (Autumn)",
        "months": [9, 10, 11],
        "description": "ููุณู ุงูุญุตุงุฏ ูุงูุชุฌููู",
        "main_crops": ["ุจู", "ุนูุจ"],
        "activities": ["ุญุตุงุฏ", "ุชุฌููู", "ุชุฎุฒูู"],
    },
    "shita": {
        "name": "ุงูุดุชุงุก",
        "name_en": "Shita (Winter)",
        "months": [12, 1, 2],
        "description": "ููุณู ุฒุฑุงุนุฉ ุงูุฎุถุฑูุงุช ุงูุดุชููุฉ",
        "main_crops": ["ููุญ", "ุดุนูุฑ", "ุฎุถุฑูุงุช"],
        "activities": ["ุฒุฑุงุนุฉ ุงูููุญ", "ุฑู"],
    },
    "rabi": {
        "name": "ุงูุฑุจูุน",
        "name_en": "Rabi (Spring)",
        "months": [3, 4, 5],
        "description": "ููุณู ุงูุฃุฒูุงุฑ ูุบุฑุณ ุงูุฃุดุฌุงุฑ",
        "main_crops": ["ููุงูู", "ุจู"],
        "activities": ["ุบุฑุณ ุงูุฃุดุฌุงุฑ", "ุชุทุนูู", "ุชูููู"],
    },
}

# ุงูููุงุทู ุงูุฒุฑุงุนูุฉ ุงูููููุฉ
YEMENI_AGRICULTURAL_REGIONS = {
    "tihama": {
        "name": "ุณูู ุชูุงูุฉ",
        "name_en": "Tihama Coastal Plain",
        "governorates": ["ุงูุญุฏูุฏุฉ", "ุชุนุฒ", "ูุญุฌ"],
        "climate": {
            "type": "ุญุงุฑ ุฑุทุจ",
            "type_en": "Hot Humid",
            "avg_temp_summer": 38,
            "avg_temp_winter": 25,
            "rainfall_mm": 150,
            "humidity_percent": 70,
        },
        "altitude": "0-200ู",
        "altitude_en": "0-200m",
        "soil_type": "ุทูููุฉ ุฑูููุฉ",
        "soil_type_en": "Sandy Loam",
        "water_sources": ["ุฃูุฏูุฉ ููุณููุฉ", "ุขุจุงุฑ", "ููุงู ุฌูููุฉ"],
        "water_sources_en": ["Seasonal Wadis", "Wells", "Groundwater"],
        "main_crops": ["ุฐุฑุฉ", "ุฏุฎู", "ุณูุณู", "ููุฒ", "ูุงูุฌู", "ุจุทูุฎ", "ูุทู", "ุชุจุบ"],
        "main_crops_en": [
            "Sorghum",
            "Millet",
            "Sesame",
            "Banana",
            "Mango",
            "Watermelon",
            "Cotton",
            "Tobacco",
        ],
        "planting_seasons": {
            "ุตููู": {
                "months": ["ููููู", "ููููู"],
                "months_en": ["June", "July"],
                "crops": ["ุฐุฑุฉ", "ุฏุฎู", "ุณูุณู"],
            },
            "ุดุชูู": {
                "months": ["ููููุจุฑ", "ุฏูุณูุจุฑ"],
                "months_en": ["November", "December"],
                "crops": ["ุฎุถุฑูุงุช", "ุทูุงุทู", "ุจุทุงุทุณ"],
            },
        },
        "challenges": ["ุดุญ ุงูููุงู", "ูููุญุฉ ุงูุชุฑุจุฉ", "ุงูุญุฑุงุฑุฉ ุงูุนุงููุฉ", "ุงูุชุตุญุฑ"],
        "challenges_en": [
            "Water Scarcity",
            "Soil Salinity",
            "High Temperature",
            "Desertification",
        ],
        "famous_products": ["ููุฒ ุชูุงูุฉ", "ูุงูุฌู ุงูุญุฏูุฏุฉ", "ุจุทูุฎ ุฒุจูุฏ"],
        "famous_products_en": [
            "Tihama Bananas",
            "Hodeidah Mangoes",
            "Zabid Watermelons",
        ],
        "traditional_irrigation": ["ุณููุง ุจุงูุบูู", "ุขุจุงุฑ ุชูููุฏูุฉ", "ุณููู ุงูุฃูุฏูุฉ"],
        "traditional_irrigation_en": [
            "Spate Irrigation",
            "Traditional Wells",
            "Wadi Floods",
        ],
        "description": "ุณูู ุณุงุญูู ุฎุตุจ ููุชุฏ ุนูู ุงูุจุญุฑ ุงูุฃุญูุฑุ ูุชููุฒ ุจููุงุฎู ุงูุญุงุฑ ุงูุฑุทุจ ูุฅูุชุงุฌู ุงููููุฑ ูู ุงูููุงูู ุงูุงุณุชูุงุฆูุฉ",
        "description_en": "A fertile coastal plain extending along the Red Sea, characterized by hot humid climate and abundant tropical fruit production",
    },
    "central_highlands": {
        "name": "ุงููุฑุชูุนุงุช ุงููุณุทู",
        "name_en": "Central Highlands",
        "governorates": ["ุตูุนุงุก", "ุฐูุงุฑ", "ุฅุจ", "ุชุนุฒ", "ุงูุจูุถุงุก"],
        "climate": {
            "type": "ูุนุชุฏู ุตููุงู ุจุงุฑุฏ ุดุชุงุกู",
            "type_en": "Moderate Summer, Cold Winter",
            "avg_temp_summer": 26,
            "avg_temp_winter": 12,
            "rainfall_mm": 500,
            "humidity_percent": 45,
        },
        "altitude": "2000-3600ู",
        "altitude_en": "2000-3600m",
        "soil_type": "ุจุฑูุงููุฉ ุฎุตุจุฉ",
        "soil_type_en": "Fertile Volcanic",
        "water_sources": ["ุฃูุทุงุฑ ููุณููุฉ", "ููุงุจูุน", "ุขุจุงุฑ", "ุณุฏูุฏ"],
        "water_sources_en": ["Seasonal Rainfall", "Springs", "Wells", "Dams"],
        "main_crops": [
            "ุจู",
            "ูุงุช",
            "ุนูุจ",
            "ุชูุงุญ",
            "ุฎูุฎ",
            "ุฑูุงู",
            "ููุฒ",
            "ููุญ",
            "ุดุนูุฑ",
            "ุฐุฑุฉ",
        ],
        "main_crops_en": [
            "Coffee",
            "Qat",
            "Grapes",
            "Apples",
            "Peaches",
            "Pomegranates",
            "Almonds",
            "Wheat",
            "Barley",
            "Sorghum",
        ],
        "planting_seasons": {
            "ุฑุจูุนู": {
                "months": ["ูุงุฑุณ", "ุฃุจุฑูู"],
                "months_en": ["March", "April"],
                "crops": ["ุจู", "ุนูุจ", "ููุงูู"],
            },
            "ุตููู": {
                "months": ["ููููู", "ููููู"],
                "months_en": ["June", "July"],
                "crops": ["ุฐุฑุฉ", "ููุญ"],
            },
            "ุฎุฑููู": {
                "months": ["ุณุจุชูุจุฑ", "ุฃูุชูุจุฑ"],
                "months_en": ["September", "October"],
                "crops": ["ุฎุถุฑูุงุช", "ุจููููุงุช"],
            },
        },
        "challenges": [
            "ุชุขูู ุงูุชุฑุจุฉ",
            "ุงูุฌูุงู ุงูููุณูู",
            "ุชูุงูุต ุงูููุงู ุงูุฌูููุฉ",
            "ุงูุฒุฑุงุนุฉ ุงูุนุดูุงุฆูุฉ",
        ],
        "challenges_en": [
            "Soil Erosion",
            "Seasonal Drought",
            "Groundwater Depletion",
            "Random Cultivation",
        ],
        "famous_products": [
            "ุจู ูุงูุนู",
            "ุจู ุญุฑุงุฒู",
            "ุนูุจ ุฑุงุฒุญ",
            "ุฑูุงู ุฐูุงุฑ",
            "ุชูุงุญ ุฌุจู ุตุจุฑ",
        ],
        "famous_products_en": [
            "Yafei Coffee",
            "Haraz Coffee",
            "Razeh Grapes",
            "Dhamar Pomegranates",
            "Jabal Sabir Apples",
        ],
        "traditional_irrigation": [
            "ูุฏุฑุฌุงุช ุฒุฑุงุนูุฉ",
            "ูููุงุช ุชูููุฏูุฉ",
            "ุณุฏูุฏ ุฌุจููุฉ",
            "ุญุตุงุฏ ููุงู ุงูุฃูุทุงุฑ",
        ],
        "traditional_irrigation_en": [
            "Agricultural Terraces",
            "Traditional Channels",
            "Mountain Dams",
            "Rainwater Harvesting",
        ],
        "description": "ุฃูุซุฑ ุงูููุงุทู ุงูุฒุฑุงุนูุฉ ุฎุตูุจุฉ ูู ุงููููุ ุชุดุชูุฑ ุจุฅูุชุงุฌ ุงูุจู ุงููููู ุนุงูู ุงูุฌูุฏุฉ ูุงูููุงูู ุงููุนุชุฏูุฉ",
        "description_en": "The most fertile agricultural region in Yemen, famous for high-quality Yemeni coffee and temperate fruits",
    },
    "eastern_plateau": {
        "name": "ุงููุถุจุฉ ุงูุดุฑููุฉ",
        "name_en": "Eastern Plateau",
        "governorates": ["ุญุถุฑููุช", "ุงูููุฑุฉ", "ุดุจูุฉ"],
        "climate": {
            "type": "ุตุญุฑุงูู ุฌุงู",
            "type_en": "Desert Arid",
            "avg_temp_summer": 42,
            "avg_temp_winter": 22,
            "rainfall_mm": 50,
            "humidity_percent": 25,
        },
        "altitude": "500-1500ู",
        "altitude_en": "500-1500m",
        "soil_type": "ุฑูููุฉ ุตุญุฑุงููุฉ",
        "soil_type_en": "Sandy Desert",
        "water_sources": ["ุณููู ุงูุฃูุฏูุฉ", "ุขุจุงุฑ ุนูููุฉ", "ุนููู ุฌูููุฉ"],
        "water_sources_en": ["Wadi Floods", "Deep Wells", "Underground Springs"],
        "main_crops": ["ูุฎูู ุงูุชูุฑ", "ุฏุฎู", "ุฐุฑุฉ", "ุฎุถุฑูุงุช", "ุนูู"],
        "main_crops_en": ["Date Palms", "Millet", "Sorghum", "Vegetables", "Fodder"],
        "planting_seasons": {
            "ุตููู": {
                "months": ["ูุงูู", "ููููู"],
                "months_en": ["May", "June"],
                "crops": ["ุฏุฎู", "ุฐุฑุฉ"],
            },
            "ุดุชูู": {
                "months": ["ููููุจุฑ", "ุฏูุณูุจุฑ"],
                "months_en": ["November", "December"],
                "crops": ["ุฎุถุฑูุงุช", "ุจุฑุณูู"],
            },
        },
        "challenges": [
            "ูุฏุฑุฉ ุงูููุงู ุงูุดุฏูุฏุฉ",
            "ุงูุนูุงุตู ุงูุฑูููุฉ",
            "ุงูุชุตุญุฑ ุงููุชูุฏู",
            "ูููุญุฉ ุนุงููุฉ",
        ],
        "challenges_en": [
            "Severe Water Scarcity",
            "Sandstorms",
            "Advanced Desertification",
            "High Salinity",
        ],
        "famous_products": [
            "ุชููุฑ ุญุถุฑููุช",
            "ุนุณู ุญุถุฑููุช",
            "ุชูุฑ ุฏูุนูู",
            "ุชูุฑ ุตูุญูุช",
        ],
        "famous_products_en": [
            "Hadramawt Dates",
            "Hadramawt Honey",
            "Do'ani Dates",
            "Sayhut Dates",
        ],
        "traditional_irrigation": [
            "ุฒุฑุงุนุฉ ุงููุงุญุงุช",
            "ุณููู ุงูุฃูุฏูุฉ",
            "ุขุจุงุฑ ุงุฑุชูุงุฒูุฉ",
            "ูุธุงู ุงูุบูู",
        ],
        "traditional_irrigation_en": [
            "Oasis Farming",
            "Wadi Spate",
            "Artesian Wells",
            "Ghayl System",
        ],
        "description": "ููุทูุฉ ุตุญุฑุงููุฉ ูุงุณุนุฉ ุชุนุชูุฏ ุนูู ุฒุฑุงุนุฉ ุงููุฎูู ูุงูุฒุฑุงุนุฉ ูู ุงููุฏูุงูุ ุชุดุชูุฑ ุจุฅูุชุงุฌ ุฃุฌูุฏ ุฃููุงุน ุงูุชููุฑ",
        "description_en": "A vast desert region relying on palm cultivation and wadi farming, famous for producing the finest dates",
    },
    "northern_highlands": {
        "name": "ุงููุฑุชูุนุงุช ุงูุดูุงููุฉ",
        "name_en": "Northern Highlands",
        "governorates": ["ุตุนุฏุฉ", "ุนูุฑุงู", "ุญุฌุฉ", "ุงูุฌูู", "ูุฃุฑุจ"],
        "climate": {
            "type": "ุฌุงู ุจุงุฑุฏ ุดุชุงุกู",
            "type_en": "Dry Cold Winter",
            "avg_temp_summer": 30,
            "avg_temp_winter": 8,
            "rainfall_mm": 300,
            "humidity_percent": 35,
        },
        "altitude": "1800-3000ู",
        "altitude_en": "1800-3000m",
        "soil_type": "ุทูููุฉ ุฌุจููุฉ",
        "soil_type_en": "Mountainous Clay",
        "water_sources": ["ุฃูุทุงุฑ ููุณููุฉ", "ููุงุจูุน ุฌุจููุฉ", "ุณุฏูุฏ", "ุขุจุงุฑ"],
        "water_sources_en": ["Seasonal Rainfall", "Mountain Springs", "Dams", "Wells"],
        "main_crops": [
            "ููุญ",
            "ุดุนูุฑ",
            "ุฐุฑุฉ",
            "ุนุฏุณ",
            "ุญูุต",
            "ุนูุจ",
            "ููุฒ",
            "ุฑูุงู",
            "ุชูู",
        ],
        "main_crops_en": [
            "Wheat",
            "Barley",
            "Sorghum",
            "Lentils",
            "Chickpeas",
            "Grapes",
            "Almonds",
            "Pomegranates",
            "Figs",
        ],
        "planting_seasons": {
            "ุฑุจูุนู": {
                "months": ["ูุจุฑุงูุฑ", "ูุงุฑุณ"],
                "months_en": ["February", "March"],
                "crops": ["ููุญ", "ุดุนูุฑ"],
            },
            "ุตููู": {
                "months": ["ููููู", "ููููู"],
                "months_en": ["June", "July"],
                "crops": ["ุฐุฑุฉ", "ุฏุฎู"],
            },
        },
        "challenges": [
            "ุงูุตููุน ุงูุดุชูู",
            "ููุต ุงูุฃูุทุงุฑ",
            "ูุนูุฑุฉ ุงูุชุถุงุฑูุณ",
            "ุชุขูู ุงูุชุฑุจุฉ",
        ],
        "challenges_en": [
            "Winter Frost",
            "Rainfall Shortage",
            "Rugged Terrain",
            "Soil Erosion",
        ],
        "famous_products": [
            "ุนูุจ ุตุนุฏุฉ",
            "ุฑูุงู ุญุฌุฉ",
            "ููุฒ ุงูุฌูู",
            "ุนุณู ุงูุจู ุงูุดูุงูู",
            "ููุญ ุนูุฑุงู",
        ],
        "famous_products_en": [
            "Sa'dah Grapes",
            "Hajjah Pomegranates",
            "Al-Jawf Almonds",
            "Northern Honey",
            "Amran Wheat",
        ],
        "traditional_irrigation": [
            "ูุฏุฑุฌุงุช ุญุฌุฑูุฉ",
            "ูููุงุช ูุญููุฑุฉ",
            "ุจุฑู ุชุฌููุน",
            "ูุธุงู ุงูุญูุถูู",
        ],
        "traditional_irrigation_en": [
            "Stone Terraces",
            "Carved Channels",
            "Collection Ponds",
            "Double Basin System",
        ],
        "description": "ููุทูุฉ ุฌุจููุฉ ุจุงุฑุฏุฉ ุชุนุชูุฏ ุนูู ุงูุฒุฑุงุนุฉ ุงูุจุนููุฉ ูุงูุญุจูุจุ ุชุดุชูุฑ ุจุงููุฏุฑุฌุงุช ุงูุฒุฑุงุนูุฉ ุงูุฃุซุฑูุฉ",
        "description_en": "A cold mountainous region relying on rainfed agriculture and grains, famous for ancient agricultural terraces",
    },
    "southern_coast": {
        "name": "ุงูุณุงุญู ุงูุฌููุจู",
        "name_en": "Southern Coast",
        "governorates": ["ุนุฏู", "ุฃุจูู", "ูุญุฌ", "ุญุถุฑููุช ุงูุณุงุญููุฉ"],
        "climate": {
            "type": "ุญุงุฑ ุฑุทุจ ุงุณุชูุงุฆู",
            "type_en": "Hot Humid Tropical",
            "avg_temp_summer": 36,
            "avg_temp_winter": 26,
            "rainfall_mm": 100,
            "humidity_percent": 75,
        },
        "altitude": "0-300ู",
        "altitude_en": "0-300m",
        "soil_type": "ุฑูููุฉ ุณุงุญููุฉ",
        "soil_type_en": "Coastal Sandy",
        "water_sources": ["ุขุจุงุฑ ุณุงุญููุฉ", "ุณููู ููุณููุฉ", "ุชุญููุฉ ููุงู"],
        "water_sources_en": ["Coastal Wells", "Seasonal Floods", "Water Desalination"],
        "main_crops": [
            "ุฌูุฒ ุงูููุฏ",
            "ููุฒ",
            "ุจุงุจุงูุง",
            "ุฃุณูุงู",
            "ุฎุถุฑูุงุช",
            "ูุทู",
            "ุชุจุบ",
        ],
        "main_crops_en": [
            "Coconut",
            "Banana",
            "Papaya",
            "Fish",
            "Vegetables",
            "Cotton",
            "Tobacco",
        ],
        "planting_seasons": {
            "ุตููู": {
                "months": ["ูุงูู", "ููููู", "ููููู"],
                "months_en": ["May", "June", "July"],
                "crops": ["ููุฒ", "ุฌูุฒ ุงูููุฏ", "ุฎุถุฑูุงุช"],
            },
            "ุดุชูู": {
                "months": ["ุฃูุชูุจุฑ", "ููููุจุฑ"],
                "months_en": ["October", "November"],
                "crops": ["ุทูุงุทู", "ุฎูุงุฑ", "ูููู"],
            },
        },
        "challenges": [
            "ุงุฑุชูุงุน ุฏุฑุฌุงุช ุงูุญุฑุงุฑุฉ",
            "ูููุญุฉ ุงูููุงู",
            "ุงูุฑุทูุจุฉ ุงูุนุงููุฉ",
            "ุงูุฃุนุงุตูุฑ",
        ],
        "challenges_en": [
            "High Temperatures",
            "Water Salinity",
            "High Humidity",
            "Cyclones",
        ],
        "famous_products": [
            "ููุฒ ุนุฏู",
            "ุฌูุฒ ุงูููุฏ ุงูุณุงุญูู",
            "ุฃุณูุงู ุงููุญูุท",
            "ููุญ ุงูุจุญุฑ",
        ],
        "famous_products_en": [
            "Aden Bananas",
            "Coastal Coconuts",
            "Ocean Fish",
            "Sea Salt",
        ],
        "traditional_irrigation": [
            "ุขุจุงุฑ ุณุงุญููุฉ",
            "ุฑู ุจุงูุชูููุท",
            "ุญุตุงุฏ ููุงู ุงูุฃูุทุงุฑ",
            "ุฒุฑุงุนุฉ ุณุงุญููุฉ",
        ],
        "traditional_irrigation_en": [
            "Coastal Wells",
            "Drip Irrigation",
            "Rainwater Harvesting",
            "Coastal Farming",
        ],
        "description": "ุณุงุญู ุงุณุชูุงุฆู ูุทู ุนูู ุฎููุฌ ุนุฏู ูุงููุญูุท ุงูููุฏูุ ูุนุชูุฏ ุนูู ุตูุฏ ุงูุฃุณูุงู ูุงูุฒุฑุงุนุฉ ุงูุงุณุชูุงุฆูุฉ",
        "description_en": "A tropical coast overlooking the Gulf of Aden and Indian Ocean, relying on fishing and tropical agriculture",
    },
}

# ุชูููู ุงููุญุงุตูู ุงูุชูุตููู
DETAILED_CROP_CALENDAR = {
    "ุจู_ูููู": {
        "name": "ุงูุจู ุงููููู",
        "name_en": "Yemeni Coffee",
        "varieties": ["ุญุฑุงุฒู", "ูุงูุนู", "ูุทุฑู", "ุจุฑุนู", "ุฅุณูุงุนููู"],
        "regions": ["ุญุฑุงุฒ", "ูุงูุน", "ุจุฑุน", "ุจูู ูุทุฑ"],
        "altitude_range": "1400-2400ู",
        "lifecycle_years": 30,
        "first_harvest_year": 3,
        "peak_production_year": "7-15",
        "planting": {
            "hijri_months": ["ุฑุจูุน ุงูุฃูู", "ุฑุจูุน ุงูุซุงูู"],
            "gregorian_months": [3, 4],
            "lunar_mansions": [3, 4, 14, 23],  # ุงูุซุฑูุงุ ุงูุฏุจุฑุงูุ ุงูุณูุงูุ ุณุนุฏ ุจูุน
            "moon_phase": "ูุชุฒุงูุฏ",
            "method": "ุดุชูุงุช ุนูุฑูุง 6-12 ุดูุฑ",
            "spacing_m": 2.5,
            "shade_requirement": "50-70%",
        },
        "care": {
            "irrigation": "ุฃุณุจูุนูุงู ูู ุงูุตูู",
            "fertilization": "ูุฑุชูู ุณูููุงู - ุฑุจูุน ูุฎุฑูู",
            "pruning": "ุจุนุฏ ุงูุญุตุงุฏ - ุงูููุฑ ุงููุชูุงูุต",
            "pests": ["ุญูุงุฑ ุงูุณุงู", "ุงููู"],
            "diseases": ["ุตุฏุฃ ุงูุฃูุฑุงู", "ุงูุชุจูุน"],
        },
        "harvest": {
            "hijri_months": ["ุดูุงู", "ุฐู ุงููุนุฏุฉ"],
            "gregorian_months": [10, 11],
            "lunar_mansions": [3, 13],  # ุงูุซุฑูุงุ ุงูุนูุงุก
            "signs_of_ripeness": ["ููู ุฃุญูุฑ ูุงูู", "ุณูููุฉ ุงูุงููุตุงู"],
            "method": "ูุทู ูุฏูู ุงูุชูุงุฆู",
            "yield_kg_per_tree": 3,
        },
        "processing": {
            "drying_method": "ุชุฌููู ุดูุณู ุนูู ุงูุณุทูุญ",
            "drying_days": 21,
            "moisture_target_percent": 11,
            "storage": "ุฃููุงุณ ุฎูุด ูู ููุงู ุฌุงู",
        },
        "proverbs": ["ูุทู ุงูุจู ูู ุงูุซุฑูุงุ ูุฌููู ูู ุงูุฌูุฒุงุก", "ุงูุจู ูุญุจ ุงูุธู ูุงููุฏู"],
        "market_price_yer_kg": 15000,
    },
    "ููุญ_ูููู": {
        "name": "ุงูููุญ ุงููููู",
        "name_en": "Yemeni Wheat",
        "varieties": ["ุจูุฏู", "ูุงูุง", "ูุตุฑู"],
        "regions": ["ุตุนุฏุฉ", "ุฐูุงุฑ", "ุฅุจ", "ุชุนุฒ"],
        "altitude_range": "1500-2800ู",
        "lifecycle_years": 1,
        "first_harvest_year": 1,
        "peak_production_year": "1",
        "planting": {
            "hijri_months": ["ุตูุฑ", "ุฑุจูุน ุงูุฃูู"],
            "gregorian_months": [10, 11, 12],
            "lunar_mansions": [1, 3, 13, 14, 22],  # ุงูุดุฑุทููุ ุงูุซุฑูุงุ ุงูุนูุงุกุ ุงูุณูุงู
            "moon_phase": "ูุชุฒุงูุฏ",
            "method": "ุจุฐุฑ ูุจุงุดุฑ - 140 ูุฌู/ููุชุงุฑ",
            "spacing_m": 0.15,
            "shade_requirement": "ูุง ูุญุชุงุฌ",
        },
        "care": {
            "irrigation": "3-5 ูุฑุงุช ุฎูุงู ุงูููุณู",
            "fertilization": "ุนูุฏ ุงูุฒุฑุงุนุฉ ูุนูุฏ ุงูุชูุฑูุน",
            "pruning": "ูุง ูุญุชุงุฌ",
            "pests": ["ุงููู", "ุงูุญูุงุฑ"],
            "diseases": ["ุงูุตุฏุฃ ุงูุฃุตูุฑ", "ุงูุชูุญู"],
        },
        "harvest": {
            "hijri_months": ["ุฌูุงุฏู ุงูุฃููู", "ุฌูุงุฏู ุงูุขุฎุฑุฉ"],
            "gregorian_months": [5, 6],
            "lunar_mansions": [10, 11, 12],  # ุงูุฌุจูุฉุ ุงูุฒุจุฑุฉุ ุงูุตุฑูุฉ
            "signs_of_ripeness": ["ุงุตูุฑุงุฑ ุงูุณูุงุจู", "ุตูุงุจุฉ ุงูุญุจุฉ"],
            "method": "ุญุตุงุฏ ูุฏูู ุฃู ูููุงูููู",
            "yield_kg_per_tree": 2500,  # ูุฌู/ููุชุงุฑ
        },
        "processing": {
            "drying_method": "ุชุฌููู ุดูุณู ูู ุงูุญูู",
            "drying_days": 7,
            "moisture_target_percent": 13,
            "storage": "ูุฎุงุฒู ุฌุงูุฉ - ุตูุงูุน",
        },
        "proverbs": [
            "ุงูููุญ ููุฒุฑุน ูู ุตูุฑุ ูููุญุตุฏ ูู ุฌูุงุฏู",
            "ูุง ุชุฒุฑุน ุงูููุญ ุฅูุง ูุงูููุฑ ูุชุฒุงูุฏ",
        ],
        "market_price_yer_kg": 280,
    },
    "ุฐุฑุฉ_ุฑููุนุฉ": {
        "name": "ุงูุฐุฑุฉ ุงูุฑููุนุฉ",
        "name_en": "Sorghum",
        "varieties": ["ุงูุตูุฑุงุก", "ุงูุจูุถุงุก", "ุงูุญูุฑุงุก", "ุงูุณูุฏุงููุฉ"],
        "regions": ["ุชูุงูุฉ", "ุงูุฌูู", "ูุฃุฑุจ", "ุญุถุฑููุช"],
        "altitude_range": "0-1800ู",
        "lifecycle_years": 1,
        "first_harvest_year": 1,
        "peak_production_year": "1",
        "planting": {
            "hijri_months": ["ุฑุฌุจ", "ุดุนุจุงู"],
            "gregorian_months": [6, 7, 8],
            "lunar_mansions": [1, 3, 7, 13, 14],  # ุงูุดุฑุทููุ ุงูุซุฑูุงุ ุงูุฐุฑุงุนุ ุงูุนูุงุกุ ุงูุณูุงู
            "moon_phase": "ูุชุฒุงูุฏ",
            "method": "ุจุฐุฑ ูุจุงุดุฑ - 15-20 ูุฌู/ููุชุงุฑ",
            "spacing_m": 0.4,
            "shade_requirement": "ูุง ูุญุชุงุฌ",
        },
        "care": {
            "irrigation": "ุญุณุจ ุงูุฃูุทุงุฑ - ุฑู ุชููููู",
            "fertilization": "ุณูุงุฏ ุนุถูู ุนูุฏ ุงูุฒุฑุงุนุฉ",
            "pruning": "ุฅุฒุงูุฉ ุงูุชูุฑูุนุงุช ุงูุฌุงูุจูุฉ",
            "pests": ["ุฏูุฏุฉ ุงูุณุงู", "ุงููู", "ุงูุฌุฑุงุฏ"],
            "diseases": ["ุงูุชูุญู", "ุงูููุญุฉ"],
        },
        "harvest": {
            "hijri_months": ["ุฐู ุงููุนุฏุฉ", "ุฐู ุงูุญุฌุฉ"],
            "gregorian_months": [10, 11],
            "lunar_mansions": [10, 11, 12],  # ุงูุฌุจูุฉุ ุงูุฒุจุฑุฉุ ุงูุตุฑูุฉ
            "signs_of_ripeness": ["ุตูุงุจุฉ ุงูุญุจูุจ", "ุฌูุงู ุงูุฃูุฑุงู"],
            "method": "ูุทุน ุงูุฑุคูุณ ูุฏููุงู",
            "yield_kg_per_tree": 3000,  # ูุฌู/ููุชุงุฑ
        },
        "processing": {
            "drying_method": "ุชุฌููู ุดูุณู ูุนูู",
            "drying_days": 14,
            "moisture_target_percent": 12,
            "storage": "ุฃููุงุณ ูู ูุฎุงุฒู ูุฑุชูุนุฉ",
        },
        "proverbs": [
            "ุงูุฐุฑุฉ ุชูุฒุฑุน ูุน ุงูุณููุ ูุชูุญุตุฏ ูุจู ุงูููู",
            "ุฅุฐุง ุทูุน ุณููู ุฒุฑุน ุงูุฐุฑุฉ ูู ุงูุณูู",
        ],
        "market_price_yer_kg": 200,
    },
    "ุนูุจ_ูููู": {
        "name": "ุงูุนูุจ ุงููููู",
        "name_en": "Yemeni Grapes",
        "varieties": ["ุงูุนุงุตูู", "ุงูุฑุงุฒูู", "ุงูุจูุงุถ", "ุงูุฃุญูุฑ"],
        "regions": ["ุตูุนุงุก", "ุตุนุฏุฉ", "ุนูุฑุงู", "ุฑููุฉ"],
        "altitude_range": "1800-2400ู",
        "lifecycle_years": 25,
        "first_harvest_year": 2,
        "peak_production_year": "5-15",
        "planting": {
            "hijri_months": ["ุตูุฑ", "ุฑุจูุน ุงูุฃูู", "ุฑุจูุน ุงูุซุงูู"],
            "gregorian_months": [2, 3, 4],
            "lunar_mansions": [3, 4, 23, 24],  # ุงูุซุฑูุงุ ุงูุฏุจุฑุงูุ ุณุนุฏ ุจูุนุ ุณุนุฏ ุงูุณุนูุฏ
            "moon_phase": "ูุชุฒุงูุฏ",
            "method": "ุนูู ุฃู ุดุชูุงุช ูุทุนูุฉ",
            "spacing_m": 2.0,
            "shade_requirement": "ูุง ูุญุชุงุฌ",
        },
        "care": {
            "irrigation": "ูุฑุฉ ูู ุฃุณุจูุนูู",
            "fertilization": "ุณูุงุฏ ุนุถูู ูู ุงูุดุชุงุกุ ูููุงูู ูู ุงูุฑุจูุน",
            "pruning": "ุชูููู ุดุชูู - ุงูููุฑ ุงููุชูุงูุต",
            "pests": ["ุญุดุฑุฉ ุงูุจู ุงูุฏูููู", "ุงูุนููุจูุช ุงูุฃุญูุฑ"],
            "diseases": ["ุงูุจูุงุถ ุงูุฏูููู", "ุงูุนูู ุงูุฑูุงุฏู"],
        },
        "harvest": {
            "hijri_months": ["ุดุนุจุงู", "ุฑูุถุงู"],
            "gregorian_months": [7, 8, 9],
            "lunar_mansions": [3, 13, 14],  # ุงูุซุฑูุงุ ุงูุนูุงุกุ ุงูุณูุงู
            "signs_of_ripeness": ["ุชููู ุงูุนูุงููุฏ", "ุญูุงูุฉ ุงูุทุนู"],
            "method": "ูุทู ูุฏูู ููุนูุงููุฏ",
            "yield_kg_per_tree": 40,
        },
        "processing": {
            "drying_method": "ุชุฌููู ุดูุณู ููุฒุจูุจ",
            "drying_days": 21,
            "moisture_target_percent": 15,
            "storage": "ุบุฑู ุชุจุฑูุฏ ููุทุงุฒุฌ - ุฃููุงุณ ููุฒุจูุจ",
        },
        "proverbs": ["ุงูุนูุจ ูู ุงูุตูู ุฒุงุฏุ ููู ุงูุดุชุงุก ูุฑุงุฏ", "ูููู ุนูุจู ูู ุงููุญุงู ูุฌูู ุงูุนูููุฏ ุฑุงู"],
        "market_price_yer_kg": 800,
    },
    "ูุฎูู_ุชูุฑ": {
        "name": "ูุฎูู ุงูุชูุฑ",
        "name_en": "Date Palm",
        "varieties": ["ุงูุจุฑุญู", "ุงูุตูุฑู", "ุงูุณูุฑู", "ุงููุฌูููู", "ุงูุตุนูุฏู"],
        "regions": ["ุญุถุฑููุช", "ูุฃุฑุจ", "ุงูุฌูู", "ุชูุงูุฉ"],
        "altitude_range": "0-1200ู",
        "lifecycle_years": 80,
        "first_harvest_year": 4,
        "peak_production_year": "10-60",
        "planting": {
            "hijri_months": ["ุตูุฑ", "ุฑุจูุน ุงูุฃูู", "ุฑุจูุน ุงูุซุงูู"],
            "gregorian_months": [2, 3, 4],
            "lunar_mansions": [3, 4, 14, 23, 24],  # ุงูุซุฑูุงุ ุงูุฏุจุฑุงูุ ุงูุณูุงู
            "moon_phase": "ูุชุฒุงูุฏ",
            "method": "ูุณุงุฆู ุนูุฑูุง 3-4 ุณููุงุช",
            "spacing_m": 8.0,
            "shade_requirement": "ูุง ูุญุชุงุฌ",
        },
        "care": {
            "irrigation": "ูู ุฃุณุจูุนูู - ูุชุญูู ุงูุฌูุงู",
            "fertilization": "3 ูุฑุงุช ุณูููุงู - ุณูุงุฏ ุนุถูู",
            "pruning": "ุฅุฒุงูุฉ ุงูุณุนู ุงูุฌุงู - ุงูููุฑ ุงููุชูุงูุต",
            "pests": ["ุญูุงุฑ ุณุงู ุงููุฎูู", "ุณูุณุฉ ุงููุฎูู ุงูุญูุฑุงุก", "ุฏูุฏุฉ ุงูุทูุน"],
            "diseases": ["ุชุนูู ุงูุทูุน", "ุงูุฎุงูุฌ"],
        },
        "harvest": {
            "hijri_months": ["ุฑุฌุจ", "ุดุนุจุงู", "ุฑูุถุงู"],
            "gregorian_months": [7, 8, 9],
            "lunar_mansions": [3, 11, 13],  # ุงูุซุฑูุงุ ุงูุฒุจุฑุฉุ ุงูุนูุงุก
            "signs_of_ripeness": ["ุชุบูุฑ ุงูููู", "ููููุฉ ุงูุซูุฑุฉ"],
            "method": "ูุทู ูุฏูู ุฃู ุชุณูู ุงูุดุฌุฑุฉ",
            "yield_kg_per_tree": 100,
        },
        "processing": {
            "drying_method": "ุชุฌููู ุดูุณู ุฃู ุนูู ุงูุดุฌุฑุฉ",
            "drying_days": 30,
            "moisture_target_percent": 20,
            "storage": "ุบุฑู ุชุจุฑูุฏ - ุตูุงุฏูู ุฎุดุจูุฉ",
        },
        "proverbs": [
            "ุงููุฎูุฉ ุชุบุฑุณ ูู ุงูุฑุจูุน ูุชุซูุฑ ูู ุงูุตูู",
            "ูุฎูุชู ุงููู ุจุงูุจูุชุ ุฎูุฑ ูู ูุฎู ุจุงูุบูุท",
        ],
        "market_price_yer_kg": 1200,
    },
    "ููุฒ_ุชูุงูุฉ": {
        "name": "ุงูููุฒ ุงูุชูุงูู",
        "name_en": "Tihama Banana",
        "varieties": ["ููุฒ ุงูุณูุฑู", "ุงูููุฏู", "ุงูุจูุฏู"],
        "regions": ["ุชูุงูุฉ", "ุงูุญุฏูุฏุฉ", "ุญุฌุฉ", "ุงููุญููุช"],
        "altitude_range": "0-800ู",
        "lifecycle_years": 10,
        "first_harvest_year": 1,
        "peak_production_year": "2-8",
        "planting": {
            "hijri_months": ["ุตูุฑ", "ุฑุจูุน ุงูุฃูู", "ุฑุฌุจ"],
            "gregorian_months": [2, 3, 4, 7, 8],
            "lunar_mansions": [7, 8, 17, 26, 27],  # ุงูุฐุฑุงุนุ ุงููุซุฑุฉุ ุงูุฅููููุ ุงูููุฏูุ ุงููุคุฎุฑ
            "moon_phase": "ูุชุฒุงูุฏ",
            "method": "ุฎููุงุช ูู ุงูุฃููุงุช",
            "spacing_m": 3.0,
            "shade_requirement": "ูุง ูุญุชุงุฌ - ููุถู ุงูุดูุณ",
        },
        "care": {
            "irrigation": "ูู 3-5 ุฃูุงู - ูุญุชุงุฌ ูุงุก ูุซูุฑ",
            "fertilization": "ุดูุฑูุงู - ุณูุงุฏ ุนุถูู ููููุงูู",
            "pruning": "ุฅุฒุงูุฉ ุงูุฃูุฑุงู ุงูุฌุงูุฉ ูุงูุฎููุงุช ุงูุฒุงุฆุฏุฉ",
            "pests": ["ุณูุณุฉ ุงูููุฒ", "ุงูุชุฑุจุณ"],
            "diseases": ["ูุฑุถ ุจููุง", "ุชุนูู ุงูููุฉ"],
        },
        "harvest": {
            "hijri_months": ["ุทูุงู ุงูุนุงู"],
            "gregorian_months": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
            "lunar_mansions": [7, 8, 17],  # ุงูููุงุฒู ุงููุงุฆูุฉ
            "signs_of_ripeness": ["ุงูุชูุงุก ุงูุณุจุงุทุฉ", "ุงุตูุฑุงุฑ ุฎููู"],
            "method": "ูุทุน ุงูุณุจุงุทุฉ ูุงููุฉ",
            "yield_kg_per_tree": 30,
        },
        "processing": {
            "drying_method": "ุงุณุชููุงู ุทุงุฒุฌ - ูุง ูุฌูู",
            "drying_days": 0,
            "moisture_target_percent": 75,
            "storage": "ุบุฑู ุชุจุฑูุฏ 13-15 ุฏุฑุฌุฉ",
        },
        "proverbs": [
            "ุงูููุฒ ูุญุจ ุงููุงู ูุงูุทูู",
            "ููุฒ ุชูุงูุฉ ูู ุงูุตููุ ูุซู ุงูุฐูุจ ูู ุงูุฎุฑูู",
        ],
        "market_price_yer_kg": 400,
    },
    "ูุงูุฌู": {
        "name": "ุงููุงูุฌู",
        "name_en": "Mango",
        "varieties": ["ุงููููุณ", "ุงูุณูุฏู", "ุงูุณูุฑู", "ุงูููุช"],
        "regions": ["ุชูุงูุฉ", "ุงูุญุฏูุฏุฉ", "ุฃุจูู", "ูุญุฌ"],
        "altitude_range": "0-600ู",
        "lifecycle_years": 40,
        "first_harvest_year": 3,
        "peak_production_year": "8-30",
        "planting": {
            "hijri_months": ["ุตูุฑ", "ุฑุจูุน ุงูุฃูู", "ุฑุจูุน ุงูุซุงูู"],
            "gregorian_months": [2, 3, 4],
            "lunar_mansions": [3, 4, 14, 23, 24],  # ุงูุซุฑูุงุ ุงูุฏุจุฑุงูุ ุงูุณูุงูุ ุณุนุฏ ุจูุน
            "moon_phase": "ูุชุฒุงูุฏ",
            "method": "ุดุชูุงุช ูุทุนูุฉ ุนูุฑูุง ุณูุฉ",
            "spacing_m": 8.0,
            "shade_requirement": "ูุง ูุญุชุงุฌ",
        },
        "care": {
            "irrigation": "ุฃุณุจูุนูุงู - ุชููู ูุจู ุงูุฅุฒูุงุฑ",
            "fertilization": "3 ูุฑุงุช ุณูููุงู",
            "pruning": "ุชูููู ุชุดูููู ุจุนุฏ ุงูุญุตุงุฏ",
            "pests": ["ุฐุจุงุจุฉ ุงููุงููุฉ", "ุงูุจู ุงูุฏูููู"],
            "diseases": ["ุงูุจูุงุถ ุงูุฏูููู", "ุชุนูู ุงูุซูุงุฑ"],
        },
        "harvest": {
            "hijri_months": ["ุฌูุงุฏู ุงูุฃููู", "ุฌูุงุฏู ุงูุขุฎุฑุฉ", "ุฑุฌุจ"],
            "gregorian_months": [5, 6, 7],
            "lunar_mansions": [3, 13, 14],  # ุงูุซุฑูุงุ ุงูุนูุงุกุ ุงูุณูุงู
            "signs_of_ripeness": ["ุชุบูุฑ ุงูููู", "ููููุฉ ุฎูููุฉ"],
            "method": "ูุทู ูุฏูู ุจุชุฑู ุนูู",
            "yield_kg_per_tree": 80,
        },
        "processing": {
            "drying_method": "ุงุณุชููุงู ุทุงุฒุฌ ุฃู ุชุตููุน",
            "drying_days": 0,
            "moisture_target_percent": 80,
            "storage": "ุบุฑู ุชุจุฑูุฏ 10-13 ุฏุฑุฌุฉ",
        },
        "proverbs": [
            "ุงููุงูุฌู ุดุฌุฑุฉ ูุจุงุฑูุฉุ ุธููุง ุจุงุฑุฏ ูุซูุฑูุง ุญูู",
            "ูุงูุฌู ุงูุตูู ุชูุณู ุงููู",
        ],
        "market_price_yer_kg": 600,
    },
    "ุฑูุงู": {
        "name": "ุงูุฑูุงู",
        "name_en": "Pomegranate",
        "varieties": ["ุงูููุฏุฑููู", "ุงูุจูุฏู", "ุงูุดุงูู", "ุงููููููุทู"],
        "regions": ["ุตูุนุงุก", "ุฐูุงุฑ", "ุฅุจ", "ุชุนุฒ", "ุตุนุฏุฉ"],
        "altitude_range": "1200-2400ู",
        "lifecycle_years": 30,
        "first_harvest_year": 2,
        "peak_production_year": "5-20",
        "planting": {
            "hijri_months": ["ุตูุฑ", "ุฑุจูุน ุงูุฃูู"],
            "gregorian_months": [2, 3],
            "lunar_mansions": [3, 4, 14, 23, 24],  # ุงูุซุฑูุงุ ุงูุฏุจุฑุงูุ ุงูุณูุงู
            "moon_phase": "ูุชุฒุงูุฏ",
            "method": "ุนูู ุฃู ุดุชูุงุช",
            "spacing_m": 4.0,
            "shade_requirement": "ูุง ูุญุชุงุฌ",
        },
        "care": {
            "irrigation": "ูู 10 ุฃูุงู - ุชูููู ุนูุฏ ุงููุถุฌ",
            "fertilization": "ูุฑุชูู ุณูููุงู - ุฑุจูุน ูุฎุฑูู",
            "pruning": "ุฅุฒุงูุฉ ุงูุฃูุฑุน ุงูุฌุงูุฉ - ุงูููุฑ ุงููุชูุงูุต",
            "pests": ["ุญูุงุฑ ุงูุณุงู", "ุงููู"],
            "diseases": ["ุชุนูู ุงูุซูุงุฑ", "ุงูุจูุงุถ ุงูุฏูููู"],
        },
        "harvest": {
            "hijri_months": ["ุดุนุจุงู", "ุฑูุถุงู", "ุดูุงู"],
            "gregorian_months": [8, 9, 10],
            "lunar_mansions": [11, 12, 13],  # ุงูุฒุจุฑุฉุ ุงูุตุฑูุฉุ ุงูุนูุงุก
            "signs_of_ripeness": ["ุงูููู ุงูุฃุญูุฑ ุงููุงูู", "ุตูุช ุฑูุงู ุนูุฏ ุงูููุฑ"],
            "method": "ูุทู ูุฏูู ุจููุต",
            "yield_kg_per_tree": 50,
        },
        "processing": {
            "drying_method": "ุงุณุชููุงู ุทุงุฒุฌ ุฃู ุนุตูุฑ",
            "drying_days": 0,
            "moisture_target_percent": 78,
            "storage": "ุบุฑู ุชุจุฑูุฏ 5 ุฏุฑุฌุงุช - 3 ุฃุดูุฑ",
        },
        "proverbs": [
            "ุงูุฑูุงู ูู ุงูุฎุฑูู ุชุงุฌ",
            "ุฑูุงูุฉ ูุงุญุฏุฉ ุฃุญุณู ูู ุนูููุฏ ูุงุณุฏ",
        ],
        "market_price_yer_kg": 700,
    },
    "ุจุตู_ูููู": {
        "name": "ุงูุจุตู ุงููููู",
        "name_en": "Yemeni Onion",
        "varieties": ["ุงูุฃุญูุฑ", "ุงูุฃุตูุฑ", "ุงูุฃุจูุถ"],
        "regions": ["ุฐูุงุฑ", "ุฅุจ", "ุชุนุฒ", "ุงูุถุงูุน"],
        "altitude_range": "1500-2600ู",
        "lifecycle_years": 1,
        "first_harvest_year": 1,
        "peak_production_year": "1",
        "planting": {
            "hijri_months": ["ุฐู ุงููุนุฏุฉ", "ุฐู ุงูุญุฌุฉ", "ูุญุฑู"],
            "gregorian_months": [10, 11, 12],
            "lunar_mansions": [17, 22, 23],  # ุงูุฅููููุ ุณุนุฏ ุงูุฐุงุจุญุ ุณุนุฏ ุจูุน
            "moon_phase": "ูุชูุงูุต",
            "method": "ุจุฐูุฑ ุฃู ุดุชู - 4 ูุฌู ุจุฐูุฑ/ููุชุงุฑ",
            "spacing_m": 0.15,
            "shade_requirement": "ูุง ูุญุชุงุฌ",
        },
        "care": {
            "irrigation": "ุฃุณุจูุนูุงู - ุชููู ูุจู ุงูุญุตุงุฏ ุจุฃุณุจูุนูู",
            "fertilization": "ุณูุงุฏ ุนุถูู ุนูุฏ ุงูุฒุฑุงุนุฉ",
            "pruning": "ูุง ูุญุชุงุฌ",
            "pests": ["ุฐุจุงุจุฉ ุงูุจุตู", "ุงูุชุฑุจุณ"],
            "diseases": ["ุงูุจูุงุถ ุงูุฒุบุจู", "ุงูุนูู ุงูุฃุจูุถ"],
        },
        "harvest": {
            "hijri_months": ["ุฑุจูุน ุงูุซุงูู", "ุฌูุงุฏู ุงูุฃููู"],
            "gregorian_months": [4, 5],
            "lunar_mansions": [17, 22],  # ุงูุฅููููุ ุณุนุฏ ุงูุฐุงุจุญ
            "signs_of_ripeness": ["ุงุตูุฑุงุฑ ุงูุฃูุฑุงู", "ุณููุท ุงูุนุฑุด"],
            "method": "ููุน ูุฏูู",
            "yield_kg_per_tree": 25000,  # ูุฌู/ููุชุงุฑ
        },
        "processing": {
            "drying_method": "ุชุฌููู ููุงุฆู ูู ุงูุธู",
            "drying_days": 14,
            "moisture_target_percent": 20,
            "storage": "ูุนูู ูู ููุงู ุฌุงู ูุฌูุฏ ุงูุชูููุฉ",
        },
        "proverbs": [
            "ุงูุจุตู ูุงูุซูู ูู ุงูููุฑ ุงููุชูุงูุต",
            "ุจุตู ุฐูุงุฑ ูุดูู ูู ุงูุฃูุฑุงุถ",
        ],
        "market_price_yer_kg": 250,
    },
    "ุซูู_ูููู": {
        "name": "ุงูุซูู ุงููููู",
        "name_en": "Yemeni Garlic",
        "varieties": ["ุงูุจูุฏู", "ุงูุตููู", "ุงููุตุฑู"],
        "regions": ["ุฐูุงุฑ", "ุฅุจ", "ุชุนุฒ", "ุงูุจูุถุงุก"],
        "altitude_range": "1500-2600ู",
        "lifecycle_years": 1,
        "first_harvest_year": 1,
        "peak_production_year": "1",
        "planting": {
            "hijri_months": ["ุฐู ุงููุนุฏุฉ", "ุฐู ุงูุญุฌุฉ"],
            "gregorian_months": [10, 11],
            "lunar_mansions": [17, 22, 23],  # ุงูุฅููููุ ุณุนุฏ ุงูุฐุงุจุญุ ุณุนุฏ ุจูุน
            "moon_phase": "ูุชูุงูุต",
            "method": "ูุตูุต - 800 ูุฌู/ููุชุงุฑ",
            "spacing_m": 0.15,
            "shade_requirement": "ูุง ูุญุชุงุฌ",
        },
        "care": {
            "irrigation": "ูู 10 ุฃูุงู - ุชููู ูุจู ุงูุญุตุงุฏ",
            "fertilization": "ุณูุงุฏ ุนุถูู ูุชุฎูุฑ",
            "pruning": "ุฅุฒุงูุฉ ุงูุดูุงุฑูุฎ ุงูุฒูุฑูุฉ",
            "pests": ["ุงูุชุฑุจุณ", "ุงูุฏูุฏุงู ุงูุฎูุทูุฉ"],
            "diseases": ["ุงูุนูู ุงูุฃุจูุถ", "ุงูุตุฏุฃ"],
        },
        "harvest": {
            "hijri_months": ["ุฑุจูุน ุงูุซุงูู", "ุฌูุงุฏู ุงูุฃููู", "ุฌูุงุฏู ุงูุขุฎุฑุฉ"],
            "gregorian_months": [5, 6],
            "lunar_mansions": [17, 22],  # ุงูุฅููููุ ุณุนุฏ ุงูุฐุงุจุญ
            "signs_of_ripeness": ["ุงุตูุฑุงุฑ ุงูุฃูุฑุงู", "ุฌูุงู ุงูุนุฑุด"],
            "method": "ููุน ูุฏูู ูุงูู",
            "yield_kg_per_tree": 8000,  # ูุฌู/ููุชุงุฑ
        },
        "processing": {
            "drying_method": "ุชุฌููู ููุงุฆู ูุนูู",
            "drying_days": 21,
            "moisture_target_percent": 35,
            "storage": "ูุนูู ูู ุถูุงุฆุฑ - ููุงู ุฌุงู",
        },
        "proverbs": [
            "ุงูุซูู ุฏูุงุก ูุบุฐุงุก",
            "ููุฒุฑุน ูู ุงูููุฑ ุงููุชูุงูุต ูุชูููุฉ ุงูุฌุฐูุฑ",
        ],
        "market_price_yer_kg": 800,
    },
}


# ุงูุฃุจุฑุงุฌ ุงูุฒุฑุงุนูุฉ
ZODIAC_FARMING = {
    "aries": {"name": "ุงูุญูู", "element": "ูุงุฑ", "fertility": "ุฌุงูุฉ", "score": 4},
    "taurus": {"name": "ุงูุซูุฑ", "element": "ุฃุฑุถ", "fertility": "ุฎุตุจุฉ ุฌุฏุงู", "score": 9},
    "gemini": {"name": "ุงูุฌูุฒุงุก", "element": "ููุงุก", "fertility": "ุฌุงูุฉ", "score": 3},
    "cancer": {
        "name": "ุงูุณุฑุทุงู",
        "element": "ูุงุก",
        "fertility": "ุฎุตุจุฉ ุฌุฏุงู",
        "score": 10,
    },
    "leo": {"name": "ุงูุฃุณุฏ", "element": "ูุงุฑ", "fertility": "ุฌุงูุฉ ุฌุฏุงู", "score": 2},
    "virgo": {"name": "ุงูุนุฐุฑุงุก", "element": "ุฃุฑุถ", "fertility": "ุฌุงูุฉ", "score": 5},
    "libra": {"name": "ุงูููุฒุงู", "element": "ููุงุก", "fertility": "ูุชูุณุทุฉ", "score": 6},
    "scorpio": {
        "name": "ุงูุนูุฑุจ",
        "element": "ูุงุก",
        "fertility": "ุฎุตุจุฉ ุฌุฏุงู",
        "score": 9,
    },
    "sagittarius": {"name": "ุงูููุณ", "element": "ูุงุฑ", "fertility": "ุฌุงูุฉ", "score": 3},
    "capricorn": {"name": "ุงูุฌุฏู", "element": "ุฃุฑุถ", "fertility": "ุฎุตุจุฉ", "score": 7},
    "aquarius": {"name": "ุงูุฏูู", "element": "ููุงุก", "fertility": "ุฌุงูุฉ", "score": 4},
    "pisces": {"name": "ุงูุญูุช", "element": "ูุงุก", "fertility": "ุฎุตุจุฉ ุฌุฏุงู", "score": 9},
}


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ููุงุฐุฌ ุงูุจูุงูุงุช (Pydantic Models)
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


class MoonPhase(BaseModel):
    """ูุฑุญูุฉ ุงูููุฑ"""

    phase_key: str = Field(..., description="ููุชุงุญ ุงููุฑุญูุฉ")
    name: str = Field(..., description="ุงุณู ุงููุฑุญูุฉ ุจุงูุนุฑุจูุฉ")
    name_en: str = Field(..., description="ุงุณู ุงููุฑุญูุฉ ุจุงูุฅูุฌููุฒูุฉ")
    icon: str = Field(..., description="ุฃููููุฉ ุงููุฑุญูุฉ")
    illumination: float = Field(..., ge=0, le=100, description="ูุณุจุฉ ุงูุฅุถุงุกุฉ")
    age_days: float = Field(..., description="ุนูุฑ ุงูููุฑ ุจุงูุฃูุงู")
    is_waxing: bool = Field(..., description="ูู ุงูููุฑ ูุชุฒุงูุฏ")
    farming_good: bool = Field(..., description="ูู ููุงุณุจ ููุฒุฑุงุนุฉ")


class LunarMansion(BaseModel):
    """ููุฒูุฉ ููุฑูุฉ"""

    number: int = Field(..., ge=1, le=28, description="ุฑูู ุงูููุฒูุฉ")
    name: str = Field(..., description="ุงุณู ุงูููุฒูุฉ ุจุงูุนุฑุจูุฉ")
    name_en: str = Field(..., description="ุงุณู ุงูููุฒูุฉ ุจุงูุฅูุฌููุฒูุฉ")
    constellation: str = Field(..., description="ุงูุจุฑุฌ")
    constellation_en: str = Field(..., description="ุงูุจุฑุฌ ุจุงูุฅูุฌููุฒูุฉ")
    element: str = Field(..., description="ุงูุนูุตุฑ")
    farming: str = Field(..., description="ุญุงูุฉ ุงูุฒุฑุงุนุฉ")
    farming_score: int = Field(..., ge=1, le=10, description="ุฏุฑุฌุฉ ููุงุกูุฉ ุงูุฒุฑุงุนุฉ")
    crops: list[str] = Field(..., description="ุงููุญุงุตูู ุงูููุตู ุจูุง")
    activities: list[str] = Field(..., description="ุงูุฃูุดุทุฉ ุงูููุตู ุจูุง")
    avoid: list[str] = Field(..., description="ุงูุฃูุดุทุฉ ุงูุชู ูุฌุจ ุชุฌูุจูุง")
    description: str = Field(..., description="ูุตู ุงูููุฒูุฉ")


class HijriDate(BaseModel):
    """ุงูุชุงุฑูุฎ ุงููุฌุฑู"""

    year: int = Field(..., description="ุงูุณูุฉ ุงููุฌุฑูุฉ")
    month: int = Field(..., ge=1, le=12, description="ุงูุดูุฑ")
    day: int = Field(..., ge=1, le=30, description="ุงูููู")
    month_name: str = Field(..., description="ุงุณู ุงูุดูุฑ ุจุงูุนุฑุจูุฉ")
    month_name_en: str = Field(..., description="ุงุณู ุงูุดูุฑ ุจุงูุฅูุฌููุฒูุฉ")
    weekday: str = Field(..., description="ุงูููู ูู ุงูุฃุณุจูุน")


class ZodiacInfo(BaseModel):
    """ูุนูููุงุช ุงูุจุฑุฌ"""

    name: str = Field(..., description="ุงุณู ุงูุจุฑุฌ ุจุงูุนุฑุจูุฉ")
    name_en: str = Field(..., description="ุงุณู ุงูุจุฑุฌ ุจุงูุฅูุฌููุฒูุฉ")
    element: str = Field(..., description="ุงูุนูุตุฑ")
    fertility: str = Field(..., description="ุงูุฎุตูุจุฉ")
    score: int = Field(..., ge=1, le=10, description="ุฏุฑุฌุฉ ููุงุกูุฉ ุงูุฒุฑุงุนุฉ")


class SeasonInfo(BaseModel):
    """ูุนูููุงุช ุงูููุณู"""

    name: str = Field(..., description="ุงุณู ุงูููุณู ุจุงูุนุฑุจูุฉ")
    name_en: str = Field(..., description="ุงุณู ุงูููุณู ุจุงูุฅูุฌููุฒูุฉ")
    description: str = Field(..., description="ูุตู ุงูููุณู")
    main_crops: list[str] = Field(..., description="ุงููุญุงุตูู ุงูุฑุฆูุณูุฉ")
    activities: list[str] = Field(..., description="ุงูุฃูุดุทุฉ ุงูููุตู ุจูุง")


class FarmingRecommendation(BaseModel):
    """ุชูุตูุฉ ุฒุฑุงุนูุฉ"""

    activity: str = Field(..., description="ุงููุดุงุท")
    suitability: str = Field(..., description="ูุฏู ุงูููุงุกูุฉ")
    suitability_score: int = Field(..., ge=1, le=10, description="ุฏุฑุฌุฉ ุงูููุงุกูุฉ")
    reason: str = Field(..., description="ุงูุณุจุจ")
    best_time: str | None = Field(None, description="ุฃูุถู ููุช")


class DailyAstronomicalData(BaseModel):
    """ุงูุจูุงูุงุช ุงูููููุฉ ุงูููููุฉ"""

    date_gregorian: str = Field(..., description="ุงูุชุงุฑูุฎ ุงููููุงุฏู")
    date_hijri: HijriDate = Field(..., description="ุงูุชุงุฑูุฎ ุงููุฌุฑู")
    moon_phase: MoonPhase = Field(..., description="ูุฑุญูุฉ ุงูููุฑ")
    lunar_mansion: LunarMansion = Field(..., description="ุงูููุฒูุฉ ุงูููุฑูุฉ")
    zodiac: ZodiacInfo = Field(..., description="ุงูุจุฑุฌ")
    season: SeasonInfo = Field(..., description="ุงูููุณู")
    overall_farming_score: int = Field(..., ge=1, le=10, description="ุฏุฑุฌุฉ ุงูุฒุฑุงุนุฉ ุงูุฅุฌูุงููุฉ")
    recommendations: list[FarmingRecommendation] = Field(..., description="ุงูุชูุตูุงุช ุงูุฒุฑุงุนูุฉ")


class WeeklyForecast(BaseModel):
    """ุงูุชููุนุงุช ุงูุฃุณุจูุนูุฉ"""

    start_date: str
    end_date: str
    days: list[DailyAstronomicalData]
    best_planting_days: list[str]
    best_harvesting_days: list[str]
    avoid_days: list[str]


class CropCalendar(BaseModel):
    """ุชูููู ุงููุญุตูู"""

    crop_name: str
    crop_name_en: str
    best_planting_mansions: list[int]
    best_moon_phases: list[str]
    best_zodiac_signs: list[str]
    optimal_months: list[int]
    planting_guide: str
    current_suitability: int


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ุงูุญุณุงุจุงุช ุงูููููุฉ
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


def calculate_julian_day(year: int, month: int, day: int) -> float:
    """ุญุณุงุจ ุงูููู ุงูููููุงูู"""
    if month <= 2:
        year -= 1
        month += 12

    A = int(year / 100)
    B = 2 - A + int(A / 4)

    JD = int(365.25 * (year + 4716)) + int(30.6001 * (month + 1)) + day + B - 1524.5
    return JD


def calculate_moon_phase(dt: datetime) -> dict:
    """ุญุณุงุจ ูุฑุญูุฉ ุงูููุฑ ุจุฏูุฉ"""
    # ุงูููุฑ ุงูุฌุฏูุฏ ุงููุฑุฌุนู: 6 ููุงูุฑ 2000
    reference_new_moon = datetime(2000, 1, 6, 18, 14)
    synodic_month = 29.530588853  # ุงูุดูุฑ ุงูููุฑู ุจุงูุฃูุงู

    days_since_reference = (dt - reference_new_moon).total_seconds() / 86400
    moon_age = days_since_reference % synodic_month

    # ูุณุจุฉ ุงูุฅุถุงุกุฉ
    illumination = (1 - math.cos(2 * math.pi * moon_age / synodic_month)) / 2 * 100

    # ุชุญุฏูุฏ ุงููุฑุญูุฉ
    phase_index = int((moon_age / synodic_month) * 8) % 8
    phase_keys = list(MOON_PHASES.keys())
    phase_key = phase_keys[phase_index]
    phase_data = MOON_PHASES[phase_key]

    is_waxing = moon_age < synodic_month / 2

    return MoonPhase(
        phase_key=phase_key,
        name=phase_data["name"],
        name_en=phase_data["name_en"],
        icon=phase_data["icon"],
        illumination=round(illumination, 1),
        age_days=round(moon_age, 2),
        is_waxing=is_waxing,
        farming_good=phase_data["farming_good"],
    )


def calculate_lunar_mansion(dt: datetime) -> LunarMansion:
    """ุญุณุงุจ ุงูููุฒูุฉ ุงูููุฑูุฉ"""
    # ุงูููุฒูุฉ ุงููุฑุฌุนูุฉ: 1 ููุงูุฑ 2000 = ุงูููุฒูุฉ 1 (ุงูุดุฑุทูู)
    reference_date = datetime(2000, 1, 1)
    days_since_reference = (dt - reference_date).days

    # ูู ููุฒูุฉ โ 13 ููู ุชูุฑูุจุงู (365.25 / 28)
    mansion_period = 365.25 / 28

    mansion_number = int((days_since_reference % 365.25) / mansion_period) + 1
    if mansion_number > 28:
        mansion_number = 1

    mansion_data = LUNAR_MANSIONS[mansion_number]

    return LunarMansion(
        number=mansion_number,
        name=mansion_data["name"],
        name_en=mansion_data["name_en"],
        constellation=mansion_data["constellation"],
        constellation_en=mansion_data["constellation_en"],
        element=mansion_data["element"],
        farming=mansion_data["farming"],
        farming_score=mansion_data["farming_score"],
        crops=mansion_data["crops"],
        activities=mansion_data["activities"],
        avoid=mansion_data["avoid"],
        description=mansion_data["description"],
    )


def gregorian_to_hijri(year: int, month: int, day: int) -> HijriDate:
    """ุชุญููู ูู ูููุงุฏู ุฅูู ูุฌุฑู (ุฎูุงุฑุฒููุฉ ุชูุฑูุจูุฉ)"""
    # ุญุณุงุจ ุงูููู ุงูููููุงูู
    jd = calculate_julian_day(year, month, day)

    # ุชุญููู ุฅูู ูุฌุฑู
    # ููุทุฉ ุงููุฑุฌุน: 1 ูุญุฑู 1 ูู = 16 ููููู 622 ู = JD 1948439.5
    epoch = 1948439.5

    days_since_epoch = jd - epoch

    # ุงูุณูุฉ ุงููุฌุฑูุฉ (ุชูุฑูุจู)
    hijri_year = int(days_since_epoch / 354.36667) + 1

    # ุญุณุงุจ ุจุฏุงูุฉ ุงูุณูุฉ
    days_in_year = days_since_epoch - int((hijri_year - 1) * 354.36667)

    # ุงูุดูุฑ ูุงูููู
    hijri_month = 1
    remaining_days = days_in_year

    for m in range(1, 13):
        month_days = HIJRI_MONTHS[m]["days"]
        if remaining_days <= month_days:
            hijri_month = m
            break
        remaining_days -= month_days

    hijri_day = max(1, min(30, int(remaining_days) + 1))

    # ุงูููู ูู ุงูุฃุณุจูุน
    weekdays = ["ุงูุฃุญุฏ", "ุงูุฅุซููู", "ุงูุซูุงุซุงุก", "ุงูุฃุฑุจุนุงุก", "ุงูุฎููุณ", "ุงูุฌูุนุฉ", "ุงูุณุจุช"]
    weekday = weekdays[int(jd + 1.5) % 7]

    return HijriDate(
        year=hijri_year,
        month=hijri_month,
        day=hijri_day,
        month_name=HIJRI_MONTHS[hijri_month]["name"],
        month_name_en=HIJRI_MONTHS[hijri_month]["name_en"],
        weekday=weekday,
    )


def get_zodiac_sign(dt: datetime) -> ZodiacInfo:
    """ุงูุญุตูู ุนูู ุงูุจุฑุฌ ุงูุดูุณู"""
    # ุชูุงุฑูุฎ ุงูุฃุจุฑุงุฌ ุงูุชูุฑูุจูุฉ
    zodiac_dates = [
        (1, 20, "aquarius"),
        (2, 19, "pisces"),
        (3, 21, "aries"),
        (4, 20, "taurus"),
        (5, 21, "gemini"),
        (6, 21, "cancer"),
        (7, 23, "leo"),
        (8, 23, "virgo"),
        (9, 23, "libra"),
        (10, 23, "scorpio"),
        (11, 22, "sagittarius"),
        (12, 22, "capricorn"),
    ]

    month, day = dt.month, dt.day

    sign_key = "capricorn"  # ุงูุชุฑุงุถู
    for zd in zodiac_dates:
        if (month == zd[0] and day >= zd[1]) or (
            month == zd[0] + 1 and day < zodiac_dates[(zodiac_dates.index(zd) + 1) % 12][1]
        ):
            sign_key = zd[2]
            break

    if month == 12 and day >= 22 or month == 1 and day < 20:
        sign_key = "capricorn"

    # ุชุญุฏูุฏ ุงูุจุฑุฌ ุจูุงุกู ุนูู ุงูุดูุฑ ูุงูุชุงุฑูุฎ
    if (month == 3 and day >= 21) or (month == 4 and day <= 19):
        sign_key = "aries"
    elif (month == 4 and day >= 20) or (month == 5 and day <= 20):
        sign_key = "taurus"
    elif (month == 5 and day >= 21) or (month == 6 and day <= 20):
        sign_key = "gemini"
    elif (month == 6 and day >= 21) or (month == 7 and day <= 22):
        sign_key = "cancer"
    elif (month == 7 and day >= 23) or (month == 8 and day <= 22):
        sign_key = "leo"
    elif (month == 8 and day >= 23) or (month == 9 and day <= 22):
        sign_key = "virgo"
    elif (month == 9 and day >= 23) or (month == 10 and day <= 22):
        sign_key = "libra"
    elif (month == 10 and day >= 23) or (month == 11 and day <= 21):
        sign_key = "scorpio"
    elif (month == 11 and day >= 22) or (month == 12 and day <= 21):
        sign_key = "sagittarius"
    elif (month == 12 and day >= 22) or (month == 1 and day <= 19):
        sign_key = "capricorn"
    elif (month == 1 and day >= 20) or (month == 2 and day <= 18):
        sign_key = "aquarius"
    else:
        sign_key = "pisces"

    zodiac_data = ZODIAC_FARMING[sign_key]

    return ZodiacInfo(
        name=zodiac_data["name"],
        name_en=sign_key.capitalize(),
        element=zodiac_data["element"],
        fertility=zodiac_data["fertility"],
        score=zodiac_data["score"],
    )


def get_current_season(month: int) -> SeasonInfo:
    """ุงูุญุตูู ุนูู ุงูููุณู ุงูุญุงูู"""
    for _season_key, season_data in YEMENI_SEASONS.items():
        if month in season_data["months"]:
            return SeasonInfo(
                name=season_data["name"],
                name_en=season_data["name_en"],
                description=season_data["description"],
                main_crops=season_data["main_crops"],
                activities=season_data["activities"],
            )

    # ุงูุชุฑุงุถู
    return SeasonInfo(
        name="ุบูุฑ ูุญุฏุฏ", name_en="Unknown", description="", main_crops=[], activities=[]
    )


def calculate_farming_recommendations(
    moon_phase: MoonPhase, lunar_mansion: LunarMansion, zodiac: ZodiacInfo
) -> list[FarmingRecommendation]:
    """ุญุณุงุจ ุงูุชูุตูุงุช ุงูุฒุฑุงุนูุฉ"""
    recommendations = []

    # ุชูุตูุฉ ุงูุฒุฑุงุนุฉ
    planting_score = (lunar_mansion.farming_score + zodiac.score) // 2
    if moon_phase.is_waxing:
        planting_score = min(10, planting_score + 2)

    planting_suitability = (
        "ููุชุงุฒุฉ"
        if planting_score >= 8
        else ("ุฌูุฏุฉ" if planting_score >= 6 else "ูุชูุณุทุฉ" if planting_score >= 4 else "ุถุนููุฉ")
    )

    recommendations.append(
        FarmingRecommendation(
            activity="ุฒุฑุงุนุฉ",
            suitability=planting_suitability,
            suitability_score=planting_score,
            reason=f"ุงูููุฒูุฉ: {lunar_mansion.name} ({lunar_mansion.farming}), ุงูููุฑ: {moon_phase.name}",
            best_time="ุงูุตุจุงุญ ุงูุจุงูุฑ" if planting_score >= 6 else None,
        )
    )

    # ุชูุตูุฉ ุงูุฑู
    irrigation_score = 5
    if zodiac.element == "ูุงุก":
        irrigation_score += 3
    if lunar_mansion.element == "ูุงุก":
        irrigation_score += 2
    irrigation_score = min(10, irrigation_score)

    recommendations.append(
        FarmingRecommendation(
            activity="ุฑู",
            suitability=(
                "ููุชุงุฒุฉ" if irrigation_score >= 8 else "ุฌูุฏุฉ" if irrigation_score >= 6 else "ูุชูุณุทุฉ"
            ),
            suitability_score=irrigation_score,
            reason=f"ุนูุตุฑ ุงูุจุฑุฌ: {zodiac.element}, ุนูุตุฑ ุงูููุฒูุฉ: {lunar_mansion.element}",
            best_time="ุงููุฌุฑ ุฃู ุงููุบุฑุจ",
        )
    )

    # ุชูุตูุฉ ุงูุญุตุงุฏ
    harvest_score = 5
    if not moon_phase.is_waxing:  # ุงูููุฑ ุงููุชูุงูุต ุฃูุถู ููุญุตุงุฏ
        harvest_score += 3
    if zodiac.element in ["ุฃุฑุถ", "ูุงุฑ"]:
        harvest_score += 2
    harvest_score = min(10, harvest_score)

    recommendations.append(
        FarmingRecommendation(
            activity="ุญุตุงุฏ",
            suitability=(
                "ููุชุงุฒุฉ" if harvest_score >= 8 else "ุฌูุฏุฉ" if harvest_score >= 6 else "ูุชูุณุทุฉ"
            ),
            suitability_score=harvest_score,
            reason=f"ุงูููุฑ {'ูุชูุงูุต' if not moon_phase.is_waxing else 'ูุชุฒุงูุฏ'} - {'ููุงุณุจ' if not moon_phase.is_waxing else 'ุบูุฑ ูุซุงูู'} ููุญุตุงุฏ",
            best_time="ููุชุตู ุงูููุงุฑ" if harvest_score >= 6 else None,
        )
    )

    # ุชูุตูุฉ ุงูุชูููู
    pruning_score = 5
    if not moon_phase.is_waxing:
        pruning_score += 2
    if zodiac.element == "ููุงุก":
        pruning_score += 2
    pruning_score = min(10, pruning_score)

    recommendations.append(
        FarmingRecommendation(
            activity="ุชูููู",
            suitability=(
                "ููุชุงุฒุฉ" if pruning_score >= 8 else "ุฌูุฏุฉ" if pruning_score >= 6 else "ูุชูุณุทุฉ"
            ),
            suitability_score=pruning_score,
            reason="ุงูููุฑ ุงููุชูุงูุต ุฃูุถู ููุชูููู",
            best_time="ุงูุตุจุงุญ",
        )
    )

    return recommendations


def calculate_overall_score(
    moon_phase: MoonPhase, lunar_mansion: LunarMansion, zodiac: ZodiacInfo
) -> int:
    """ุญุณุงุจ ุงูุฏุฑุฌุฉ ุงูุฅุฌูุงููุฉ ููุฒุฑุงุนุฉ"""
    base_score = lunar_mansion.farming_score

    # ุชุฃุซูุฑ ูุฑุญูุฉ ุงูููุฑ
    if moon_phase.farming_good:
        base_score += 1
    else:
        base_score -= 1

    # ุชุฃุซูุฑ ุงูุจุฑุฌ
    base_score = (base_score + zodiac.score) // 2

    return max(1, min(10, base_score))


def get_daily_astronomical_data(dt: datetime) -> DailyAstronomicalData:
    """ุงูุญุตูู ุนูู ุงูุจูุงูุงุช ุงูููููุฉ ุงูููููุฉ"""
    moon_phase = calculate_moon_phase(dt)
    lunar_mansion = calculate_lunar_mansion(dt)
    zodiac = get_zodiac_sign(dt)
    season = get_current_season(dt.month)
    hijri = gregorian_to_hijri(dt.year, dt.month, dt.day)

    recommendations = calculate_farming_recommendations(moon_phase, lunar_mansion, zodiac)
    overall_score = calculate_overall_score(moon_phase, lunar_mansion, zodiac)

    return DailyAstronomicalData(
        date_gregorian=dt.strftime("%Y-%m-%d"),
        date_hijri=hijri,
        moon_phase=moon_phase,
        lunar_mansion=lunar_mansion,
        zodiac=zodiac,
        season=season,
        overall_farming_score=overall_score,
        recommendations=recommendations,
    )


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ููุงุท ุงูููุงูุฉ (API Endpoints)
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


@app.get("/healthz", tags=["Health"])
def health_check():
    """ุงูุชุญูู ูู ุตุญุฉ ุงูุฎุฏูุฉ"""
    return {
        "status": "healthy",
        "service": "astronomical-calendar",
        "version": "15.5.0",
        "timestamp": datetime.utcnow().isoformat(),
    }


@app.get("/v1/today", response_model=DailyAstronomicalData, tags=["Calendar"])
def get_today():
    """
    ุงูุญุตูู ุนูู ุงูุจูุงูุงุช ุงูููููุฉ ููููู ุงูุญุงูู

    ูุฑุฌุน:
    - ุงูุชุงุฑูุฎ ุงููุฌุฑู
    - ูุฑุญูุฉ ุงูููุฑ
    - ุงูููุฒูุฉ ุงูููุฑูุฉ
    - ุงูุจุฑุฌ
    - ุงูููุณู ุงูุฒุฑุงุนู
    - ุงูุชูุตูุงุช ุงูุฒุฑุงุนูุฉ
    """
    return get_daily_astronomical_data(datetime.utcnow())


@app.get("/v1/date/{date_str}", response_model=DailyAstronomicalData, tags=["Calendar"])
def get_date(date_str: str):
    """
    ุงูุญุตูู ุนูู ุงูุจูุงูุงุช ุงูููููุฉ ูุชุงุฑูุฎ ูุญุฏุฏ

    ุงููุนุทูุงุช:
    - date_str: ุงูุชุงุฑูุฎ ุจุตูุบุฉ YYYY-MM-DD
    """
    try:
        dt = datetime.strptime(date_str, "%Y-%m-%d")
        return get_daily_astronomical_data(dt)
    except ValueError:
        raise HTTPException(status_code=400, detail="ุตูุบุฉ ุงูุชุงุฑูุฎ ุบูุฑ ุตุญูุญุฉ. ุงุณุชุฎุฏู YYYY-MM-DD")


@app.get("/v1/week", response_model=WeeklyForecast, tags=["Calendar"])
def get_weekly_forecast(
    start_date: str | None = Query(None, description="ุชุงุฑูุฎ ุงูุจุฏุงูุฉ (YYYY-MM-DD)"),
):
    """
    ุงูุญุตูู ุนูู ุงูุชููุนุงุช ุงูููููุฉ ุงูุฃุณุจูุนูุฉ

    ูุฑุฌุน ุฃูุถู ุฃูุงู ุงูุฒุฑุงุนุฉ ูุงูุญุตุงุฏ ูุงูุฃูุงู ุงูุชู ูุฌุจ ุชุฌูุจูุง
    """
    if start_date:
        try:
            start = datetime.strptime(start_date, "%Y-%m-%d")
        except ValueError:
            raise HTTPException(status_code=400, detail="ุตูุบุฉ ุงูุชุงุฑูุฎ ุบูุฑ ุตุญูุญุฉ")
    else:
        start = datetime.utcnow()

    days = []
    best_planting = []
    best_harvesting = []
    avoid_days = []

    for i in range(7):
        dt = start + timedelta(days=i)
        data = get_daily_astronomical_data(dt)
        days.append(data)

        date_str = dt.strftime("%Y-%m-%d")

        if data.overall_farming_score >= 7:
            best_planting.append(date_str)

        # ุฃูุถู ุฃูุงู ุงูุญุตุงุฏ: ุงูููุฑ ูุชูุงูุต + ุฏุฑุฌุฉ ุฌูุฏุฉ
        harvest_rec = next((r for r in data.recommendations if r.activity == "ุญุตุงุฏ"), None)
        if harvest_rec and harvest_rec.suitability_score >= 7:
            best_harvesting.append(date_str)

        if data.overall_farming_score <= 3:
            avoid_days.append(date_str)

    end = start + timedelta(days=6)

    return WeeklyForecast(
        start_date=start.strftime("%Y-%m-%d"),
        end_date=end.strftime("%Y-%m-%d"),
        days=days,
        best_planting_days=best_planting,
        best_harvesting_days=best_harvesting,
        avoid_days=avoid_days,
    )


@app.get("/v1/moon-phase", response_model=MoonPhase, tags=["Astronomy"])
def get_moon_phase(date_str: str | None = Query(None, description="ุงูุชุงุฑูุฎ (YYYY-MM-DD)")):
    """ุงูุญุตูู ุนูู ูุฑุญูุฉ ุงูููุฑ"""
    if date_str:
        try:
            dt = datetime.strptime(date_str, "%Y-%m-%d")
        except ValueError:
            raise HTTPException(status_code=400, detail="ุตูุบุฉ ุงูุชุงุฑูุฎ ุบูุฑ ุตุญูุญุฉ")
    else:
        dt = datetime.utcnow()

    return calculate_moon_phase(dt)


@app.get("/v1/lunar-mansion", response_model=LunarMansion, tags=["Astronomy"])
def get_lunar_mansion(date_str: str | None = Query(None, description="ุงูุชุงุฑูุฎ (YYYY-MM-DD)")):
    """ุงูุญุตูู ุนูู ุงูููุฒูุฉ ุงูููุฑูุฉ ุงูุญุงููุฉ"""
    if date_str:
        try:
            dt = datetime.strptime(date_str, "%Y-%m-%d")
        except ValueError:
            raise HTTPException(status_code=400, detail="ุตูุบุฉ ุงูุชุงุฑูุฎ ุบูุฑ ุตุญูุญุฉ")
    else:
        dt = datetime.utcnow()

    return calculate_lunar_mansion(dt)


@app.get("/v1/lunar-mansions", tags=["Reference"])
def list_lunar_mansions():
    """ูุงุฆูุฉ ุฌููุน ุงูููุงุฒู ุงูููุฑูุฉ ุงูู 28"""
    mansions = []
    for num, data in LUNAR_MANSIONS.items():
        mansions.append(
            {
                "number": num,
                "name": data["name"],
                "name_en": data["name_en"],
                "constellation": data["constellation"],
                "element": data["element"],
                "farming_score": data["farming_score"],
                "crops": data["crops"],
            }
        )
    return {"mansions": mansions, "total": 28}


@app.get("/v1/hijri", response_model=HijriDate, tags=["Calendar"])
def get_hijri_date(date_str: str | None = Query(None, description="ุงูุชุงุฑูุฎ ุงููููุงุฏู (YYYY-MM-DD)")):
    """ุชุญููู ุชุงุฑูุฎ ูููุงุฏู ุฅูู ูุฌุฑู"""
    if date_str:
        try:
            dt = datetime.strptime(date_str, "%Y-%m-%d")
        except ValueError:
            raise HTTPException(status_code=400, detail="ุตูุบุฉ ุงูุชุงุฑูุฎ ุบูุฑ ุตุญูุญุฉ")
    else:
        dt = datetime.utcnow()

    return gregorian_to_hijri(dt.year, dt.month, dt.day)


@app.get("/v1/hijri-months", tags=["Reference"])
def list_hijri_months():
    """ูุงุฆูุฉ ุงูุฃุดูุฑ ุงููุฌุฑูุฉ"""
    return {"months": HIJRI_MONTHS}


@app.get("/v1/zodiac", response_model=ZodiacInfo, tags=["Astronomy"])
def get_zodiac(date_str: str | None = Query(None, description="ุงูุชุงุฑูุฎ (YYYY-MM-DD)")):
    """ุงูุญุตูู ุนูู ุงูุจุฑุฌ ุงูุดูุณู"""
    if date_str:
        try:
            dt = datetime.strptime(date_str, "%Y-%m-%d")
        except ValueError:
            raise HTTPException(status_code=400, detail="ุตูุบุฉ ุงูุชุงุฑูุฎ ุบูุฑ ุตุญูุญุฉ")
    else:
        dt = datetime.utcnow()

    return get_zodiac_sign(dt)


@app.get("/v1/zodiac-farming", tags=["Reference"])
def list_zodiac_farming():
    """ูุงุฆูุฉ ุงูุฃุจุฑุงุฌ ูุน ูุนูููุงุช ุงูุฎุตูุจุฉ ุงูุฒุฑุงุนูุฉ"""
    return {"zodiac_signs": ZODIAC_FARMING}


@app.get("/v1/seasons", tags=["Reference"])
def list_seasons():
    """ูุงุฆูุฉ ุงูููุงุณู ุงูุฒุฑุงุนูุฉ ุงูููููุฉ"""
    return {"seasons": YEMENI_SEASONS}


@app.get("/v1/current-season", response_model=SeasonInfo, tags=["Calendar"])
def get_current_season_info():
    """ุงูุญุตูู ุนูู ุงูููุณู ุงูุฒุฑุงุนู ุงูุญุงูู"""
    return get_current_season(datetime.utcnow().month)


@app.get("/v1/crop-calendar/{crop_name}", response_model=CropCalendar, tags=["Crops"])
def get_crop_calendar(crop_name: str):
    """
    ุงูุญุตูู ุนูู ุงูุชูููู ุงููููู ููุญุตูู ูุนูู

    ุงููุญุงุตูู ุงููุฏุนููุฉ: ููุญุ ุดุนูุฑุ ุฐุฑุฉุ ุทูุงุทูุ ุจูุ ููุฒุ ุจุตูุ ุซูู
    """
    crop_calendars = {
        "ููุญ": {
            "crop_name": "ููุญ",
            "crop_name_en": "Wheat",
            "best_planting_mansions": [1, 3, 4, 13, 14, 22, 23],
            "best_moon_phases": ["waxing_crescent", "first_quarter", "waxing_gibbous"],
            "best_zodiac_signs": ["taurus", "cancer", "scorpio", "pisces"],
            "optimal_months": [10, 11, 12],
            "planting_guide": "ููุฒุฑุน ูู ููุงุฒู ุงูุซุฑูุง ูุงูุฏุจุฑุงู ูุงูุณูุงูุ ูู ุงูููุฑ ุงููุชุฒุงูุฏุ ุฎูุงู ุฃุดูุฑ ุงูุฎุฑูู",
        },
        "wheat": {
            "crop_name": "ููุญ",
            "crop_name_en": "Wheat",
            "best_planting_mansions": [1, 3, 4, 13, 14, 22, 23],
            "best_moon_phases": ["waxing_crescent", "first_quarter", "waxing_gibbous"],
            "best_zodiac_signs": ["taurus", "cancer", "scorpio", "pisces"],
            "optimal_months": [10, 11, 12],
            "planting_guide": "Plant during Thuraya, Dabaran, Simak mansions, in waxing moon, during autumn",
        },
        "ุทูุงุทู": {
            "crop_name": "ุทูุงุทู",
            "crop_name_en": "Tomato",
            "best_planting_mansions": [3, 7, 8, 14, 24],
            "best_moon_phases": ["waxing_crescent", "first_quarter"],
            "best_zodiac_signs": ["cancer", "scorpio", "pisces", "taurus"],
            "optimal_months": [2, 3, 9, 10],
            "planting_guide": "ุชูุฒุฑุน ูู ููุฒูุฉ ุงูุซุฑูุง ูุงูุฐุฑุงุนุ ูู ุงูููุฑ ุงููุชุฒุงูุฏุ ูู ุงูุฑุจูุน ุฃู ุงูุฎุฑูู",
        },
        "tomato": {
            "crop_name": "ุทูุงุทู",
            "crop_name_en": "Tomato",
            "best_planting_mansions": [3, 7, 8, 14, 24],
            "best_moon_phases": ["waxing_crescent", "first_quarter"],
            "best_zodiac_signs": ["cancer", "scorpio", "pisces", "taurus"],
            "optimal_months": [2, 3, 9, 10],
            "planting_guide": "Plant during Thuraya, Dhira mansions, in waxing moon, in spring or autumn",
        },
        "ุจู": {
            "crop_name": "ุจู",
            "crop_name_en": "Coffee",
            "best_planting_mansions": [3, 4, 14, 23, 24],
            "best_moon_phases": ["first_quarter", "waxing_gibbous"],
            "best_zodiac_signs": ["taurus", "cancer", "capricorn"],
            "optimal_months": [3, 4],
            "planting_guide": "ููุบุฑุณ ูู ููุงุฒู ุงูุซุฑูุง ูุณุนุฏ ุจูุนุ ูู ุงูุฑุจูุนุ ุงูููุฑ ุงููุชุฒุงูุฏ",
        },
        "coffee": {
            "crop_name": "ุจู",
            "crop_name_en": "Coffee",
            "best_planting_mansions": [3, 4, 14, 23, 24],
            "best_moon_phases": ["first_quarter", "waxing_gibbous"],
            "best_zodiac_signs": ["taurus", "cancer", "capricorn"],
            "optimal_months": [3, 4],
            "planting_guide": "Plant during Thuraya, Sa'd Bula mansions, in spring, waxing moon",
        },
        "ููุฒ": {
            "crop_name": "ููุฒ",
            "crop_name_en": "Banana",
            "best_planting_mansions": [7, 8, 17, 26, 27],
            "best_moon_phases": ["first_quarter", "full_moon"],
            "best_zodiac_signs": ["cancer", "scorpio", "pisces"],
            "optimal_months": [2, 3, 4],
            "planting_guide": "ููุบุฑุณ ูู ุงูููุงุฒู ุงููุงุฆูุฉุ ูู ุงูููุฑ ุงููุชุฒุงูุฏุ ูู ุงูุฑุจูุน",
        },
        "ุจุตู": {
            "crop_name": "ุจุตู",
            "crop_name_en": "Onion",
            "best_planting_mansions": [17, 22, 23],
            "best_moon_phases": ["waning_gibbous", "last_quarter"],
            "best_zodiac_signs": ["capricorn", "taurus", "virgo"],
            "optimal_months": [10, 11],
            "planting_guide": "ููุฒุฑุน ูู ุงูููุฑ ุงููุชูุงูุต ูุชูููุฉ ุงูุฌุฐูุฑุ ูู ุงูุฎุฑูู",
        },
        "ุซูู": {
            "crop_name": "ุซูู",
            "crop_name_en": "Garlic",
            "best_planting_mansions": [17, 22, 23],
            "best_moon_phases": ["waning_gibbous", "last_quarter"],
            "best_zodiac_signs": ["capricorn", "taurus", "scorpio"],
            "optimal_months": [10, 11],
            "planting_guide": "ููุฒุฑุน ูู ุงูููุฑ ุงููุชูุงูุตุ ูู ููุงุฒู ุงูุฅูููู ูุณุนุฏ ุงูุฐุงุจุญ",
        },
        "ุฐุฑุฉ": {
            "crop_name": "ุฐุฑุฉ",
            "crop_name_en": "Corn/Maize",
            "best_planting_mansions": [1, 3, 13, 14, 24],
            "best_moon_phases": ["waxing_crescent", "first_quarter"],
            "best_zodiac_signs": ["cancer", "scorpio", "pisces", "taurus"],
            "optimal_months": [6, 7],
            "planting_guide": "ุชูุฒุฑุน ูุน ุจุฏุงูุฉ ุงูุฃูุทุงุฑ ุงูููุณููุฉุ ูู ููุฒูุฉ ุงูุซุฑูุง ุฃู ุงูุณูุงู",
        },
    }

    crop_key = crop_name.lower()
    if crop_key not in crop_calendars:
        raise HTTPException(
            status_code=404,
            detail=f"ุงููุญุตูู '{crop_name}' ุบูุฑ ููุฌูุฏ. ุงููุญุงุตูู ุงููุฏุนููุฉ: ููุญุ ุทูุงุทูุ ุจูุ ููุฒุ ุจุตูุ ุซููุ ุฐุฑุฉ",
        )

    crop_data = crop_calendars[crop_key]

    # ุญุณุงุจ ููุงุกูุฉ ุงูููู ุงูุญุงูู
    today = get_daily_astronomical_data(datetime.utcnow())
    current_suitability = 5

    if today.lunar_mansion.number in crop_data["best_planting_mansions"]:
        current_suitability += 2
    if today.moon_phase.phase_key in crop_data["best_moon_phases"]:
        current_suitability += 2
    if datetime.utcnow().month in crop_data["optimal_months"]:
        current_suitability += 1

    current_suitability = min(10, current_suitability)

    return CropCalendar(
        crop_name=crop_data["crop_name"],
        crop_name_en=crop_data["crop_name_en"],
        best_planting_mansions=crop_data["best_planting_mansions"],
        best_moon_phases=crop_data["best_moon_phases"],
        best_zodiac_signs=crop_data["best_zodiac_signs"],
        optimal_months=crop_data["optimal_months"],
        planting_guide=crop_data["planting_guide"],
        current_suitability=current_suitability,
    )


@app.get("/v1/crops", tags=["Crops"])
def list_supported_crops():
    """ูุงุฆูุฉ ุงููุญุงุตูู ุงููุฏุนููุฉ"""
    return {
        "crops": [
            {"name": "ููุญ", "name_en": "Wheat"},
            {"name": "ุดุนูุฑ", "name_en": "Barley"},
            {"name": "ุฐุฑุฉ", "name_en": "Corn/Maize"},
            {"name": "ุทูุงุทู", "name_en": "Tomato"},
            {"name": "ุจู", "name_en": "Coffee"},
            {"name": "ููุฒ", "name_en": "Banana"},
            {"name": "ุจุตู", "name_en": "Onion"},
            {"name": "ุซูู", "name_en": "Garlic"},
        ]
    }


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ุงูููุงุทู ุงูุฒุฑุงุนูุฉ ุงูููููุฉ - Yemeni Agricultural Regions
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


@app.get("/v1/regions", tags=["Yemeni Heritage"])
def get_regions():
    """
    ุงูููุงุทู ุงูุฒุฑุงุนูุฉ ุงูููููุฉ

    ูุฑุฌุน ูุงุฆูุฉ ุจุฌููุน ุงูููุงุทู ุงูุฒุฑุงุนูุฉ ุงูุฑุฆูุณูุฉ ูู ุงูููู ูุน ูุนูููุงุช ุฃุณุงุณูุฉ ุนู ูู ููุทูุฉ:
    - ุณูู ุชูุงูุฉ
    - ุงููุฑุชูุนุงุช ุงููุณุทู
    - ุงููุถุจุฉ ุงูุดุฑููุฉ
    - ุงููุฑุชูุนุงุช ุงูุดูุงููุฉ
    - ุงูุณุงุญู ุงูุฌููุจู
    """
    regions_summary = []
    for region_id, region_data in YEMENI_AGRICULTURAL_REGIONS.items():
        regions_summary.append(
            {
                "id": region_id,
                "name": region_data["name"],
                "name_en": region_data["name_en"],
                "governorates": region_data["governorates"],
                "climate_type": region_data["climate"]["type"],
                "altitude": region_data["altitude"],
                "main_crops_count": len(region_data["main_crops"]),
                "famous_products": region_data["famous_products"][:3],  # Top 3
                "description": region_data["description"],
            }
        )

    return {
        "regions": regions_summary,
        "total": len(regions_summary),
        "note": "ุงุณุชุฎุฏู /v1/regions/{region_id} ููุญุตูู ุนูู ุชูุงุตูู ูุงููุฉ ูููุทูุฉ ูุนููุฉ",
    }


@app.get("/v1/regions/{region_id}", tags=["Yemeni Heritage"])
def get_region(region_id: str):
    """
    ุชูุงุตูู ููุทูุฉ ุฒุฑุงุนูุฉ

    ูุฑุฌุน ูุนูููุงุช ุชูุตูููุฉ ุนู ููุทูุฉ ุฒุฑุงุนูุฉ ูุญุฏุฏุฉ ุชุดูู:
    - ุงููุนูููุงุช ุงูุฌุบุฑุงููุฉ ูุงูููุงุฎูุฉ
    - ุงููุญุงุตูู ุงูุฑุฆูุณูุฉ
    - ููุงุณู ุงูุฒุฑุงุนุฉ
    - ุงูุชุญุฏูุงุช ุงูุฒุฑุงุนูุฉ
    - ุงูููุชุฌุงุช ุงูุดููุฑุฉ
    - ุฃูุธูุฉ ุงูุฑู ุงูุชูููุฏูุฉ

    ุงูููุงุทู ุงููุชุงุญุฉ: tihama, central_highlands, eastern_plateau, northern_highlands, southern_coast
    """
    if region_id not in YEMENI_AGRICULTURAL_REGIONS:
        available_regions = list(YEMENI_AGRICULTURAL_REGIONS.keys())
        raise HTTPException(
            status_code=404,
            detail=f"ุงูููุทูุฉ '{region_id}' ุบูุฑ ููุฌูุฏุฉ. ุงูููุงุทู ุงููุชุงุญุฉ: {', '.join(available_regions)}",
        )

    region_data = YEMENI_AGRICULTURAL_REGIONS[region_id]

    # ุญุณุงุจ ุฃูุถู ููุช ููุฒุฑุงุนุฉ ุญุงููุงู
    current_month = datetime.utcnow().month
    current_season = None
    recommended_crops = []

    # ุชุญุฏูุฏ ุงูููุณู ุงูุญุงูู
    month_names_ar = {
        1: "ููุงูุฑ",
        2: "ูุจุฑุงูุฑ",
        3: "ูุงุฑุณ",
        4: "ุฃุจุฑูู",
        5: "ูุงูู",
        6: "ููููู",
        7: "ููููู",
        8: "ุฃุบุณุทุณ",
        9: "ุณุจุชูุจุฑ",
        10: "ุฃูุชูุจุฑ",
        11: "ููููุจุฑ",
        12: "ุฏูุณูุจุฑ",
    }

    current_month_name = month_names_ar[current_month]

    # ุงูุจุญุซ ุนู ุงูููุณู ุงูุญุงูู
    for season_name, season_info in region_data["planting_seasons"].items():
        if current_month_name in season_info["months"]:
            current_season = season_name
            recommended_crops = season_info["crops"]
            break

    return {
        "id": region_id,
        "basic_info": {
            "name": region_data["name"],
            "name_en": region_data["name_en"],
            "governorates": region_data["governorates"],
            "description": region_data["description"],
            "description_en": region_data["description_en"],
        },
        "geography": {
            "altitude": region_data["altitude"],
            "altitude_en": region_data["altitude_en"],
            "soil_type": region_data["soil_type"],
            "soil_type_en": region_data["soil_type_en"],
        },
        "climate": region_data["climate"],
        "water": {
            "sources": region_data["water_sources"],
            "sources_en": region_data["water_sources_en"],
            "traditional_irrigation": region_data["traditional_irrigation"],
            "traditional_irrigation_en": region_data["traditional_irrigation_en"],
        },
        "agriculture": {
            "main_crops": region_data["main_crops"],
            "main_crops_en": region_data["main_crops_en"],
            "planting_seasons": region_data["planting_seasons"],
            "famous_products": region_data["famous_products"],
            "famous_products_en": region_data["famous_products_en"],
        },
        "challenges": {
            "list": region_data["challenges"],
            "list_en": region_data["challenges_en"],
        },
        "current_recommendations": {
            "month": current_month_name,
            "season": current_season if current_season else "ุบูุฑ ูุญุฏุฏ",
            "recommended_crops": recommended_crops
            if recommended_crops
            else ["ูุง ุชูุฌุฏ ุชูุตูุงุช ููุฐุง ุงูุดูุฑ"],
            "note": f"ุงูููุณู ุงูุญุงูู: {current_season}"
            if current_season
            else "ุฎุงุฑุฌ ุงูููุงุณู ุงูุฑุฆูุณูุฉ",
        },
    }


@app.get("/v1/regions/{region_id}/crops", tags=["Yemeni Heritage"])
def get_region_crops(region_id: str):
    """
    ูุญุงุตูู ููุทูุฉ ูุนููุฉ

    ูุฑุฌุน ูุงุฆูุฉ ููุตูุฉ ุจุงููุญุงุตูู ุงูุชู ุชูุฒุฑุน ูู ููุทูุฉ ูุนููุฉ ูุน ูุนูููุงุช ุนู:
    - ุงููุญุงุตูู ุงูุฑุฆูุณูุฉ
    - ููุงุณู ุงูุฒุฑุงุนุฉ ููู ูุญุตูู
    - ุงูููุชุฌุงุช ุงูุดููุฑุฉ ูู ุงูููุทูุฉ

    ุงูููุงุทู ุงููุชุงุญุฉ: tihama, central_highlands, eastern_plateau, northern_highlands, southern_coast
    """
    if region_id not in YEMENI_AGRICULTURAL_REGIONS:
        available_regions = list(YEMENI_AGRICULTURAL_REGIONS.keys())
        raise HTTPException(
            status_code=404,
            detail=f"ุงูููุทูุฉ '{region_id}' ุบูุฑ ููุฌูุฏุฉ. ุงูููุงุทู ุงููุชุงุญุฉ: {', '.join(available_regions)}",
        )

    region_data = YEMENI_AGRICULTURAL_REGIONS[region_id]

    # ุชูุธูู ุงููุญุงุตูู ุญุณุจ ุงูููุณู
    crops_by_season = {}
    for season_name, season_info in region_data["planting_seasons"].items():
        crops_by_season[season_name] = {
            "name": season_name,
            "months": season_info["months"],
            "months_en": season_info["months_en"],
            "crops": season_info["crops"],
        }

    # ุฅุญุตุงุฆูุงุช
    total_crops = len(region_data["main_crops"])
    total_famous_products = len(region_data["famous_products"])

    return {
        "region_id": region_id,
        "region_name": region_data["name"],
        "region_name_en": region_data["name_en"],
        "all_crops": {
            "arabic": region_data["main_crops"],
            "english": region_data["main_crops_en"],
            "total": total_crops,
        },
        "crops_by_season": crops_by_season,
        "famous_products": {
            "arabic": region_data["famous_products"],
            "english": region_data["famous_products_en"],
            "total": total_famous_products,
        },
        "climate_suitability": {
            "climate_type": region_data["climate"]["type"],
            "avg_temp_summer": region_data["climate"]["avg_temp_summer"],
            "avg_temp_winter": region_data["climate"]["avg_temp_winter"],
            "rainfall_mm": region_data["climate"]["rainfall_mm"],
            "note": f"ุงูููุทูุฉ ููุงุณุจุฉ ูู {total_crops} ููุน ูู ุงููุญุงุตูู",
        },
        "agricultural_heritage": {
            "traditional_irrigation": region_data["traditional_irrigation"],
            "soil_type": region_data["soil_type"],
            "water_sources": region_data["water_sources"],
        },
    }


@app.get("/v1/best-days", tags=["Calendar"])
def get_best_farming_days(
    activity: str = Query("ุฒุฑุงุนุฉ", description="ุงููุดุงุท: ุฒุฑุงุนุฉุ ุญุตุงุฏุ ุฑูุ ุชูููู"),
    days: int = Query(30, ge=7, le=90, description="ุนุฏุฏ ุงูุฃูุงู ููุจุญุซ"),
):
    """
    ุงูุจุญุซ ุนู ุฃูุถู ุงูุฃูุงู ููุดุงุท ุฒุฑุงุนู ูุนูู

    ุงูุฃูุดุทุฉ ุงููุฏุนููุฉ: ุฒุฑุงุนุฉุ ุญุตุงุฏุ ุฑูุ ุชููููุ ุบุฑุณุ ุชุทุนูู
    """
    start = datetime.utcnow()
    best_days = []

    for i in range(days):
        dt = start + timedelta(days=i)
        data = get_daily_astronomical_data(dt)

        # ุงูุจุญุซ ุนู ุงูุชูุตูุฉ ุงููุทููุจุฉ
        for rec in data.recommendations:
            if rec.activity == activity and rec.suitability_score >= 7:
                best_days.append(
                    {
                        "date": dt.strftime("%Y-%m-%d"),
                        "hijri_date": f"{data.date_hijri.day} {data.date_hijri.month_name}",
                        "moon_phase": data.moon_phase.name,
                        "lunar_mansion": data.lunar_mansion.name,
                        "score": rec.suitability_score,
                        "reason": rec.reason,
                    }
                )
                break

    return {
        "activity": activity,
        "search_period_days": days,
        "best_days": best_days,
        "total_found": len(best_days),
    }


@app.get("/v1/integration/weather", tags=["Integration"])
async def get_integrated_data(
    location_id: str = Query("sanaa", description="ูุนุฑู ุงููููุน"),
    date_str: str | None = Query(None, description="ุงูุชุงุฑูุฎ (YYYY-MM-DD)"),
):
    """
    ุฏูุฌ ุงูุจูุงูุงุช ุงูููููุฉ ูุน ุจูุงูุงุช ุงูุทูุณ

    ูุชุตู ุจุฎุฏูุฉ ุงูุทูุณ ููุญุตูู ุนูู ุจูุงูุงุช ูุชูุงููุฉ
    """
    if date_str:
        try:
            dt = datetime.strptime(date_str, "%Y-%m-%d")
        except ValueError:
            raise HTTPException(status_code=400, detail="ุตูุบุฉ ุงูุชุงุฑูุฎ ุบูุฑ ุตุญูุญุฉ")
    else:
        dt = datetime.utcnow()

    # ุงูุจูุงูุงุช ุงูููููุฉ
    astro_data = get_daily_astronomical_data(dt)

    # ูุญุงููุฉ ุฌูุจ ุจูุงูุงุช ุงูุทูุณ
    weather_data = None
    try:
        async with httpx.AsyncClient() as client:
            response = await client.get(
                f"{WEATHER_SERVICE_URL}/v1/current/{location_id}",
                timeout=5.0,
            )
            if response.status_code == 200:
                weather_data = response.json()
    except Exception:
        weather_data = {"note": "ุฎุฏูุฉ ุงูุทูุณ ุบูุฑ ูุชุงุญุฉ ุญุงููุงู"}

    # ุฏูุฌ ุงูุชูุตูุงุช
    integrated_recommendations = []
    for rec in astro_data.recommendations:
        integrated_rec = rec.dict()

        # ุชุนุฏูู ุงูุชูุตูุฉ ุจูุงุกู ุนูู ุงูุทูุณ ุฅุฐุง ุชููุฑุช ุงูุจูุงูุงุช
        if weather_data and "temperature" in weather_data:
            temp = weather_data.get("temperature", 25)
            if rec.activity == "ุฑู" and temp > 35:
                integrated_rec["weather_note"] = (
                    "โ๏ธ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ูุฑุชูุนุฉ - ูููุตุญ ุจุงูุฑู ูู ุงูุตุจุงุญ ุงูุจุงูุฑ ุฃู ุงููุณุงุก"
                )
            elif rec.activity == "ุฒุฑุงุนุฉ" and temp < 10:
                integrated_rec["weather_note"] = "โ๏ธ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ููุฎูุถุฉ - ูุฏ ุชุคุซุฑ ุนูู ุงูุฅูุจุงุช"

        integrated_recommendations.append(integrated_rec)

    return {
        "date": dt.strftime("%Y-%m-%d"),
        "location_id": location_id,
        "astronomical": {
            "hijri_date": astro_data.date_hijri.dict(),
            "moon_phase": astro_data.moon_phase.dict(),
            "lunar_mansion": astro_data.lunar_mansion.dict(),
            "zodiac": astro_data.zodiac.dict(),
            "season": astro_data.season.dict(),
            "overall_score": astro_data.overall_farming_score,
        },
        "weather": weather_data,
        "integrated_recommendations": integrated_recommendations,
        "summary_ar": f"ุงูููู ูู ููุฒูุฉ {astro_data.lunar_mansion.name}ุ ูุงูููุฑ {astro_data.moon_phase.name}. ุฏุฑุฌุฉ ููุงุกูุฉ ุงูุฒุฑุงุนุฉ: {astro_data.overall_farming_score}/10",
    }


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ููุงุท ููุงูุฉ ุงููุญุงุตูู ุงูุชูุตูููุฉ
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


@app.get("/v1/crop-details", tags=["Crops"])
def list_detailed_crops():
    """
    ูุงุฆูุฉ ุงููุญุงุตูู ูุน ุงูุชูุงุตูู ุงููุงููุฉ

    ูุฑุฌุน ูุนูููุงุช ููุฌุฒุฉ ุนู ุฌููุน ุงููุญุงุตูู ูู ุงูุชูููู ุงูุชูุตููู
    """
    crops_summary = []
    for crop_id, crop_data in DETAILED_CROP_CALENDAR.items():
        crops_summary.append(
            {
                "crop_id": crop_id,
                "name": crop_data["name"],
                "name_en": crop_data["name_en"],
                "regions": crop_data["regions"],
                "altitude_range": crop_data["altitude_range"],
                "lifecycle_years": crop_data["lifecycle_years"],
                "market_price_yer_kg": crop_data["market_price_yer_kg"],
            }
        )

    return {
        "total_crops": len(crops_summary),
        "crops": crops_summary,
    }


@app.get("/v1/crop-details/{crop_id}", tags=["Crops"])
def get_crop_details(crop_id: str):
    """
    ุชูุงุตูู ูุญุตูู ูุงููุฉ

    ูุฑุฌุน ุฌููุน ุงููุนูููุงุช ุนู ูุญุตูู ูุนูู ุจูุง ูู ุฐูู:
    - ุงูุฃุตูุงู ูุงูููุงุทู
    - ูุนูููุงุช ุงูุฒุฑุงุนุฉ ุงูุชูุตูููุฉ
    - ุงูุนูุงูุฉ ูุงูุฑู ูุงูุชุณููุฏ
    - ุงูุญุตุงุฏ ูุงููุนุงูุฌุฉ
    - ุงูุฃูุซุงู ุงูุดุนุจูุฉ
    """
    if crop_id not in DETAILED_CROP_CALENDAR:
        raise HTTPException(
            status_code=404, detail=f"ุงููุญุตูู '{crop_id}' ุบูุฑ ููุฌูุฏ ูู ุงูุชูููู ุงูุชูุตููู"
        )

    crop_data = DETAILED_CROP_CALENDAR[crop_id]

    # ุญุณุงุจ ููุงุกูุฉ ุงูููู ุงูุญุงูู ููุฒุฑุงุนุฉ
    today = get_daily_astronomical_data(datetime.utcnow())
    current_month = datetime.utcnow().month

    planting_suitability = {
        "score": 5,
        "suitable_now": False,
        "reason": [],
    }

    # Check if current month is in optimal planting months
    if current_month in crop_data["planting"]["gregorian_months"]:
        planting_suitability["score"] += 2
        planting_suitability["suitable_now"] = True
        planting_suitability["reason"].append("ุงูุดูุฑ ุงูุญุงูู ููุงุณุจ ููุฒุฑุงุนุฉ")

    # Check if current lunar mansion is optimal
    if today.lunar_mansion.number in crop_data["planting"]["lunar_mansions"]:
        planting_suitability["score"] += 2
        planting_suitability["suitable_now"] = True
        planting_suitability["reason"].append(
            f"ุงูููุฒูุฉ ุงูุญุงููุฉ ({today.lunar_mansion.name}) ููุงุณุจุฉ"
        )

    # Check moon phase
    required_phase = crop_data["planting"]["moon_phase"]
    if (required_phase == "ูุชุฒุงูุฏ" and today.moon_phase.is_waxing) or (
        required_phase == "ูุชูุงูุต" and not today.moon_phase.is_waxing
    ):
        planting_suitability["score"] += 1
        planting_suitability["reason"].append(f"ูุฑุญูุฉ ุงูููุฑ ููุงุณุจุฉ ({today.moon_phase.name})")

    planting_suitability["score"] = min(10, planting_suitability["score"])

    if not planting_suitability["reason"]:
        planting_suitability["reason"].append("ุงูููุช ุงูุญุงูู ุบูุฑ ูุซุงูู ููุฒุฑุงุนุฉ")

    return {
        **crop_data,
        "crop_id": crop_id,
        "current_planting_suitability": planting_suitability,
        "current_date": datetime.utcnow().strftime("%Y-%m-%d"),
        "current_lunar_mansion": today.lunar_mansion.name,
        "current_moon_phase": today.moon_phase.name,
    }


@app.get("/v1/crop-details/{crop_id}/planting-guide", tags=["Crops"])
def get_planting_guide(crop_id: str):
    """
    ุฏููู ุฒุฑุงุนุฉ ุงููุญุตูู ุงูููุตู

    ูุฑุฌุน ุฏููู ุฎุทูุฉ ุจุฎุทูุฉ ูุฒุฑุงุนุฉ ุงููุญุตูู ุงููุญุฏุฏ
    """
    if crop_id not in DETAILED_CROP_CALENDAR:
        raise HTTPException(
            status_code=404, detail=f"ุงููุญุตูู '{crop_id}' ุบูุฑ ููุฌูุฏ ูู ุงูุชูููู ุงูุชูุตููู"
        )

    crop_data = DETAILED_CROP_CALENDAR[crop_id]

    # Build comprehensive planting guide
    guide = {
        "crop_id": crop_id,
        "crop_name": crop_data["name"],
        "crop_name_en": crop_data["name_en"],
        "overview": {
            "best_regions": crop_data["regions"],
            "altitude_range": crop_data["altitude_range"],
            "lifecycle_years": crop_data["lifecycle_years"],
            "first_harvest_year": crop_data["first_harvest_year"],
            "peak_production_years": crop_data["peak_production_year"],
        },
        "timing": {
            "best_hijri_months": crop_data["planting"]["hijri_months"],
            "best_gregorian_months": crop_data["planting"]["gregorian_months"],
            "best_lunar_mansions": [
                LUNAR_MANSIONS[m]["name"] for m in crop_data["planting"]["lunar_mansions"]
            ],
            "required_moon_phase": crop_data["planting"]["moon_phase"],
        },
        "planting": {
            "method": crop_data["planting"]["method"],
            "spacing_meters": crop_data["planting"]["spacing_m"],
            "shade_requirement": crop_data["planting"]["shade_requirement"],
        },
        "care_schedule": {
            "irrigation": crop_data["care"]["irrigation"],
            "fertilization": crop_data["care"]["fertilization"],
            "pruning": crop_data["care"]["pruning"],
        },
        "pest_disease_management": {
            "common_pests": crop_data["care"]["pests"],
            "common_diseases": crop_data["care"]["diseases"],
        },
        "harvest": {
            "best_hijri_months": crop_data["harvest"]["hijri_months"],
            "best_gregorian_months": crop_data["harvest"]["gregorian_months"],
            "signs_of_ripeness": crop_data["harvest"]["signs_of_ripeness"],
            "method": crop_data["harvest"]["method"],
            "expected_yield": crop_data["harvest"]["yield_kg_per_tree"],
        },
        "post_harvest": {
            "drying_method": crop_data["processing"]["drying_method"],
            "drying_days": crop_data["processing"]["drying_days"],
            "target_moisture": crop_data["processing"]["moisture_target_percent"],
            "storage": crop_data["processing"]["storage"],
        },
        "traditional_wisdom": {
            "proverbs": crop_data["proverbs"],
        },
        "economics": {
            "market_price_yer_per_kg": crop_data["market_price_yer_kg"],
        },
    }

    return guide


@app.get("/v1/what-to-plant", tags=["Crops"])
def what_to_plant_now(
    region: str = Query(None, description="ุงูููุทูุฉ (ุงุฎุชูุงุฑู): ุญุฑุงุฒุ ุตูุนุงุกุ ุชูุงูุฉุ ุฅูุฎ"),
    altitude_min: int = Query(None, description="ุงูุงุฑุชูุงุน ุงูุฃุฏูู ุจุงููุชุฑ"),
    altitude_max: int = Query(None, description="ุงูุงุฑุชูุงุน ุงูุฃุนูู ุจุงููุชุฑ"),
):
    """
    ูุงุฐุง ุฃุฒุฑุน ุงูุขูุ

    ููุตู ุจุงููุญุงุตูู ุงูููุงุณุจุฉ ููุฒุฑุงุนุฉ ูู ุงูููุช ุงูุญุงูู ุจูุงุกู ุนูู:
    - ุงูุชุงุฑูุฎ ุงูุญุงูู (ุงูุดูุฑ ุงููููุงุฏู ูุงููุฌุฑู)
    - ุงูููุฒูุฉ ุงูููุฑูุฉ
    - ูุฑุญูุฉ ุงูููุฑ
    - ุงูููุทูุฉ (ุงุฎุชูุงุฑู)
    - ุงูุงุฑุชูุงุน (ุงุฎุชูุงุฑู)
    """
    today = get_daily_astronomical_data(datetime.utcnow())
    current_month = datetime.utcnow().month
    current_hijri_month = today.date_hijri.month_name

    recommendations = []

    for crop_id, crop_data in DETAILED_CROP_CALENDAR.items():
        score = 0
        reasons = []

        # Check if current month is suitable
        if current_month in crop_data["planting"]["gregorian_months"]:
            score += 3
            reasons.append(f"ุงูุดูุฑ ุงูุญุงูู ({current_month}) ููุงุณุจ ููุฒุฑุงุนุฉ")

        # Check if current lunar mansion is suitable
        if today.lunar_mansion.number in crop_data["planting"]["lunar_mansions"]:
            score += 3
            reasons.append(f"ุงูููุฒูุฉ ุงูููุฑูุฉ ({today.lunar_mansion.name}) ููุงุณุจุฉ")

        # Check moon phase
        required_phase = crop_data["planting"]["moon_phase"]
        if (required_phase == "ูุชุฒุงูุฏ" and today.moon_phase.is_waxing) or (
            required_phase == "ูุชูุงูุต" and not today.moon_phase.is_waxing
        ):
            score += 2
            reasons.append(f"ูุฑุญูุฉ ุงูููุฑ ({today.moon_phase.name}) ููุงุณุจุฉ")

        # Filter by region if specified
        if region:
            if region in crop_data["regions"] or any(
                region.lower() in r.lower() for r in crop_data["regions"]
            ):
                score += 2
                reasons.append(f"ููุงุณุจ ูููุทูุฉ {region}")
            else:
                # Significantly reduce score if region doesn't match
                score -= 5

        # Filter by altitude if specified
        if altitude_min is not None or altitude_max is not None:
            # Parse altitude range from crop data (format: "1400-2400ู")
            alt_range = crop_data["altitude_range"].replace("ู", "").split("-")
            try:
                crop_alt_min = int(alt_range[0])
                crop_alt_max = int(alt_range[1])

                user_alt_min = altitude_min if altitude_min is not None else 0
                user_alt_max = altitude_max if altitude_max is not None else 10000

                # Check if there's overlap
                if crop_alt_min <= user_alt_max and crop_alt_max >= user_alt_min:
                    score += 2
                    reasons.append("ููุงุณุจ ููุงุฑุชูุงุน ุงููุทููุจ")
                else:
                    score -= 5
            except:
                pass

        # Only include if score is positive
        if score > 0:
            recommendations.append(
                {
                    "crop_id": crop_id,
                    "name": crop_data["name"],
                    "name_en": crop_data["name_en"],
                    "suitability_score": min(10, score),
                    "reasons": reasons,
                    "planting_method": crop_data["planting"]["method"],
                    "spacing_m": crop_data["planting"]["spacing_m"],
                    "regions": crop_data["regions"],
                    "altitude_range": crop_data["altitude_range"],
                    "first_harvest_in_years": crop_data["first_harvest_year"],
                    "expected_yield": crop_data["harvest"]["yield_kg_per_tree"],
                    "market_price_yer_kg": crop_data["market_price_yer_kg"],
                }
            )

    # Sort by suitability score
    recommendations.sort(key=lambda x: x["suitability_score"], reverse=True)

    return {
        "query_date": datetime.utcnow().strftime("%Y-%m-%d"),
        "hijri_date": f"{today.date_hijri.day} {current_hijri_month} {today.date_hijri.year}ูู",
        "lunar_mansion": today.lunar_mansion.name,
        "moon_phase": today.moon_phase.name,
        "moon_is_waxing": today.moon_phase.is_waxing,
        "filters": {
            "region": region,
            "altitude_min": altitude_min,
            "altitude_max": altitude_max,
        },
        "recommendations": recommendations,
        "total_recommendations": len(recommendations),
        "advice": (
            f"ุงูููู ูุญู ูู ููุฒูุฉ {today.lunar_mansion.name} ูุงูููุฑ {today.moon_phase.name}. "
            f"{'ุงูููุฑ ูุชุฒุงูุฏ - ููุงุณุจ ูุฒุฑุงุนุฉ ุงููุญุงุตูู ุงููุฑููุฉ ูุงูุซูุฑูุฉ' if today.moon_phase.is_waxing else 'ุงูููุฑ ูุชูุงูุต - ููุงุณุจ ูุฒุฑุงุนุฉ ุงูุฌุฐูุฑ ูุงูุฏุฑูุงุช'}"
        ),
    }


# ุงูุฃูุซุงู ุงูุฒุฑุงุนูุฉ ูุงููุฌูู
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


@app.get("/v1/proverbs", tags=["Yemeni Wisdom"])
def get_all_proverbs():
    """
    ุงูุญุตูู ุนูู ุฌููุน ุงูุฃูุซุงู ุงูุฒุฑุงุนูุฉ ุงูููููุฉ

    ุชุดูู:
    - ุงูุฃูุซุงู ุงูุนุงูุฉ
    - ุฃูุซุงู ุญุณุจ ุงููุญุตูู
    - ุฃูุซุงู ุญุณุจ ุงูููุณู
    """
    return {
        "general": YEMENI_FARMING_PROVERBS["general"],
        "by_crop": YEMENI_FARMING_PROVERBS["by_crop"],
        "by_season": YEMENI_FARMING_PROVERBS["by_season"],
        "total_proverbs": len(YEMENI_FARMING_PROVERBS["general"])
        + sum(len(v) for v in YEMENI_FARMING_PROVERBS["by_crop"].values())
        + sum(len(v) for v in YEMENI_FARMING_PROVERBS["by_season"].values()),
    }


@app.get("/v1/proverbs/today", tags=["Yemeni Wisdom"])
def get_proverb_of_the_day():
    """
    ุงูุญุตูู ุนูู ูุซู ุงูููู ูุน ุชูุณูุฑู

    ูุฎุชุงุฑ ูุซูุงู ููุงุณุจุงู ุจูุงุกู ุนูู:
    - ุงูููุฒูุฉ ุงูููุฑูุฉ ุงูุญุงููุฉ
    - ุงูููุณู ุงูุญุงูู
    - ูุฑุญูุฉ ุงูููุฑ
    """
    now = datetime.utcnow()
    lunar_mansion = calculate_lunar_mansion(now)
    moon_phase = calculate_moon_phase(now)
    season = get_current_season(now.month)

    # ุงูุจุญุซ ุนู ูุซู ููุงุณุจ ููููุฒูุฉ ุงูุญุงููุฉ
    matching_proverb = None
    for proverb in YEMENI_FARMING_PROVERBS["general"]:
        if proverb.get("mansion") == lunar_mansion.name:
            matching_proverb = proverb
            break

    # ุฅุฐุง ูู ูุฌุฏุ ูุฎุชุงุฑ ูุงุญุฏุงู ุนุงูุงู ุจูุงุกู ุนูู ุงูููู
    if not matching_proverb:
        day_of_year = now.timetuple().tm_yday
        proverb_index = day_of_year % len(YEMENI_FARMING_PROVERBS["general"])
        matching_proverb = YEMENI_FARMING_PROVERBS["general"][proverb_index]

    # ุฅุถุงูุฉ ุฃูุซุงู ุงูููุณู
    season_proverbs = YEMENI_FARMING_PROVERBS["by_season"].get(season.name, [])

    return {
        "date": now.strftime("%Y-%m-%d"),
        "proverb_of_the_day": matching_proverb,
        "current_mansion": lunar_mansion.name,
        "current_moon_phase": moon_phase.name,
        "current_season": season.name,
        "season_proverbs": season_proverbs,
        "context": f"ุงูููู ูุญู ูู ููุฒูุฉ {lunar_mansion.name} ูุงูููุฑ {moon_phase.name}",
    }


@app.get("/v1/proverbs/crop/{crop_name}", tags=["Yemeni Wisdom"])
def get_crop_proverbs(crop_name: str):
    """
    ุงูุญุตูู ุนูู ุงูุฃูุซุงู ุงูุฎุงุตุฉ ุจูุญุตูู ูุนูู

    ุงููุญุงุตูู ุงููุฏุนููุฉ: ููุญุ ุจูุ ุฐุฑุฉุ ุจุตู
    """
    proverbs = YEMENI_FARMING_PROVERBS["by_crop"].get(crop_name, [])

    if not proverbs:
        available_crops = list(YEMENI_FARMING_PROVERBS["by_crop"].keys())
        return {
            "crop": crop_name,
            "proverbs": [],
            "note": f"ูุง ุชูุฌุฏ ุฃูุซุงู ูุณุฌูุฉ ููุฐุง ุงููุญุตูู. ุงููุญุงุตูู ุงููุชุงุญุฉ: {', '.join(available_crops)}",
        }

    return {"crop": crop_name, "proverbs": proverbs, "count": len(proverbs)}


@app.get("/v1/proverbs/mansion/{mansion_name}", tags=["Yemeni Wisdom"])
def get_mansion_proverbs(mansion_name: str):
    """
    ุงูุญุตูู ุนูู ุงูุฃูุซุงู ุงููุฑุชุจุทุฉ ุจููุฒูุฉ ููุฑูุฉ ูุนููุฉ
    """
    matching_proverbs = [
        p for p in YEMENI_FARMING_PROVERBS["general"] if p.get("mansion") == mansion_name
    ]

    # ุงูุจุญุซ ูู ุงูููุงุฒู ููุญุตูู ุนูู ูุนูููุงุช ุฅุถุงููุฉ
    mansion_info = None
    for num, data in LUNAR_MANSIONS.items():
        if data["name"] == mansion_name:
            mansion_info = {
                "number": num,
                "name": data["name"],
                "farming_score": data["farming_score"],
                "description": data["description"],
            }
            break

    return {
        "mansion": mansion_name,
        "mansion_info": mansion_info,
        "proverbs": matching_proverbs,
        "count": len(matching_proverbs),
    }


@app.get("/v1/stars", tags=["Yemeni Wisdom"])
def get_important_stars():
    """
    ุงูุญุตูู ุนูู ุงููุฌูู ุงููููุฉ ูู ุงูุชูููู ุงูุฒุฑุงุนู ุงููููู

    ุชุดูู:
    - ุณููู (Canopus)
    - ุงูุซุฑูุง (Pleiades)
    - ุงูุณูุงู (Spica)
    """
    return {
        "stars": IMPORTANT_STARS,
        "total": len(IMPORTANT_STARS),
        "note": "ูุฐู ุงููุฌูู ูุณุชุฎุฏููุง ุงููุฒุงุฑุนูู ุงููููููู ููุฐ ุขูุงู ุงูุณููู ูุชุญุฏูุฏ ููุงุนูุฏ ุงูุฒุฑุงุนุฉ",
    }


@app.get("/v1/stars/{star_name}", tags=["Yemeni Wisdom"])
def get_star_info(star_name: str):
    """
    ุงูุญุตูู ุนูู ูุนูููุงุช ูุฌู ูุนูู
    """
    star = IMPORTANT_STARS.get(star_name)

    if not star:
        available_stars = list(IMPORTANT_STARS.keys())
        raise HTTPException(
            status_code=404,
            detail=f"ุงููุฌู '{star_name}' ุบูุฑ ููุฌูุฏ. ุงููุฌูู ุงููุชุงุญุฉ: {', '.join(available_stars)}",
        )

    # ูู ุงููุฌู ุทุงูุน ุญุงููุงูุ
    current_month = datetime.utcnow().month
    is_rising = current_month == star["rising_month"]

    return {
        "star": star,
        "is_currently_rising": is_rising,
        "rising_month_name": HIJRI_MONTHS.get(star["rising_month"], {}).get("name", ""),
        "advice": (
            star["farming_impact"]
            if is_rising
            else f"ุณูุทูุน ูุฐุง ุงููุฌู ูู ุดูุฑ {star['rising_month']}"
        ),
    }


@app.get("/v1/landmarks", tags=["Yemeni Heritage"])
def get_landmarks():
    """
    ูุงุฆูุฉ ุงููุนุงูู ุงูุฒุฑุงุนูุฉ ุงูููููุฉ ุงูุชุงุฑูุฎูุฉ

    ุชุดูู:
    - ุงููุฏุฑุฌุงุช ุงูุฌุจููุฉ
    - ุงูุณุฏูุฏ ุงูุชุงุฑูุฎูุฉ
    - ุฃูุธูุฉ ุงูุฑู ุงูุชูููุฏูุฉ
    - ูุฎุงุฒู ุงูุญุจูุจ ูุงููุญุงุตูู

    ูุฐู ุงููุนุงูู ุชูุซู ุงูุชุฑุงุซ ุงูุฒุฑุงุนู ุงููููู ุงูุนุฑูู
    """
    # ุญุณุงุจ ุฅุญุตุงุฆูุงุช
    stats = {
        "total_terraces": len(YEMENI_AGRICULTURAL_LANDMARKS["terraces"]),
        "total_dams": len(YEMENI_AGRICULTURAL_LANDMARKS["dams"]),
        "total_water_systems": len(YEMENI_AGRICULTURAL_LANDMARKS["water_systems"]),
        "total_storage_systems": len(YEMENI_AGRICULTURAL_LANDMARKS["storage"]),
        "total_landmarks": (
            len(YEMENI_AGRICULTURAL_LANDMARKS["terraces"])
            + len(YEMENI_AGRICULTURAL_LANDMARKS["dams"])
            + len(YEMENI_AGRICULTURAL_LANDMARKS["water_systems"])
            + len(YEMENI_AGRICULTURAL_LANDMARKS["storage"])
        ),
    }

    return {
        "landmarks": YEMENI_AGRICULTURAL_LANDMARKS,
        "statistics": stats,
        "categories": ["terraces", "dams", "water_systems", "storage"],
        "description": "ุงูุชุฑุงุซ ุงูุฒุฑุงุนู ุงููููู - ุชูููุงุช ุนูุฑูุง ุขูุงู ุงูุณููู ูุง ุฒุงูุช ูุณุชุฎุฏูุฉ ุญุชู ุงูููู",
    }


@app.get("/v1/landmarks/{category}", tags=["Yemeni Heritage"])
def get_landmarks_by_category(category: str):
    """
    ุงููุนุงูู ุญุณุจ ุงููุฆุฉ

    ุงููุฆุงุช ุงููุชุงุญุฉ:
    - terraces: ุงููุฏุฑุฌุงุช ุงูุฌุจููุฉ
    - dams: ุงูุณุฏูุฏ ุงูุชุงุฑูุฎูุฉ
    - water_systems: ุฃูุธูุฉ ุงูุฑู ุงูุชูููุฏูุฉ
    - storage: ุฃูุธูุฉ ุงูุชุฎุฒูู
    """
    valid_categories = ["terraces", "dams", "water_systems", "storage"]

    if category not in valid_categories:
        raise HTTPException(
            status_code=404,
            detail=f"ุงููุฆุฉ '{category}' ุบูุฑ ููุฌูุฏุฉ. ุงููุฆุงุช ุงููุชุงุญุฉ: {', '.join(valid_categories)}",
        )

    category_data = YEMENI_AGRICULTURAL_LANDMARKS[category]

    # ุฃุณูุงุก ุงููุฆุงุช ุจุงูุนุฑุจูุฉ
    category_names = {
        "terraces": "ุงููุฏุฑุฌุงุช ุงูุฌุจููุฉ",
        "dams": "ุงูุณุฏูุฏ ุงูุชุงุฑูุฎูุฉ",
        "water_systems": "ุฃูุธูุฉ ุงูุฑู ุงูุชูููุฏูุฉ",
        "storage": "ุฃูุธูุฉ ุงูุชุฎุฒูู",
    }

    category_descriptions = {
        "terraces": "ุงููุฏุฑุฌุงุช ุงูุฌุจููุฉ ุงูููููุฉ ุชูุซู ุฅุญุฏู ุฃุนุธู ุงูุฅูุฌุงุฒุงุช ุงูููุฏุณูุฉ ุงูุฒุฑุงุนูุฉ ูู ุงูุชุงุฑูุฎ",
        "dams": "ุงูุณุฏูุฏ ุงูููููุฉ ุงููุฏููุฉ ุดุงูุฏุฉ ุนูู ุนุธูุฉ ุงูุญุถุงุฑุงุช ุงูููููุฉ ุงููุฏููุฉ",
        "water_systems": "ุฃูุธูุฉ ุงูุฑู ุงูุชูููุฏูุฉ ุชุนูุณ ุงูุญููุฉ ุงูููููุฉ ูู ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงููุงุฆูุฉ",
        "storage": "ุฃูุธูุฉ ุงูุชุฎุฒูู ุงูุชูููุฏูุฉ ุชุญุงูุธ ุนูู ุงููุญุงุตูู ุจุทุฑู ุทุจูุนูุฉ ููุนุงูุฉ",
    }

    return {
        "category": category,
        "category_name_ar": category_names[category],
        "description": category_descriptions[category],
        "landmarks": category_data,
        "count": len(category_data),
        "items": list(category_data.keys()),
    }


@app.get("/v1/landmarks/{category}/{landmark_name}", tags=["Yemeni Heritage"])
def get_specific_landmark(category: str, landmark_name: str):
    """
    ุงูุญุตูู ุนูู ูุนูููุงุช ูุนูู ูุญุฏุฏ

    ูุซุงู: /v1/landmarks/dams/ุณุฏ ูุฃุฑุจ
    """
    valid_categories = ["terraces", "dams", "water_systems", "storage"]

    if category not in valid_categories:
        raise HTTPException(status_code=404, detail=f"ุงููุฆุฉ '{category}' ุบูุฑ ููุฌูุฏุฉ")

    category_data = YEMENI_AGRICULTURAL_LANDMARKS[category]

    if landmark_name not in category_data:
        available_landmarks = list(category_data.keys())
        raise HTTPException(
            status_code=404,
            detail=f"ุงููุนูู '{landmark_name}' ุบูุฑ ููุฌูุฏ ูู ูุฐู ุงููุฆุฉ. ุงููุนุงูู ุงููุชุงุญุฉ: {', '.join(available_landmarks)}",
        )

    landmark = category_data[landmark_name]

    # ุฅุถุงูุฉ ูุนูููุงุช ุฅุถุงููุฉ
    return {
        "category": category,
        "landmark": landmark,
        "related_categories": valid_categories,
        "preservation_note": "ูุฐู ุงููุนุงูู ุชุญุชุงุฌ ููุญูุงูุฉ ูุงูุตูุงูุฉ ููุญูุงุธ ุนูู ุงูุชุฑุงุซ ุงูุฒุฑุงุนู ุงููููู",
    }


@app.get("/v1/wisdom/today", tags=["Yemeni Wisdom"])
def get_daily_wisdom():
    """
    ุงูุญููุฉ ุงูุฒุฑุงุนูุฉ ุงูููููุฉ ุงูุดุงููุฉ

    ุชุฌูุน ุจูู:
    - ูุซู ุงูููู
    - ูุตูุญุฉ ุงูููุฒูุฉ
    - ุชููุนุงุช ุงููุฌูู
    - ุชูุตูุงุช ุงูููุณู
    """
    now = datetime.utcnow()
    astro_data = get_daily_astronomical_data(now)

    # ูุซู ุงูููู
    day_of_year = now.timetuple().tm_yday
    proverb_index = day_of_year % len(YEMENI_FARMING_PROVERBS["general"])
    proverb = YEMENI_FARMING_PROVERBS["general"][proverb_index]

    # ูุฌู ุงูุดูุฑ
    current_star = None
    for _star_name, star_data in IMPORTANT_STARS.items():
        if star_data["rising_month"] == now.month:
            current_star = star_data
            break

    # ูุตุงุฆุญ ุงูููุฒูุฉ
    mansion_tips = []
    if astro_data.lunar_mansion.farming_score >= 7:
        mansion_tips.append(
            f"๐ ุงูููู ููุงุณุจ ููุฒุฑุงุนุฉ - ุฏุฑุฌุฉ ุงูููุงุกูุฉ: {astro_data.lunar_mansion.farming_score}/10"
        )
        mansion_tips.append(f"ุงููุญุงุตูู ุงูููุชุฑุญุฉ: {', '.join(astro_data.lunar_mansion.crops[:3])}")
    else:
        mansion_tips.append(
            f"โ๏ธ ุงูููู ุบูุฑ ูุซุงูู ููุฒุฑุงุนุฉ - ุฏุฑุฌุฉ ุงูููุงุกูุฉ: {astro_data.lunar_mansion.farming_score}/10"
        )
        if astro_data.lunar_mansion.avoid:
            mansion_tips.append(f"ุชุฌูุจ: {', '.join(astro_data.lunar_mansion.avoid)}")

    # ูุตุงุฆุญ ุงูููุฑ
    moon_tips = []
    if astro_data.moon_phase.is_waxing:
        moon_tips.append("๐ ุงูููุฑ ูุชุฒุงูุฏ - ููุงุณุจ ูุฒุฑุงุนุฉ ุงููุญุงุตูู ุงููุฑููุฉ ูุงูุซูุฑูุฉ")
    else:
        moon_tips.append("๐ ุงูููุฑ ูุชูุงูุต - ููุงุณุจ ูุฒุฑุงุนุฉ ุงูุฌุฐูุฑ ูุงูุชูููู")

    return {
        "date": now.strftime("%Y-%m-%d"),
        "hijri_date": astro_data.date_hijri.formatted,
        "proverb_of_the_day": {
            "text": proverb["proverb"],
            "meaning": proverb["meaning"],
            "application": proverb["application"],
        },
        "current_mansion": {
            "name": astro_data.lunar_mansion.name,
            "description": astro_data.lunar_mansion.description,
            "tips": mansion_tips,
        },
        "moon_phase": {
            "name": astro_data.moon_phase.name,
            "icon": astro_data.moon_phase.icon,
            "illumination": f"{astro_data.moon_phase.illumination:.0f}%",
            "tips": moon_tips,
        },
        "current_star": current_star,
        "season": {
            "name": astro_data.season.name,
            "crops": astro_data.season.main_crops,
            "activities": astro_data.season.activities,
        },
        "overall_score": astro_data.overall_farming_score,
        "summary": f"""
๐ ุงูููู {astro_data.date_hijri.weekday} {astro_data.date_hijri.formatted}
{astro_data.moon_phase.icon} ุงูููุฑ: {astro_data.moon_phase.name} ({astro_data.moon_phase.illumination:.0f}%)
โญ ุงูููุฒูุฉ: {astro_data.lunar_mansion.name} ({astro_data.lunar_mansion.farming})
{astro_data.zodiac.zodiac_icon} ุงูุจุฑุฌ: {astro_data.zodiac.name}
๐พ ุฏุฑุฌุฉ ุงูุฒุฑุงุนุฉ: {astro_data.overall_farming_score}/10

๐ ูุซู ุงูููู:
"{proverb["proverb"]}"
- {proverb["meaning"]}
        """.strip(),
    }


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ุงูุชูููุงุช ุงูุฒุฑุงุนูุฉ ุงูุชูููุฏูุฉ (API Endpoints)
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


@app.get("/v1/techniques", tags=["Yemeni Heritage"])
def get_all_techniques():
    """
    ุงูุญุตูู ุนูู ุฌููุน ุงูุชูููุงุช ุงูุฒุฑุงุนูุฉ ุงูููููุฉ ุงูุชูููุฏูุฉ

    ูุฑุฌุน:
    - ุฌููุน ุงููุฆุงุช ูุงูุชูููุงุช
    - ุนุฏุฏ ุงูุชูููุงุช ูู ูู ูุฆุฉ
    - ูุงุฆูุฉ ุงููุฆุงุช ุงููุชุงุญุฉ
    """
    categories_summary = {}
    total_techniques = 0

    for category_key, category_data in TRADITIONAL_TECHNIQUES.items():
        technique_count = len(category_data)
        total_techniques += technique_count
        categories_summary[category_key] = {
            "count": technique_count,
            "techniques": list(category_data.keys()),
        }

    return {
        "categories": categories_summary,
        "total_categories": len(TRADITIONAL_TECHNIQUES),
        "total_techniques": total_techniques,
        "available_categories": list(TRADITIONAL_TECHNIQUES.keys()),
        "description": "ููุชุจุฉ ุดุงููุฉ ููุชูููุงุช ุงูุฒุฑุงุนูุฉ ุงูููููุฉ ุงูุชูููุฏูุฉ - ูู ุงูุญุฑุงุซุฉ ุฅูู ุงูุญุตุงุฏ",
    }


@app.get("/v1/techniques/{category}", tags=["Yemeni Heritage"])
def get_techniques_by_category(category: str):
    """
    ุงูุญุตูู ุนูู ุฌููุน ุงูุชูููุงุช ูู ูุฆุฉ ูุนููุฉ

    ุงููุฆุงุช ุงููุชุงุญุฉ:
    - plowing: ุชูููุงุช ุงูุญุฑุงุซุฉ
    - irrigation: ุชูููุงุช ุงูุฑู
    - fertilization: ุชูููุงุช ุงูุชุณููุฏ
    - harvesting: ุชูููุงุช ุงูุญุตุงุฏ
    - processing: ุชูููุงุช ุงููุนุงูุฌุฉ ูุงูุชุฎุฒูู
    - pest_control: ุชูููุงุช ููุงูุญุฉ ุงูุขูุงุช
    """
    if category not in TRADITIONAL_TECHNIQUES:
        available_categories = list(TRADITIONAL_TECHNIQUES.keys())
        raise HTTPException(
            status_code=404,
            detail=f"ุงููุฆุฉ '{category}' ุบูุฑ ููุฌูุฏุฉ. ุงููุฆุงุช ุงููุชุงุญุฉ: {', '.join(available_categories)}",
        )

    category_data = TRADITIONAL_TECHNIQUES[category]

    # ุชุตููู ุงููุฆุฉ ุจุงูุนุฑุจูุฉ
    category_names = {
        "plowing": "ุงูุญุฑุงุซุฉ",
        "irrigation": "ุงูุฑู",
        "fertilization": "ุงูุชุณููุฏ",
        "harvesting": "ุงูุญุตุงุฏ",
        "processing": "ุงููุนุงูุฌุฉ ูุงูุชุฎุฒูู",
        "pest_control": "ููุงูุญุฉ ุงูุขูุงุช",
    }

    return {
        "category": category,
        "category_name_ar": category_names.get(category, category),
        "techniques": category_data,
        "count": len(category_data),
        "technique_ids": list(category_data.keys()),
    }


@app.get("/v1/techniques/{category}/{technique_id}", tags=["Yemeni Heritage"])
def get_technique_details(category: str, technique_id: str):
    """
    ุงูุญุตูู ุนูู ุชูุงุตูู ุชูููุฉ ุฒุฑุงุนูุฉ ูุญุฏุฏุฉ

    ูุฑุฌุน ูุนูููุงุช ุดุงููุฉ ุนู ุงูุชูููุฉ:
    - ุงููุตู ูุงูุงุณู ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
    - ุงูุฃุฏูุงุช ุงููุณุชุฎุฏูุฉ
    - ุฃูุถู ุงูุฃููุงุช ููุชุทุจูู
    - ูุตุงุฆุญ ุนูููุฉ
    - ุงูุฃููุงู ุงูุดุนุจูุฉ ุงููุฑุชุจุทุฉ
    """
    if category not in TRADITIONAL_TECHNIQUES:
        available_categories = list(TRADITIONAL_TECHNIQUES.keys())
        raise HTTPException(
            status_code=404,
            detail=f"ุงููุฆุฉ '{category}' ุบูุฑ ููุฌูุฏุฉ. ุงููุฆุงุช ุงููุชุงุญุฉ: {', '.join(available_categories)}",
        )

    category_data = TRADITIONAL_TECHNIQUES[category]

    if technique_id not in category_data:
        available_techniques = list(category_data.keys())
        raise HTTPException(
            status_code=404,
            detail=f"ุงูุชูููุฉ '{technique_id}' ุบูุฑ ููุฌูุฏุฉ ูู ูุฆุฉ '{category}'. ุงูุชูููุงุช ุงููุชุงุญุฉ: {', '.join(available_techniques)}",
        )

    technique = category_data[technique_id]

    # ุฅุถุงูุฉ ูุนูููุงุช ุณูุงููุฉ
    current_data = get_daily_astronomical_data(datetime.utcnow())

    # ุชูููู ูุฏู ููุงุกูุฉ ุงูููู ุงูุญุงูู ููุฐู ุงูุชูููุฉ
    suitability_score = 5
    suitability_notes = []

    # ูุญุต ูุฑุญูุฉ ุงูููุฑ ุฅุฐุง ูุงูุช ุงูุชูููุฉ ุชุชุทูุจูุง
    if "lunar_phase" in technique:
        required_phase = technique["lunar_phase"]
        if required_phase == "ุงูููุฑ ุงููุชุฒุงูุฏ" and current_data.moon_phase.is_waxing:
            suitability_score += 3
            suitability_notes.append("ุงูููุฑ ูุชุฒุงูุฏ - ููุงุณุจ ููุฐู ุงูุชูููุฉ")
        elif required_phase == "ุงูููุฑ ุงููุชูุงูุต" and not current_data.moon_phase.is_waxing:
            suitability_score += 3
            suitability_notes.append("ุงูููุฑ ูุชูุงูุต - ููุงุณุจ ููุฐู ุงูุชูููุฉ")
        elif required_phase != "ุฃู ูุฑุญูุฉ":
            suitability_score -= 1
            suitability_notes.append(f"ุงูุฃูุถู ุชุทุจูููุง ูู: {required_phase}")

    # ูุญุต ุงูููุฒูุฉ ุงูููุฑูุฉ
    mansion_appropriate = False
    if category == "plowing" and current_data.lunar_mansion.farming_score >= 6 or category == "irrigation" and current_data.lunar_mansion.element == "ูุงุก" or category == "fertilization" and current_data.moon_phase.is_waxing:
        mansion_appropriate = True

    if mansion_appropriate:
        suitability_score += 2
        suitability_notes.append(f"ุงูููุฒูุฉ ุงูุญุงููุฉ ({current_data.lunar_mansion.name}) ููุงุณุจุฉ")

    suitability_score = max(1, min(10, suitability_score))

    return {
        "technique": technique,
        "category": category,
        "technique_id": technique_id,
        "current_day_suitability": {
            "score": suitability_score,
            "date": datetime.utcnow().strftime("%Y-%m-%d"),
            "lunar_mansion": current_data.lunar_mansion.name,
            "moon_phase": current_data.moon_phase.name,
            "notes": suitability_notes,
            "recommendation": (
                "ููุชุงุฒ - ุทุจู ูุฐู ุงูุชูููุฉ ุงูููู"
                if suitability_score >= 8
                else (
                    "ุฌูุฏ - ูููู ุงูุชุทุจูู"
                    if suitability_score >= 6
                    else "ูุชูุณุท - ุงูุชุธุฑ ููุชุงู ุฃูุถู"
                    if suitability_score >= 4
                    else "ุบูุฑ ููุงุณุจ ุงูููู"
                )
            ),
        },
        "heritage_note": "ูุฐู ุงูุชูููุงุช ูุฑุซูุง ุงููุฒุงุฑุนูู ุงููููููู ุฌููุงู ุจุนุฏ ุฌูู ูุขูุงู ุงูุณููู",
    }


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ููุทุฉ ุงูุฏุฎูู
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

if __name__ == "__main__":
    import uvicorn

    uvicorn.run(app, host="0.0.0.0", port=8111)
