# SAHOOL User Service Environment Variables
# خدمة إدارة المستخدمين - متغيرات البيئة

# Server Configuration
PORT=3020
NODE_ENV=development

# Database Configuration
DATABASE_URL="postgresql://user:password@localhost:5432/sahool_users?schema=public"

# CORS Configuration (comma-separated origins)
CORS_ALLOWED_ORIGINS="https://sahool.com,https://app.sahool.com,https://admin.sahool.com,http://localhost:3000,http://localhost:8080"

# JWT Configuration
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="1h"
JWT_REFRESH_SECRET="your-super-secret-refresh-key-change-this-in-production"
JWT_REFRESH_EXPIRES_IN="7d"

# Password Hashing
BCRYPT_ROUNDS=10

# Session Configuration
SESSION_DURATION_HOURS=24
REFRESH_TOKEN_DURATION_DAYS=7

# Email Service (if needed)
SMTP_HOST="smtp.example.com"
SMTP_PORT=587
SMTP_USER="noreply@sahool.com"
SMTP_PASSWORD="your-smtp-password"
EMAIL_FROM="SAHOOL <noreply@sahool.com>"

# SMS Service (if needed)
SMS_PROVIDER="twilio"
SMS_API_KEY="your-sms-api-key"
SMS_FROM_NUMBER="+966500000000"

# Logging
LOG_LEVEL="info"

# Rate Limiting
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# Feature Flags
ENABLE_EMAIL_VERIFICATION=true
ENABLE_PHONE_VERIFICATION=true
ENABLE_TWO_FACTOR_AUTH=false

# ==========================================
# Field-Level Encryption Configuration
# ==========================================

# Primary Encryption Key (Required)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# This should be 64 hex characters (32 bytes for AES-256)
ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000

# Deterministic Encryption Key (Required for searchable fields like nationalId, phone)
# Generate with same command as above, but use a DIFFERENT key
# This should be 64 hex characters (32 bytes for AES-256)
DETERMINISTIC_ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000

# HMAC Secret Key (Required for data integrity verification)
# Can be any strong random string
HMAC_SECRET=your-hmac-secret-key-change-me-in-production

# Previous Encryption Key (Optional - for key rotation)
# When rotating keys, put the old key here temporarily
# PREVIOUS_ENCRYPTION_KEY=old-key-goes-here

# Crypto Debug Mode (Optional - set to true for encryption debugging)
CRYPTO_DEBUG=false
