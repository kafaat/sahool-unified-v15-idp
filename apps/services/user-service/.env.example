# SAHOOL User Service Environment Variables

# Database Configuration
# Use PgBouncer for connection pooling in production
# High traffic service - configured for 10 concurrent connections
DATABASE_URL="postgresql://user:password@pgbouncer:6432/sahool_users?schema=public&sslmode=require&pgbouncer=true&connection_limit=10&pool_timeout=20&connect_timeout=10&statement_timeout=30000"

# Direct connection for migrations (bypasses PgBouncer)
DATABASE_URL_DIRECT="postgresql://user:password@postgres:5432/sahool_users?schema=public&sslmode=require&connect_timeout=10&keepalives=1&keepalives_idle=30&keepalives_interval=10&keepalives_count=5"

# JWT Configuration
JWT_SECRET_KEY="your-super-secret-jwt-key-min-32-chars"
JWT_ALGORITHM="HS256"
JWT_ACCESS_TOKEN_EXPIRE_MINUTES="30"
JWT_REFRESH_TOKEN_EXPIRE_DAYS="7"
JWT_ISSUER="sahool-platform"
JWT_AUDIENCE="sahool-api"

# For RS256 algorithm (optional)
# JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----"
# JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"

# Redis Configuration (for token revocation)
REDIS_URL="redis://localhost:6379"
# OR use individual settings:
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_DB="0"
REDIS_PASSWORD=""

# Token Revocation
TOKEN_REVOCATION_ENABLED="true"

# Server Configuration
PORT="3025"
NODE_ENV="development"

# CORS
CORS_ALLOWED_ORIGINS="https://sahool.com,https://app.sahool.com,https://admin.sahool.com,http://localhost:3000"

# Rate Limiting
RATE_LIMIT_ENABLED="true"
RATE_LIMIT_REQUESTS="100"
RATE_LIMIT_WINDOW_SECONDS="60"
