# ═══════════════════════════════════════════════════════════════════════════════
# SAHOOL Web Application - Environment Variables
# نظام ساحول الزراعي - متغيرات البيئة
# ═══════════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════════
# API Configuration (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════════

# Base URL for backend API endpoints
# Used by all API clients across the application
# Development: http://localhost:8000
# Production: https://api.sahool.io
NEXT_PUBLIC_API_URL=http://localhost:8000

# API URL for server-side rewrites (next.config.js)
# This can be different from NEXT_PUBLIC_API_URL for internal routing
# If not set, defaults to http://localhost:8000
API_URL=http://localhost:8000

# ═══════════════════════════════════════════════════════════════════════════════
# WebSocket Configuration (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════════

# WebSocket server URL for real-time features
# Used for: IoT updates, field chat, notifications, live alerts
# Development: ws://localhost:8081
# Production: wss://ws.sahool.io
NEXT_PUBLIC_WS_URL=ws://localhost:8081

# ═══════════════════════════════════════════════════════════════════════════════
# Authentication & Security (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════════

# WARNING: CHANGE THESE IN PRODUCTION!
# JWT Secret Key - Used for token verification in route guards
# MUST be at least 32 characters long
# Generate with: openssl rand -base64 32
JWT_SECRET_KEY=your-secret-key-min-32-chars-change-in-production

# JWT Issuer - Identifies who issued the token
# Should match your authentication service
JWT_ISSUER=sahool.io

# JWT Audience - Identifies intended token recipients
# Should be unique for web application
JWT_AUDIENCE=sahool-web

# NextAuth Configuration (if using NextAuth.js)
# Authentication domain
NEXT_PUBLIC_AUTH_DOMAIN=auth.sahool.io

# NextAuth Secret - Used for session encryption
# MUST be different from JWT_SECRET_KEY
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-change-in-production

# NextAuth URL - Application base URL
# Development: http://localhost:3000
# Production: https://app.sahool.io
NEXTAUTH_URL=http://localhost:3000

# ═══════════════════════════════════════════════════════════════════════════════
# Maps & Geolocation (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════════

# Mapbox Access Token for field mapping and satellite imagery
# Get your token from: https://account.mapbox.com/access-tokens/
# WARNING: Use a restricted token in production with URL restrictions
NEXT_PUBLIC_MAPBOX_TOKEN=pk.your-mapbox-token-here

# ═══════════════════════════════════════════════════════════════════════════════
# Feature Flags (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# Enable IoT sensor integration
NEXT_PUBLIC_ENABLE_IOT=true

# Enable AI-powered crop analysis
NEXT_PUBLIC_ENABLE_AI_ANALYSIS=true

# Enable satellite imagery features
NEXT_PUBLIC_ENABLE_SATELLITE=true

# Enable field chat feature
NEXT_PUBLIC_ENABLE_FIELD_CHAT=true

# Enable equipment tracking
NEXT_PUBLIC_ENABLE_EQUIPMENT_TRACKING=true

# ═══════════════════════════════════════════════════════════════════════════════
# Development Configuration (OPTIONAL - Development Only)
# ═══════════════════════════════════════════════════════════════════════════════

# Port numbers for local development services
# Used in CSP configuration for development environment
DEV_API_PORT=8000
DEV_WS_PORT=8081
DEV_WEB_PORT=3000
DEV_ADMIN_PORT=3001

# Enable CSP Report-Only mode (development only)
# Set to 'true' to report violations without blocking
CSP_REPORT_ONLY=false

# ═══════════════════════════════════════════════════════════════════════════════
# Rate Limiting & Caching (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# Redis URL for distributed rate limiting
# If not set, falls back to in-memory rate limiting
# Single instance: redis://localhost:6379
# With auth: redis://user:password@host:port
# TLS: rediss://user:password@host:port
# Leave empty for development (uses in-memory storage)
REDIS_URL=

# ═══════════════════════════════════════════════════════════════════════════════
# Monitoring & Analytics (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# Google Analytics Tracking ID
# Format: G-XXXXXXXXXX (GA4) or UA-XXXXXXXXX-X (Universal Analytics)
NEXT_PUBLIC_GA_TRACKING_ID=

# Sentry DSN for error tracking and monitoring
# Get from: https://sentry.io/settings/projects/your-project/keys/
# Leave empty to disable Sentry
SENTRY_DSN=

# ═══════════════════════════════════════════════════════════════════════════════
# Multi-tenancy Configuration (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# Default tenant ID for demo/development
# Used when testing multi-tenant features
NEXT_PUBLIC_DEFAULT_TENANT_ID=tenant_1

# ═══════════════════════════════════════════════════════════════════════════════
# Build & Deployment (OPTIONAL)
# ═══════════════════════════════════════════════════════════════════════════════

# Enable standalone output for Docker deployments
# Set to 'true' when building Docker images
DOCKER_BUILD=false

# Node environment (automatically set by Next.js)
# Values: development | production | test
NODE_ENV=development

# ═══════════════════════════════════════════════════════════════════════════════
# E2E Testing Configuration (OPTIONAL - Testing Only)
# ═══════════════════════════════════════════════════════════════════════════════

# WARNING: For testing purposes only. DO NOT use in production.

# Playwright base URL
PLAYWRIGHT_BASE_URL=http://localhost:3000

# Test user credentials
TEST_USER_EMAIL=test@sahool.com
TEST_USER_PASSWORD=Test@123456

# Admin user credentials for E2E tests
ADMIN_USER_EMAIL=admin@sahool.com
ADMIN_USER_PASSWORD=Admin@123456

# Advisor user credentials for E2E tests
ADVISOR_USER_EMAIL=advisor@sahool.com
ADVISOR_USER_PASSWORD=Advisor@123456

# ═══════════════════════════════════════════════════════════════════════════════
# Mock Server Configuration (OPTIONAL - Development Only)
# ═══════════════════════════════════════════════════════════════════════════════

# Port for mock API server (mock-server.js)
PORT=8000

# Port for mock WebSocket server (mock-ws-server.js)
WS_PORT=8081

# Enable CI mode for automated testing
CI=false

# ═══════════════════════════════════════════════════════════════════════════════
# SECURITY NOTES & BEST PRACTICES
# ═══════════════════════════════════════════════════════════════════════════════
#
# 1. NEVER commit .env files to version control
# 2. ALWAYS change default secrets in production
# 3. Use environment-specific .env files:
#    - .env.local (local development - gitignored)
#    - .env.development (development defaults)
#    - .env.production (production - use secrets management)
# 4. Restrict NEXT_PUBLIC_* variables to non-sensitive data only
#    (these are exposed to the browser)
# 5. Use HTTPS/WSS protocols in production
# 6. Rotate secrets regularly (every 90 days recommended)
# 7. Use secret management services in production:
#    - AWS Secrets Manager
#    - HashiCorp Vault
#    - Azure Key Vault
# 8. Enable rate limiting in production (configure REDIS_URL)
# 9. Monitor error tracking (configure SENTRY_DSN)
# 10. Use restricted API tokens (Mapbox, analytics) with domain whitelisting
#
# ═══════════════════════════════════════════════════════════════════════════════
