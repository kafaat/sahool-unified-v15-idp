# Equipment Usage Analytics Component

**Ù…ÙƒÙˆÙ† ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¹Ø¯Ø§Øª**

## Overview / Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

The `EquipmentUsageAnalytics` component provides comprehensive analytics and insights for agricultural equipment, similar to John Deere Operations Center. It tracks operating hours, fuel consumption, utilization rates, costs, and maintenance status.

ÙŠÙˆÙØ± Ù…ÙƒÙˆÙ† `EquipmentUsageAnalytics` ØªØ­Ù„ÙŠÙ„Ø§Øª ÙˆØ±Ø¤Ù‰ Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ©ØŒ Ù…Ø´Ø§Ø¨Ù‡Ø© Ù„Ù…Ø±ÙƒØ² Ø¹Ù…Ù„ÙŠØ§Øª Ø¬ÙˆÙ† Ø¯ÙŠØ±ÙŠ. ÙŠØªØªØ¨Ø¹ Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ØŒ ÙˆØ§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙˆÙ‚ÙˆØ¯ØŒ ÙˆÙ…Ø¹Ø¯Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…ØŒ ÙˆØ§Ù„ØªÙƒØ§Ù„ÙŠÙØŒ ÙˆØ­Ø§Ù„Ø© Ø§Ù„ØµÙŠØ§Ù†Ø©.

## Features / Ø§Ù„Ù…ÙŠØ²Ø§Øª

### 1. Operating Hours Chart / Ù…Ø®Ø·Ø· Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„
- **Daily, Weekly, Monthly views** - Ø¹Ø±Ø¶ ÙŠÙˆÙ…ÙŠØŒ Ø£Ø³Ø¨ÙˆØ¹ÙŠØŒ Ø´Ù‡Ø±ÙŠ
- **Interactive bar charts** - Ù…Ø®Ø·Ø·Ø§Øª Ø´Ø±ÙŠØ·ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ©
- **Statistics summary** - Ù…Ù„Ø®Øµ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª (Total, Average, Peak)

### 2. Fuel Consumption Metrics / Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙˆÙ‚ÙˆØ¯
- **Current fuel level gauge** - Ù…Ù‚ÙŠØ§Ø³ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ
- **Consumption tracking** - ØªØªØ¨Ø¹ Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ (Daily/Weekly/Monthly)
- **Efficiency trends** - Ø§ØªØ¬Ø§Ù‡Ø§Øª Ø§Ù„ÙƒÙØ§Ø¡Ø© (Liters per hour)
- **Cost calculations** - Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªÙƒÙ„ÙØ©
- **Days remaining estimate** - ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©

### 3. Equipment Utilization Rate / Ù…Ø¹Ø¯Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¹Ø¯Ø§Øª
- **Percentage-based metrics** - Ù…Ù‚Ø§ÙŠÙŠØ³ Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©
- **Active vs Available hours** - Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„Ù…ØªØ§Ø­Ø©
- **Trend indicators** - Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø§ØªØ¬Ø§Ù‡ (Up/Down/Stable)
- **Performance comparison** - Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡

### 4. Cost Per Hour Calculations / Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªÙƒÙ„ÙØ© ÙÙŠ Ø§Ù„Ø³Ø§Ø¹Ø©
- **Real-time cost tracking** - ØªØªØ¨Ø¹ Ø§Ù„ØªÙƒÙ„ÙØ© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ
- **Arabic currency format** - ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø±ÙŠØ§Ù„)
- **Comparative analysis** - ØªØ­Ù„ÙŠÙ„ Ù…Ù‚Ø§Ø±Ù†

### 5. Downtime Analysis / ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙˆÙ‚Ù
- **Total downtime tracking** - ØªØªØ¨Ø¹ Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆÙ‚Øª Ø§Ù„ØªÙˆÙ‚Ù
- **Breakdown by reasons** - Ø§Ù„ØªÙØµÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨
- **Visual percentage bars** - Ø£Ø´Ø±Ø·Ø© Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ø§Ù„Ù…Ø±Ø¦ÙŠØ©
- **Last incident details** - ØªÙØ§ØµÙŠÙ„ Ø¢Ø®Ø± Ø­Ø§Ø¯Ø«Ø©

### 6. Maintenance Status Indicator / Ù…Ø¤Ø´Ø± Ø­Ø§Ù„Ø© Ø§Ù„ØµÙŠØ§Ù†Ø©
- **Color-coded status** - Ø­Ø§Ù„Ø© Ù…Ø±Ù…Ø²Ø© Ø¨Ø§Ù„Ø£Ù„ÙˆØ§Ù†:
  - ğŸŸ¢ **Good (Ø¬ÙŠØ¯)** - Maintenance up to date
  - ğŸŸ¡ **Warning (ØªØ­Ø°ÙŠØ±)** - Maintenance due soon
  - ğŸ”´ **Critical (Ø­Ø±Ø¬)** - Urgent maintenance required
- **Animated indicators** - Ù…Ø¤Ø´Ø±Ø§Øª Ù…ØªØ­Ø±ÙƒØ©
- **Bilingual descriptions** - Ø£ÙˆØµØ§Ù Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„Ù„ØºØ©

### 7. Equipment Comparison Table / Ø¬Ø¯ÙˆÙ„ Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù…Ø¹Ø¯Ø§Øª
- **Side-by-side comparison** - Ù…Ù‚Ø§Ø±Ù†Ø© Ø¬Ù†Ø¨Ù‹Ø§ Ø¥Ù„Ù‰ Ø¬Ù†Ø¨
- **Multiple metrics** - Ù…Ù‚Ø§ÙŠÙŠØ³ Ù…ØªØ¹Ø¯Ø¯Ø©
- **Performance rankings** - ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
- **Summary statistics** - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…Ù„Ø®ØµØ©

### 8. Arabic RTL Support / Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø±
- **Full RTL layout support** - Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„ØªØ®Ø·ÙŠØ· RTL
- **Bilingual labels** - ØªØ³Ù…ÙŠØ§Øª Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„Ù„ØºØ© (Arabic + English)
- **Arabic number formatting** - ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
- **Yemen locale (ar-YE)** - Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„ÙŠÙ…Ù†ÙŠØ©

## Installation / Ø§Ù„ØªØ«Ø¨ÙŠØª

The component is already integrated into the SAHOOL equipment feature. Simply import it:

```typescript
import { EquipmentUsageAnalytics } from '@/features/equipment';
```

## Props / Ø§Ù„Ø®ØµØ§Ø¦Øµ

```typescript
interface EquipmentUsageAnalyticsProps {
  equipmentId?: string;           // Optional: Specific equipment ID to display
  showComparison?: boolean;       // Optional: Show comparison table (default: true)
  initialTimeRange?: TimeRange;   // Optional: 'daily' | 'weekly' | 'monthly' (default: 'daily')
}
```

## Usage Examples / Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### Basic Usage / Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ

```tsx
import { EquipmentUsageAnalytics } from '@/features/equipment';

export function EquipmentAnalyticsPage() {
  return (
    <EquipmentUsageAnalytics equipmentId="eq-001" />
  );
}
```

### With Custom Settings / Ù…Ø¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø®ØµØµØ©

```tsx
<EquipmentUsageAnalytics
  equipmentId="eq-002"
  showComparison={true}
  initialTimeRange="weekly"
/>
```

### Without Comparison / Ø¨Ø¯ÙˆÙ† Ù…Ù‚Ø§Ø±Ù†Ø©

```tsx
<EquipmentUsageAnalytics
  equipmentId="eq-003"
  showComparison={false}
/>
```

## TypeScript Interfaces / ÙˆØ§Ø¬Ù‡Ø§Øª TypeScript

### EquipmentUsage

```typescript
interface EquipmentUsage {
  equipmentId: string;
  equipmentName: string;
  equipmentNameAr: string;
  type: 'tractor' | 'harvester' | 'irrigation_system' | 'sprayer' | 'planter' | 'other';
  operatingHours: {
    daily: number[];
    weekly: number[];
    monthly: number[];
  };
  fuelConsumption: FuelMetrics;
  utilization: UtilizationData;
  costPerHour: number;
  downtime: DowntimeData;
  maintenanceStatus: MaintenanceStatus;
  location?: string;
  lastUpdated: string;
}
```

### FuelMetrics

```typescript
interface FuelMetrics {
  currentLevel: number;           // Percentage (0-100)
  consumption: {
    daily: number;                // Liters
    weekly: number;
    monthly: number;
  };
  efficiency: {
    litersPerHour: number;
    trend: 'up' | 'down' | 'stable';
    changePercentage: number;
  };
  totalCost: number;             // In YER (Yemeni Rial)
  estimatedDaysRemaining: number;
}
```

### UtilizationData

```typescript
interface UtilizationData {
  rate: number;                  // Percentage (0-100)
  activeHours: number;
  totalAvailableHours: number;
  trend: 'up' | 'down' | 'stable';
  changePercentage: number;
}
```

### DowntimeData

```typescript
interface DowntimeData {
  totalHours: number;
  reasons: Array<{
    reason: string;
    reasonAr: string;
    hours: number;
    percentage: number;
  }>;
  lastIncident: {
    date: string;
    reason: string;
    reasonAr: string;
    duration: number;
  };
}
```

### MaintenanceStatus

```typescript
type MaintenanceStatus = 'good' | 'warning' | 'critical';
```

## Mock Data / Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©

The component includes comprehensive mock data for three pieces of equipment:

1. **John Deere 8R Series Tractor** (Ø¬Ø±Ø§Ø± Ø¬ÙˆÙ† Ø¯ÙŠØ±ÙŠ)
2. **Case IH Axial-Flow Harvester** (Ø­ØµØ§Ø¯Ø© ÙƒÙŠØ³ IH)
3. **Valley Pivot Irrigation System** (Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙŠ Ø§Ù„Ù…Ø­ÙˆØ±ÙŠ)

This mock data demonstrates all features and can be replaced with real API data.

## Styling / Ø§Ù„ØªØµÙ…ÙŠÙ…

The component uses **Tailwind CSS** with responsive design:

- **Mobile-first approach** - Ù†Ù‡Ø¬ Ø§Ù„Ø¬ÙˆØ§Ù„ Ø£ÙˆÙ„Ø§Ù‹
- **Grid layouts** - ØªØ®Ø·ÙŠØ·Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©
- **Responsive breakpoints** - Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙˆÙ‚Ù Ø§Ù„Ù…Ø³ØªØ¬ÙŠØ¨Ø© (md, lg)
- **Color-coded metrics** - Ù…Ù‚Ø§ÙŠÙŠØ³ Ù…Ø±Ù…Ø²Ø© Ø¨Ø§Ù„Ø£Ù„ÙˆØ§Ù†
- **Smooth transitions** - Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª Ø³Ù„Ø³Ø©

### Color Scheme / Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù†

- **Blue** - Operating hours, Utilization
- **Green** - Fuel efficiency, Good status
- **Orange** - Costs, Downtime
- **Yellow** - Warning status
- **Red** - Critical status, Alerts

## Icons / Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª

Uses **lucide-react** icons (verified to work):

- `Clock` - Operating hours
- `TrendingUp` - Upward trends
- `TrendingDown` - Downward trends
- `AlertCircle` - Warnings and critical status
- `Check` - Good status
- `RefreshCw` - Refresh button
- `Settings` - Maintenance warning
- `MapPin` - Location

## States / Ø§Ù„Ø­Ø§Ù„Ø§Øª

### Loading State / Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„

Component handles loading state with animated spinner:

```tsx
{isLoading && (
  <RefreshCw className="w-5 h-5 animate-spin" />
)}
```

### Error State / Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£

Displays bilingual error message when equipment not found:

```tsx
<div className="bg-red-50 border border-red-200 rounded-lg p-6">
  <AlertCircle className="w-12 h-12 text-red-600" />
  <p className="text-red-800">Ù…Ø¹Ø¯Ø§Øª ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©</p>
  <p className="text-red-600">Equipment not found</p>
</div>
```

## Responsive Design / Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ø³ØªØ¬ÙŠØ¨

- **Mobile (< 768px)**: Single column layout
- **Tablet (768px+)**: 2-column grid
- **Desktop (1024px+)**: 4-column grid for metrics

## Integration with API / Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ API

To integrate with real API data, update the component to use a custom hook:

```typescript
// In hooks/useEquipment.ts
export function useEquipmentUsageAnalytics(equipmentId: string) {
  return useQuery({
    queryKey: equipmentKeys.usage(equipmentId),
    queryFn: () => equipmentApi.getUsageAnalytics(equipmentId),
  });
}

// In api.ts
getUsageAnalytics: async (equipmentId: string) => {
  const res = await fetch(`${API_BASE_URL}/equipment/${equipmentId}/analytics`);
  if (!res.ok) throw new Error('Failed to fetch analytics');
  return res.json();
}
```

## Performance Optimization / ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡

The component uses React optimization techniques:

- **useMemo** for expensive calculations
- **Conditional rendering** for large lists
- **Efficient re-renders** with proper dependencies
- **Lazy loading** support (can be wrapped in Suspense)

## Accessibility / Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„

- **data-testid** attributes for testing
- **Semantic HTML** structure
- **Keyboard navigation** support
- **Screen reader friendly** labels
- **Color contrast** meets WCAG standards

## Testing / Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

Test IDs included for easy testing:

```typescript
// Equipment Analytics
data-testid="equipment-usage-analytics"
data-testid="analytics-title-ar"
data-testid="analytics-title-en"
data-testid="equipment-selector"
data-testid="time-range-daily"
data-testid="refresh-button"

// Metrics
data-testid="metric-card-utilization-rate"
data-testid="metric-card-fuel-efficiency"
data-testid="maintenance-status-card"

// Charts & Tables
data-testid="operating-hours-chart"
data-testid="fuel-consumption-metrics"
data-testid="downtime-analysis"
data-testid="equipment-comparison-table"
```

## Browser Support / Ø¯Ø¹Ù… Ø§Ù„Ù…ØªØµÙØ­Ø§Øª

- âœ… Chrome 90+
- âœ… Firefox 88+
- âœ… Safari 14+
- âœ… Edge 90+

## Future Enhancements / Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©

Potential features for future versions:

1. **Export to PDF/Excel** - ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ PDF/Excel
2. **Custom date range selection** - Ø§Ø®ØªÙŠØ§Ø± Ù†Ø·Ø§Ù‚ ØªØ§Ø±ÙŠØ® Ù…Ø®ØµØµ
3. **Real-time updates** - ØªØ­Ø¯ÙŠØ«Ø§Øª ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ
4. **Alerts and notifications** - Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
5. **Advanced filtering** - ØªØµÙÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©
6. **Machine learning predictions** - ØªÙ†Ø¨Ø¤Ø§Øª Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ

## License / Ø§Ù„ØªØ±Ø®ÙŠØµ

Part of the SAHOOL Unified Platform - Yemen Agricultural Management System

## Support / Ø§Ù„Ø¯Ø¹Ù…

For questions or issues, contact the SAHOOL development team.

---

**Created with â¤ï¸ for Yemen's Agricultural Future**
**ØµÙÙ†Ø¹ Ø¨Ø­Ø¨ Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ Ø§Ù„ÙŠÙ…Ù† Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠ**
