# Production values for SAHOOL Vector RAG Service
# إعدادات الإنتاج

global:
  namespace: sahool-ai
  environment: production

vectorService:
  replicas: 3

  resources:
    requests:
      cpu: "1000m"
      memory: "2Gi"
    limits:
      cpu: "4000m"
      memory: "8Gi"

  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 20
    targetCPUUtilizationPercentage: 60
    targetMemoryUtilizationPercentage: 70

  pdb:
    minAvailable: 2

milvus:
  enabled: true

  cluster:
    enabled: true  # Production: use cluster mode

  standalone:
    enabled: false

  # Production cluster settings
  queryNode:
    replicas: 3
    resources:
      requests:
        cpu: "2000m"
        memory: "8Gi"
      limits:
        cpu: "8000m"
        memory: "32Gi"

  dataNode:
    replicas: 2
    resources:
      requests:
        cpu: "1000m"
        memory: "4Gi"

  indexNode:
    replicas: 2
    resources:
      requests:
        cpu: "2000m"
        memory: "8Gi"

  proxy:
    replicas: 2
    resources:
      requests:
        cpu: "500m"
        memory: "2Gi"

  # External etcd for production
  etcd:
    enabled: true
    replicaCount: 3
    persistence:
      enabled: true
      size: 20Gi

  # External minio for production
  minio:
    enabled: true
    mode: distributed
    replicas: 4
    persistence:
      enabled: true
      size: 200Gi

  persistence:
    enabled: true
    storageClass: "premium-rwo"  # Adjust for your cloud provider
    size: 500Gi

networkPolicy:
  enabled: true
  allowedNamespaces:
    - sahool-ai
    - sahool-services
    - sahool-api

monitoring:
  enabled: true
  serviceMonitor:
    enabled: true
    interval: 15s
