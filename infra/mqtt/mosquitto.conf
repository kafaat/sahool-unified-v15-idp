<<<<<<< HEAD
# SAHOOL MQTT Broker Configuration
# Eclipse Mosquitto

# Listener for MQTT protocol
listener 1883
protocol mqtt

# Listener for WebSocket (for web clients)
listener 9001
protocol websockets

# Allow anonymous connections (for development)
# In production, configure authentication
allow_anonymous true

# Persistence
persistence true
persistence_location /mosquitto/data/

# Logging
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout
log_type all

# Connection settings
max_connections -1
max_inflight_messages 20
max_queued_messages 1000

# Keep alive
max_keepalive 120

# Message size limit (1MB)
message_size_limit 1048576
=======
# Mosquitto Configuration for SAHOOL IoT Gateway
# إعدادات Mosquitto لبوابة إنترنت الأشياء سهول

# ═══════════════════════════════════════════════════════════════════════════════
# SECURITY CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# SECURITY: Disable anonymous access
# In production, all clients MUST authenticate
allow_anonymous false

# Password file for authentication (created via: mosquitto_passwd -c /mosquitto/config/passwd sahool_iot)
# Mount this file in docker-compose or create at container startup
password_file /mosquitto/config/passwd

# ═══════════════════════════════════════════════════════════════════════════════
# LISTENER CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# MQTT listener (port 1883)
listener 1883
protocol mqtt

# WebSocket listener for web clients (port 9001)
listener 9001
protocol websockets

# ═══════════════════════════════════════════════════════════════════════════════
# PERSISTENCE
# ═══════════════════════════════════════════════════════════════════════════════

persistence true
persistence_location /mosquitto/data/

# ═══════════════════════════════════════════════════════════════════════════════
# LOGGING
# ═══════════════════════════════════════════════════════════════════════════════

log_dest stdout
log_type error
log_type warning
log_type notice
# log_type information  # Disabled in production for performance

# ═══════════════════════════════════════════════════════════════════════════════
# CONNECTION & MESSAGE LIMITS
# ═══════════════════════════════════════════════════════════════════════════════

max_connections 1000
max_inflight_messages 20
max_packet_size 1048576
message_size_limit 1048576

# ═══════════════════════════════════════════════════════════════════════════════
# ACL (Access Control List) - Optional, for fine-grained topic permissions
# ═══════════════════════════════════════════════════════════════════════════════

# Uncomment to enable ACL-based topic permissions
# acl_file /mosquitto/config/acl
>>>>>>> f531c968f914f7910e421910ac9e4be3e6bbcdfc
