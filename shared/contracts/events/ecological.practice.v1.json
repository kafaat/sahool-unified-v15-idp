{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "events.ecological.practice.v1",
  "title": "EcologicalPracticeV1",
  "description": "Event emitted when an ecological practice is implemented on a farm | حدث يُصدر عند تنفيذ ممارسة إيكولوجية في مزرعة",
  "type": "object",
  "additionalProperties": false,
  "required": ["practice_record_id", "farm_id", "tenant_id", "practice_id", "practice_name", "status", "created_at"],
  "properties": {
    "practice_record_id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier of the practice record | المعرف الفريد لسجل الممارسة"
    },
    "farm_id": {
      "type": "string",
      "format": "uuid",
      "description": "Farm where practice is implemented | المزرعة حيث تُنفذ الممارسة"
    },
    "field_id": {
      "type": "string",
      "format": "uuid",
      "description": "Optional specific field | الحقل المحدد (اختياري)"
    },
    "tenant_id": {
      "type": "string",
      "format": "uuid",
      "description": "Tenant that owns the farm | المستأجر الذي يملك المزرعة"
    },
    "practice_id": {
      "type": "string",
      "minLength": 1,
      "maxLength": 100,
      "description": "Practice identifier from knowledge base | معرف الممارسة من قاعدة المعرفة"
    },
    "practice_name": {
      "type": "string",
      "minLength": 1,
      "maxLength": 255,
      "description": "Practice name in English | اسم الممارسة بالإنجليزية"
    },
    "practice_name_ar": {
      "type": "string",
      "maxLength": 255,
      "description": "Practice name in Arabic | اسم الممارسة بالعربية"
    },
    "category": {
      "type": "string",
      "enum": ["soil", "water", "biodiversity", "pest_management", "system_design", "resource_cycling"],
      "description": "Practice category | فئة الممارسة"
    },
    "status": {
      "type": "string",
      "enum": ["planned", "in_progress", "implemented", "paused", "abandoned"],
      "description": "Implementation status | حالة التنفيذ"
    },
    "implementation_date": {
      "type": "string",
      "format": "date",
      "description": "Date when practice was implemented | تاريخ تنفيذ الممارسة"
    },
    "globalgap_control_points": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^(CB|AF|FV)\\.\\d+\\.\\d+$"
      },
      "description": "GlobalGAP control points fulfilled | نقاط تحكم GlobalGAP المحققة"
    },
    "effectiveness_rating": {
      "type": "integer",
      "minimum": 1,
      "maximum": 5,
      "description": "Effectiveness rating (1-5) | تقييم الفعالية"
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp when the event was created | وقت إنشاء الحدث"
    }
  }
}
